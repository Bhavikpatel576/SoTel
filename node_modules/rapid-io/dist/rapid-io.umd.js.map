{"version":3,"file":"rapid-io.umd.js","sources":["../node_modules/shortid/lib/random/random-from-seed.js","../node_modules/shortid/lib/alphabet.js","../node_modules/shortid/lib/random/random-byte-browser.js","../node_modules/shortid/lib/encode.js","../node_modules/shortid/lib/decode.js","../node_modules/shortid/lib/build.js","../node_modules/shortid/lib/is-valid.js","../node_modules/process-es6/browser.js","../node_modules/ms/index.js","../node_modules/backo/index.js","../node_modules/rollup-plugin-node-builtins/src/es6/punycode.js","../node_modules/buffer-es6/base64.js","../node_modules/buffer-es6/ieee754.js","../node_modules/buffer-es6/index.js","../node_modules/rollup-plugin-node-builtins/src/es6/util.js","../node_modules/rollup-plugin-node-builtins/src/es6/qs.js","../node_modules/rollup-plugin-node-builtins/src/es6/url.js","../node_modules/@rapid-io/protocol/node_modules/ajv/lib/compile/util.js","../node_modules/@rapid-io/protocol/node_modules/ajv/lib/compile/schema_obj.js","../node_modules/@rapid-io/protocol/node_modules/ajv/lib/compile/resolve.js","../node_modules/@rapid-io/protocol/node_modules/ajv/lib/compile/error_classes.js","../node_modules/jsonify/lib/stringify.js","../node_modules/co/index.js","../node_modules/@rapid-io/protocol/node_modules/ajv/lib/compile/index.js","../node_modules/@rapid-io/protocol/node_modules/ajv/lib/compile/formats.js","../node_modules/@rapid-io/protocol/node_modules/ajv/lib/compile/async.js","../node_modules/@rapid-io/protocol/node_modules/ajv/lib/keyword.js","../node_modules/@rapid-io/protocol/node_modules/ajv/lib/ajv.js","../src/subscription.js","../src/utils/is-empty.js","../src/utils/check-id.js","../node_modules/base-64/base64.js","../node_modules/component-emitter/index.js","../node_modules/shortid/lib/index.js","../node_modules/rollup-plugin-node-globals/src/global.js","../node_modules/debug/src/debug.js","../node_modules/debug/src/browser.js","../node_modules/is-plain-obj/index.js","../node_modules/sort-keys/index.js","../node_modules/buffer-es6/isArray.js","../node_modules/rollup-plugin-node-builtins/src/es6/inherits.js","../node_modules/@rapid-io/protocol/node_modules/ajv/lib/compile/equal.js","../node_modules/@rapid-io/protocol/node_modules/ajv/lib/compile/ucs2length.js","../node_modules/jsonify/lib/parse.js","../node_modules/json-stable-stringify/index.js","../node_modules/@rapid-io/protocol/node_modules/ajv/lib/dotjs/validate.js","../node_modules/@rapid-io/protocol/node_modules/ajv/lib/cache.js","../node_modules/@rapid-io/protocol/node_modules/ajv/lib/dotjs/_limit.js","../node_modules/@rapid-io/protocol/node_modules/ajv/lib/dotjs/_limitItems.js","../node_modules/@rapid-io/protocol/node_modules/ajv/lib/dotjs/_limitLength.js","../node_modules/@rapid-io/protocol/node_modules/ajv/lib/dotjs/_limitProperties.js","../node_modules/@rapid-io/protocol/node_modules/ajv/lib/dotjs/ref.js","../node_modules/@rapid-io/protocol/node_modules/ajv/lib/dotjs/allOf.js","../node_modules/@rapid-io/protocol/node_modules/ajv/lib/dotjs/anyOf.js","../node_modules/@rapid-io/protocol/node_modules/ajv/lib/dotjs/const.js","../node_modules/@rapid-io/protocol/node_modules/ajv/lib/dotjs/contains.js","../node_modules/@rapid-io/protocol/node_modules/ajv/lib/dotjs/dependencies.js","../node_modules/@rapid-io/protocol/node_modules/ajv/lib/dotjs/enum.js","../node_modules/@rapid-io/protocol/node_modules/ajv/lib/dotjs/format.js","../node_modules/@rapid-io/protocol/node_modules/ajv/lib/dotjs/items.js","../node_modules/@rapid-io/protocol/node_modules/ajv/lib/compile/_rules.js","../node_modules/@rapid-io/protocol/node_modules/ajv/lib/dotjs/multipleOf.js","../node_modules/@rapid-io/protocol/node_modules/ajv/lib/dotjs/not.js","../node_modules/@rapid-io/protocol/node_modules/ajv/lib/dotjs/oneOf.js","../node_modules/@rapid-io/protocol/node_modules/ajv/lib/dotjs/pattern.js","../node_modules/@rapid-io/protocol/node_modules/ajv/lib/dotjs/properties.js","../node_modules/@rapid-io/protocol/node_modules/ajv/lib/dotjs/propertyNames.js","../node_modules/@rapid-io/protocol/node_modules/ajv/lib/dotjs/required.js","../node_modules/@rapid-io/protocol/node_modules/ajv/lib/dotjs/uniqueItems.js","../node_modules/@rapid-io/protocol/node_modules/ajv/lib/compile/rules.js","../node_modules/@rapid-io/protocol/node_modules/ajv/lib/$data.js","../node_modules/@rapid-io/protocol/node_modules/ajv/lib/patternGroups.js","../node_modules/@rapid-io/protocol/node_modules/ajv/lib/dotjs/custom.js","../node_modules/@rapid-io/protocol/lib/shared/filter.js","../node_modules/@rapid-io/protocol/lib/shared/order.js","../node_modules/@rapid-io/protocol/lib/shared/limit.js","../node_modules/@rapid-io/protocol/lib/shared/skip.js","../node_modules/@rapid-io/protocol/lib/schema/query.js","../node_modules/@rapid-io/protocol/lib/schema/ack.js","../node_modules/@rapid-io/protocol/lib/schema/err.js","../node_modules/@rapid-io/protocol/lib/schema/nop.js","../node_modules/@rapid-io/protocol/lib/schema/con.js","../node_modules/@rapid-io/protocol/lib/schema/rec.js","../node_modules/@rapid-io/protocol/lib/schema/dis.js","../node_modules/@rapid-io/protocol/lib/schema/auth.js","../node_modules/@rapid-io/protocol/lib/schema/deauth.js","../node_modules/@rapid-io/protocol/lib/schema/mut.js","../node_modules/@rapid-io/protocol/lib/schema/mer.js","../node_modules/@rapid-io/protocol/lib/schema/del.js","../node_modules/@rapid-io/protocol/lib/schema/da.js","../node_modules/@rapid-io/protocol/lib/schema/da-ca.js","../node_modules/@rapid-io/protocol/lib/schema/pub.js","../node_modules/@rapid-io/protocol/lib/schema/ftc.js","../node_modules/@rapid-io/protocol/lib/schema/sub.js","../node_modules/@rapid-io/protocol/lib/schema/uns.js","../node_modules/@rapid-io/protocol/lib/schema/sub-ch.js","../node_modules/@rapid-io/protocol/lib/schema/uns-ch.js","../node_modules/@rapid-io/protocol/lib/schema/res.js","../node_modules/@rapid-io/protocol/lib/schema/val.js","../node_modules/@rapid-io/protocol/lib/schema/upd.js","../node_modules/@rapid-io/protocol/lib/schema/rm.js","../node_modules/@rapid-io/protocol/lib/schema/ca.js","../node_modules/@rapid-io/protocol/lib/schema/ca-ch.js","../node_modules/@rapid-io/protocol/lib/schema/ca-da.js","../node_modules/@rapid-io/protocol/lib/schema/mes.js","../node_modules/@rapid-io/protocol/lib/schema/req-ts.js","../node_modules/@rapid-io/protocol/lib/schema/ts.js","../node_modules/@rapid-io/protocol/lib/validation/validator.js","../node_modules/@rapid-io/protocol/lib/events/ack.js","../node_modules/@rapid-io/protocol/lib/events/err.js","../node_modules/@rapid-io/protocol/lib/events/client/con.js","../node_modules/@rapid-io/protocol/lib/events/client/rec.js","../node_modules/@rapid-io/protocol/lib/events/client/dis.js","../node_modules/@rapid-io/protocol/lib/events/client/mut.js","../node_modules/@rapid-io/protocol/lib/events/client/mer.js","../node_modules/@rapid-io/protocol/lib/events/client/del.js","../node_modules/@rapid-io/protocol/lib/events/client/da.js","../node_modules/@rapid-io/protocol/lib/events/client/da-ca.js","../node_modules/@rapid-io/protocol/lib/events/client/ftc.js","../node_modules/@rapid-io/protocol/lib/events/client/sub.js","../node_modules/@rapid-io/protocol/lib/events/client/uns.js","../node_modules/@rapid-io/protocol/lib/events/client/auth.js","../node_modules/@rapid-io/protocol/lib/events/client/deauth.js","../node_modules/@rapid-io/protocol/lib/events/client/nop.js","../node_modules/@rapid-io/protocol/lib/events/client/pub.js","../node_modules/@rapid-io/protocol/lib/events/client/sub-ch.js","../node_modules/@rapid-io/protocol/lib/events/client/uns-ch.js","../node_modules/@rapid-io/protocol/lib/events/client/req-ts.js","../node_modules/@rapid-io/protocol/lib/events/server/res.js","../node_modules/@rapid-io/protocol/lib/events/server/val.js","../node_modules/@rapid-io/protocol/lib/events/server/upd.js","../node_modules/@rapid-io/protocol/lib/events/server/rm.js","../node_modules/@rapid-io/protocol/lib/events/server/ca.js","../node_modules/@rapid-io/protocol/lib/events/server/ca-ch.js","../node_modules/@rapid-io/protocol/lib/events/server/ca-da.js","../node_modules/@rapid-io/protocol/lib/events/server/mes.js","../node_modules/@rapid-io/protocol/lib/events/server/ts.js","../node_modules/@rapid-io/protocol/lib/index.js","../src/websocket.js","../src/utils/on.js","../src/utils/jsonparse.js","../src/utils/jsonprune.js","../src/transport.js","../src/utils/listen.js","../src/protocol/ack.js","../src/protocol/con.js","../src/protocol/rec.js","../src/protocol/mut.js","../src/protocol/mer.js","../src/protocol/del.js","../src/protocol/ftc.js","../src/protocol/sub.js","../src/protocol/uns.js","../src/protocol/auth.js","../src/protocol/deauth.js","../src/protocol/sub-ch.js","../src/protocol/uns-ch.js","../src/protocol/pub.js","../src/channels/channel.js","../src/channels/channels.js","../src/fetch.js","../src/utils/timer.js","../src/errors.js","../src/connection.js","../src/protocol/nop.js","../node_modules/regenerator-runtime/runtime.js","../node_modules/regenerator-runtime/runtime-module.js","../node_modules/babel-runtime/regenerator/index.js","../src/document.js","../src/collection.js","../src/channel.js","../src/utils/once.js","../src/rapid.js","../src/index.js"],"sourcesContent":["'use strict';\n\n// Found this seed-based random generator somewhere\n// Based on The Central Randomizer 1.3 (C) 1997 by Paul Houle (houle@msc.cornell.edu)\n\nvar seed = 1;\n\n/**\n * return a random number based on a seed\n * @param seed\n * @returns {number}\n */\nfunction getNextValue() {\n    seed = (seed * 9301 + 49297) % 233280;\n    return seed/(233280.0);\n}\n\nfunction setSeed(_seed_) {\n    seed = _seed_;\n}\n\nmodule.exports = {\n    nextValue: getNextValue,\n    seed: setSeed\n};\n","'use strict';\n\nvar randomFromSeed = require('./random/random-from-seed');\n\nvar ORIGINAL = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-';\nvar alphabet;\nvar previousSeed;\n\nvar shuffled;\n\nfunction reset() {\n    shuffled = false;\n}\n\nfunction setCharacters(_alphabet_) {\n    if (!_alphabet_) {\n        if (alphabet !== ORIGINAL) {\n            alphabet = ORIGINAL;\n            reset();\n        }\n        return;\n    }\n\n    if (_alphabet_ === alphabet) {\n        return;\n    }\n\n    if (_alphabet_.length !== ORIGINAL.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. You submitted ' + _alphabet_.length + ' characters: ' + _alphabet_);\n    }\n\n    var unique = _alphabet_.split('').filter(function(item, ind, arr){\n       return ind !== arr.lastIndexOf(item);\n    });\n\n    if (unique.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. These characters were not unique: ' + unique.join(', '));\n    }\n\n    alphabet = _alphabet_;\n    reset();\n}\n\nfunction characters(_alphabet_) {\n    setCharacters(_alphabet_);\n    return alphabet;\n}\n\nfunction setSeed(seed) {\n    randomFromSeed.seed(seed);\n    if (previousSeed !== seed) {\n        reset();\n        previousSeed = seed;\n    }\n}\n\nfunction shuffle() {\n    if (!alphabet) {\n        setCharacters(ORIGINAL);\n    }\n\n    var sourceArray = alphabet.split('');\n    var targetArray = [];\n    var r = randomFromSeed.nextValue();\n    var characterIndex;\n\n    while (sourceArray.length > 0) {\n        r = randomFromSeed.nextValue();\n        characterIndex = Math.floor(r * sourceArray.length);\n        targetArray.push(sourceArray.splice(characterIndex, 1)[0]);\n    }\n    return targetArray.join('');\n}\n\nfunction getShuffled() {\n    if (shuffled) {\n        return shuffled;\n    }\n    shuffled = shuffle();\n    return shuffled;\n}\n\n/**\n * lookup shuffled letter\n * @param index\n * @returns {string}\n */\nfunction lookup(index) {\n    var alphabetShuffled = getShuffled();\n    return alphabetShuffled[index];\n}\n\nmodule.exports = {\n    characters: characters,\n    seed: setSeed,\n    lookup: lookup,\n    shuffled: getShuffled\n};\n","'use strict';\n\nvar crypto = typeof window === 'object' && (window.crypto || window.msCrypto); // IE 11 uses window.msCrypto\n\nfunction randomByte() {\n    if (!crypto || !crypto.getRandomValues) {\n        return Math.floor(Math.random() * 256) & 0x30;\n    }\n    var dest = new Uint8Array(1);\n    crypto.getRandomValues(dest);\n    return dest[0] & 0x30;\n}\n\nmodule.exports = randomByte;\n","'use strict';\n\nvar randomByte = require('./random/random-byte');\n\nfunction encode(lookup, number) {\n    var loopCounter = 0;\n    var done;\n\n    var str = '';\n\n    while (!done) {\n        str = str + lookup( ( (number >> (4 * loopCounter)) & 0x0f ) | randomByte() );\n        done = number < (Math.pow(16, loopCounter + 1 ) );\n        loopCounter++;\n    }\n    return str;\n}\n\nmodule.exports = encode;\n","'use strict';\nvar alphabet = require('./alphabet');\n\n/**\n * Decode the id to get the version and worker\n * Mainly for debugging and testing.\n * @param id - the shortid-generated id.\n */\nfunction decode(id) {\n    var characters = alphabet.shuffled();\n    return {\n        version: characters.indexOf(id.substr(0, 1)) & 0x0f,\n        worker: characters.indexOf(id.substr(1, 1)) & 0x0f\n    };\n}\n\nmodule.exports = decode;\n","'use strict';\n\nvar encode = require('./encode');\nvar alphabet = require('./alphabet');\n\n// Ignore all milliseconds before a certain time to reduce the size of the date entropy without sacrificing uniqueness.\n// This number should be updated every year or so to keep the generated id short.\n// To regenerate `new Date() - 0` and bump the version. Always bump the version!\nvar REDUCE_TIME = 1459707606518;\n\n// don't change unless we change the algos or REDUCE_TIME\n// must be an integer and less than 16\nvar version = 6;\n\n// Counter is used when shortid is called multiple times in one second.\nvar counter;\n\n// Remember the last time shortid was called in case counter is needed.\nvar previousSeconds;\n\n/**\n * Generate unique id\n * Returns string id\n */\nfunction build(clusterWorkerId) {\n\n    var str = '';\n\n    var seconds = Math.floor((Date.now() - REDUCE_TIME) * 0.001);\n\n    if (seconds === previousSeconds) {\n        counter++;\n    } else {\n        counter = 0;\n        previousSeconds = seconds;\n    }\n\n    str = str + encode(alphabet.lookup, version);\n    str = str + encode(alphabet.lookup, clusterWorkerId);\n    if (counter > 0) {\n        str = str + encode(alphabet.lookup, counter);\n    }\n    str = str + encode(alphabet.lookup, seconds);\n\n    return str;\n}\n\nmodule.exports = build;\n","'use strict';\nvar alphabet = require('./alphabet');\n\nfunction isShortId(id) {\n    if (!id || typeof id !== 'string' || id.length < 6 ) {\n        return false;\n    }\n\n    var characters = alphabet.characters();\n    var len = id.length;\n    for(var i = 0; i < len;i++) {\n        if (characters.indexOf(id[i]) === -1) {\n            return false;\n        }\n    }\n    return true;\n}\n\nmodule.exports = isShortId;\n","// shim for using process in browser\n// based off https://github.com/defunctzombie/node-process/blob/master/browser.js\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\nvar cachedSetTimeout = defaultSetTimout;\nvar cachedClearTimeout = defaultClearTimeout;\nif (typeof global.setTimeout === 'function') {\n    cachedSetTimeout = setTimeout;\n}\nif (typeof global.clearTimeout === 'function') {\n    cachedClearTimeout = clearTimeout;\n}\n\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\nexport function nextTick(fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n}\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nexport var title = 'browser';\nexport var platform = 'browser';\nexport var browser = true;\nexport var env = {};\nexport var argv = [];\nexport var version = ''; // empty string to avoid regexp issues\nexport var versions = {};\nexport var release = {};\nexport var config = {};\n\nfunction noop() {}\n\nexport var on = noop;\nexport var addListener = noop;\nexport var once = noop;\nexport var off = noop;\nexport var removeListener = noop;\nexport var removeAllListeners = noop;\nexport var emit = noop;\n\nexport function binding(name) {\n    throw new Error('process.binding is not supported');\n}\n\nexport function cwd () { return '/' }\nexport function chdir (dir) {\n    throw new Error('process.chdir is not supported');\n};\nexport function umask() { return 0; }\n\n// from https://github.com/kumavis/browser-process-hrtime/blob/master/index.js\nvar performance = global.performance || {}\nvar performanceNow =\n  performance.now        ||\n  performance.mozNow     ||\n  performance.msNow      ||\n  performance.oNow       ||\n  performance.webkitNow  ||\n  function(){ return (new Date()).getTime() }\n\n// generate timestamp or delta\n// see http://nodejs.org/api/process.html#process_process_hrtime\nexport function hrtime(previousTimestamp){\n  var clocktime = performanceNow.call(performance)*1e-3\n  var seconds = Math.floor(clocktime)\n  var nanoseconds = Math.floor((clocktime%1)*1e9)\n  if (previousTimestamp) {\n    seconds = seconds - previousTimestamp[0]\n    nanoseconds = nanoseconds - previousTimestamp[1]\n    if (nanoseconds<0) {\n      seconds--\n      nanoseconds += 1e9\n    }\n  }\n  return [seconds,nanoseconds]\n}\n\nvar startTime = new Date();\nexport function uptime() {\n  var currentTime = new Date();\n  var dif = currentTime - startTime;\n  return dif / 1000;\n}\n\nexport default {\n  nextTick: nextTick,\n  title: title,\n  browser: browser,\n  env: env,\n  argv: argv,\n  version: version,\n  versions: versions,\n  on: on,\n  addListener: addListener,\n  once: once,\n  off: off,\n  removeListener: removeListener,\n  removeAllListeners: removeAllListeners,\n  emit: emit,\n  binding: binding,\n  cwd: cwd,\n  chdir: chdir,\n  umask: umask,\n  hrtime: hrtime,\n  platform: platform,\n  release: release,\n  config: config,\n  uptime: uptime\n};\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  if (ms >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (ms >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (ms >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (ms >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  return plural(ms, d, 'day') ||\n    plural(ms, h, 'hour') ||\n    plural(ms, m, 'minute') ||\n    plural(ms, s, 'second') ||\n    ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) {\n    return;\n  }\n  if (ms < n * 1.5) {\n    return Math.floor(ms / n) + ' ' + name;\n  }\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n","\n/**\n * Expose `Backoff`.\n */\n\nmodule.exports = Backoff;\n\n/**\n * Initialize backoff timer with `opts`.\n *\n * - `min` initial timeout in milliseconds [100]\n * - `max` max timeout [10000]\n * - `jitter` [0]\n * - `factor` [2]\n *\n * @param {Object} opts\n * @api public\n */\n\nfunction Backoff(opts) {\n  opts = opts || {};\n  this.ms = opts.min || 100;\n  this.max = opts.max || 10000;\n  this.factor = opts.factor || 2;\n  this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n  this.attempts = 0;\n}\n\n/**\n * Return the backoff duration.\n *\n * @return {Number}\n * @api public\n */\n\nBackoff.prototype.duration = function(){\n  var ms = this.ms * Math.pow(this.factor, this.attempts++);\n  if (this.jitter) {\n    var rand =  Math.random();\n    var deviation = Math.floor(rand * this.jitter * ms);\n    ms = (Math.floor(rand * 10) & 1) == 0  ? ms - deviation : ms + deviation;\n  }\n  return Math.min(ms, this.max) | 0;\n};\n\n/**\n * Reset the number of attempts.\n *\n * @api public\n */\n\nBackoff.prototype.reset = function(){\n  this.attempts = 0;\n};\n","/*! https://mths.be/punycode v1.4.1 by @mathias */\n\n\n/** Highest positive signed 32-bit float value */\nvar maxInt = 2147483647; // aka. 0x7FFFFFFF or 2^31-1\n\n/** Bootstring parameters */\nvar base = 36;\nvar tMin = 1;\nvar tMax = 26;\nvar skew = 38;\nvar damp = 700;\nvar initialBias = 72;\nvar initialN = 128; // 0x80\nvar delimiter = '-'; // '\\x2D'\n\n/** Regular expressions */\nvar regexPunycode = /^xn--/;\nvar regexNonASCII = /[^\\x20-\\x7E]/; // unprintable ASCII chars + non-ASCII chars\nvar regexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g; // RFC 3490 separators\n\n/** Error messages */\nvar errors = {\n  'overflow': 'Overflow: input needs wider integers to process',\n  'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n  'invalid-input': 'Invalid input'\n};\n\n/** Convenience shortcuts */\nvar baseMinusTMin = base - tMin;\nvar floor = Math.floor;\nvar stringFromCharCode = String.fromCharCode;\n\n/*--------------------------------------------------------------------------*/\n\n/**\n * A generic error utility function.\n * @private\n * @param {String} type The error type.\n * @returns {Error} Throws a `RangeError` with the applicable error message.\n */\nfunction error(type) {\n  throw new RangeError(errors[type]);\n}\n\n/**\n * A generic `Array#map` utility function.\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} callback The function that gets called for every array\n * item.\n * @returns {Array} A new array of values returned by the callback function.\n */\nfunction map(array, fn) {\n  var length = array.length;\n  var result = [];\n  while (length--) {\n    result[length] = fn(array[length]);\n  }\n  return result;\n}\n\n/**\n * A simple `Array#map`-like wrapper to work with domain name strings or email\n * addresses.\n * @private\n * @param {String} domain The domain name or email address.\n * @param {Function} callback The function that gets called for every\n * character.\n * @returns {Array} A new string of characters returned by the callback\n * function.\n */\nfunction mapDomain(string, fn) {\n  var parts = string.split('@');\n  var result = '';\n  if (parts.length > 1) {\n    // In email addresses, only the domain name should be punycoded. Leave\n    // the local part (i.e. everything up to `@`) intact.\n    result = parts[0] + '@';\n    string = parts[1];\n  }\n  // Avoid `split(regex)` for IE8 compatibility. See #17.\n  string = string.replace(regexSeparators, '\\x2E');\n  var labels = string.split('.');\n  var encoded = map(labels, fn).join('.');\n  return result + encoded;\n}\n\n/**\n * Creates an array containing the numeric code points of each Unicode\n * character in the string. While JavaScript uses UCS-2 internally,\n * this function will convert a pair of surrogate halves (each of which\n * UCS-2 exposes as separate characters) into a single code point,\n * matching UTF-16.\n * @see `punycode.ucs2.encode`\n * @see <https://mathiasbynens.be/notes/javascript-encoding>\n * @memberOf punycode.ucs2\n * @name decode\n * @param {String} string The Unicode input string (UCS-2).\n * @returns {Array} The new array of code points.\n */\nfunction ucs2decode(string) {\n  var output = [],\n    counter = 0,\n    length = string.length,\n    value,\n    extra;\n  while (counter < length) {\n    value = string.charCodeAt(counter++);\n    if (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n      // high surrogate, and there is a next character\n      extra = string.charCodeAt(counter++);\n      if ((extra & 0xFC00) == 0xDC00) { // low surrogate\n        output.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n      } else {\n        // unmatched surrogate; only append this code unit, in case the next\n        // code unit is the high surrogate of a surrogate pair\n        output.push(value);\n        counter--;\n      }\n    } else {\n      output.push(value);\n    }\n  }\n  return output;\n}\n\n/**\n * Creates a string based on an array of numeric code points.\n * @see `punycode.ucs2.decode`\n * @memberOf punycode.ucs2\n * @name encode\n * @param {Array} codePoints The array of numeric code points.\n * @returns {String} The new Unicode string (UCS-2).\n */\nfunction ucs2encode(array) {\n  return map(array, function(value) {\n    var output = '';\n    if (value > 0xFFFF) {\n      value -= 0x10000;\n      output += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n      value = 0xDC00 | value & 0x3FF;\n    }\n    output += stringFromCharCode(value);\n    return output;\n  }).join('');\n}\n\n/**\n * Converts a basic code point into a digit/integer.\n * @see `digitToBasic()`\n * @private\n * @param {Number} codePoint The basic numeric code point value.\n * @returns {Number} The numeric value of a basic code point (for use in\n * representing integers) in the range `0` to `base - 1`, or `base` if\n * the code point does not represent a value.\n */\nfunction basicToDigit(codePoint) {\n  if (codePoint - 48 < 10) {\n    return codePoint - 22;\n  }\n  if (codePoint - 65 < 26) {\n    return codePoint - 65;\n  }\n  if (codePoint - 97 < 26) {\n    return codePoint - 97;\n  }\n  return base;\n}\n\n/**\n * Converts a digit/integer into a basic code point.\n * @see `basicToDigit()`\n * @private\n * @param {Number} digit The numeric value of a basic code point.\n * @returns {Number} The basic code point whose value (when used for\n * representing integers) is `digit`, which needs to be in the range\n * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n * used; else, the lowercase form is used. The behavior is undefined\n * if `flag` is non-zero and `digit` has no uppercase form.\n */\nfunction digitToBasic(digit, flag) {\n  //  0..25 map to ASCII a..z or A..Z\n  // 26..35 map to ASCII 0..9\n  return digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n}\n\n/**\n * Bias adaptation function as per section 3.4 of RFC 3492.\n * https://tools.ietf.org/html/rfc3492#section-3.4\n * @private\n */\nfunction adapt(delta, numPoints, firstTime) {\n  var k = 0;\n  delta = firstTime ? floor(delta / damp) : delta >> 1;\n  delta += floor(delta / numPoints);\n  for ( /* no initialization */ ; delta > baseMinusTMin * tMax >> 1; k += base) {\n    delta = floor(delta / baseMinusTMin);\n  }\n  return floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n}\n\n/**\n * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n * symbols.\n * @memberOf punycode\n * @param {String} input The Punycode string of ASCII-only symbols.\n * @returns {String} The resulting string of Unicode symbols.\n */\nexport function decode(input) {\n  // Don't use UCS-2\n  var output = [],\n    inputLength = input.length,\n    out,\n    i = 0,\n    n = initialN,\n    bias = initialBias,\n    basic,\n    j,\n    index,\n    oldi,\n    w,\n    k,\n    digit,\n    t,\n    /** Cached calculation results */\n    baseMinusT;\n\n  // Handle the basic code points: let `basic` be the number of input code\n  // points before the last delimiter, or `0` if there is none, then copy\n  // the first basic code points to the output.\n\n  basic = input.lastIndexOf(delimiter);\n  if (basic < 0) {\n    basic = 0;\n  }\n\n  for (j = 0; j < basic; ++j) {\n    // if it's not a basic code point\n    if (input.charCodeAt(j) >= 0x80) {\n      error('not-basic');\n    }\n    output.push(input.charCodeAt(j));\n  }\n\n  // Main decoding loop: start just after the last delimiter if any basic code\n  // points were copied; start at the beginning otherwise.\n\n  for (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */ ) {\n\n    // `index` is the index of the next character to be consumed.\n    // Decode a generalized variable-length integer into `delta`,\n    // which gets added to `i`. The overflow checking is easier\n    // if we increase `i` as we go, then subtract off its starting\n    // value at the end to obtain `delta`.\n    for (oldi = i, w = 1, k = base; /* no condition */ ; k += base) {\n\n      if (index >= inputLength) {\n        error('invalid-input');\n      }\n\n      digit = basicToDigit(input.charCodeAt(index++));\n\n      if (digit >= base || digit > floor((maxInt - i) / w)) {\n        error('overflow');\n      }\n\n      i += digit * w;\n      t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n      if (digit < t) {\n        break;\n      }\n\n      baseMinusT = base - t;\n      if (w > floor(maxInt / baseMinusT)) {\n        error('overflow');\n      }\n\n      w *= baseMinusT;\n\n    }\n\n    out = output.length + 1;\n    bias = adapt(i - oldi, out, oldi == 0);\n\n    // `i` was supposed to wrap around from `out` to `0`,\n    // incrementing `n` each time, so we'll fix that now:\n    if (floor(i / out) > maxInt - n) {\n      error('overflow');\n    }\n\n    n += floor(i / out);\n    i %= out;\n\n    // Insert `n` at position `i` of the output\n    output.splice(i++, 0, n);\n\n  }\n\n  return ucs2encode(output);\n}\n\n/**\n * Converts a string of Unicode symbols (e.g. a domain name label) to a\n * Punycode string of ASCII-only symbols.\n * @memberOf punycode\n * @param {String} input The string of Unicode symbols.\n * @returns {String} The resulting Punycode string of ASCII-only symbols.\n */\nexport function encode(input) {\n  var n,\n    delta,\n    handledCPCount,\n    basicLength,\n    bias,\n    j,\n    m,\n    q,\n    k,\n    t,\n    currentValue,\n    output = [],\n    /** `inputLength` will hold the number of code points in `input`. */\n    inputLength,\n    /** Cached calculation results */\n    handledCPCountPlusOne,\n    baseMinusT,\n    qMinusT;\n\n  // Convert the input in UCS-2 to Unicode\n  input = ucs2decode(input);\n\n  // Cache the length\n  inputLength = input.length;\n\n  // Initialize the state\n  n = initialN;\n  delta = 0;\n  bias = initialBias;\n\n  // Handle the basic code points\n  for (j = 0; j < inputLength; ++j) {\n    currentValue = input[j];\n    if (currentValue < 0x80) {\n      output.push(stringFromCharCode(currentValue));\n    }\n  }\n\n  handledCPCount = basicLength = output.length;\n\n  // `handledCPCount` is the number of code points that have been handled;\n  // `basicLength` is the number of basic code points.\n\n  // Finish the basic string - if it is not empty - with a delimiter\n  if (basicLength) {\n    output.push(delimiter);\n  }\n\n  // Main encoding loop:\n  while (handledCPCount < inputLength) {\n\n    // All non-basic code points < n have been handled already. Find the next\n    // larger one:\n    for (m = maxInt, j = 0; j < inputLength; ++j) {\n      currentValue = input[j];\n      if (currentValue >= n && currentValue < m) {\n        m = currentValue;\n      }\n    }\n\n    // Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n    // but guard against overflow\n    handledCPCountPlusOne = handledCPCount + 1;\n    if (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n      error('overflow');\n    }\n\n    delta += (m - n) * handledCPCountPlusOne;\n    n = m;\n\n    for (j = 0; j < inputLength; ++j) {\n      currentValue = input[j];\n\n      if (currentValue < n && ++delta > maxInt) {\n        error('overflow');\n      }\n\n      if (currentValue == n) {\n        // Represent delta as a generalized variable-length integer\n        for (q = delta, k = base; /* no condition */ ; k += base) {\n          t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n          if (q < t) {\n            break;\n          }\n          qMinusT = q - t;\n          baseMinusT = base - t;\n          output.push(\n            stringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n          );\n          q = floor(qMinusT / baseMinusT);\n        }\n\n        output.push(stringFromCharCode(digitToBasic(q, 0)));\n        bias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n        delta = 0;\n        ++handledCPCount;\n      }\n    }\n\n    ++delta;\n    ++n;\n\n  }\n  return output.join('');\n}\n\n/**\n * Converts a Punycode string representing a domain name or an email address\n * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n * it doesn't matter if you call it on a string that has already been\n * converted to Unicode.\n * @memberOf punycode\n * @param {String} input The Punycoded domain name or email address to\n * convert to Unicode.\n * @returns {String} The Unicode representation of the given Punycode\n * string.\n */\nexport function toUnicode(input) {\n  return mapDomain(input, function(string) {\n    return regexPunycode.test(string) ?\n      decode(string.slice(4).toLowerCase()) :\n      string;\n  });\n}\n\n/**\n * Converts a Unicode string representing a domain name or an email address to\n * Punycode. Only the non-ASCII parts of the domain name will be converted,\n * i.e. it doesn't matter if you call it with a domain that's already in\n * ASCII.\n * @memberOf punycode\n * @param {String} input The domain name or email address to convert, as a\n * Unicode string.\n * @returns {String} The Punycode representation of the given domain name or\n * email address.\n */\nexport function toASCII(input) {\n  return mapDomain(input, function(string) {\n    return regexNonASCII.test(string) ?\n      'xn--' + encode(string) :\n      string;\n  });\n}\nexport var version = '1.4.1';\n/**\n * An object of methods to convert from JavaScript's internal character\n * representation (UCS-2) to Unicode code points, and back.\n * @see <https://mathiasbynens.be/notes/javascript-encoding>\n * @memberOf punycode\n * @type Object\n */\n\nexport var ucs2 = {\n  decode: ucs2decode,\n  encode: ucs2encode\n};\nexport default {\n  version: version,\n  ucs2: ucs2,\n  toASCII: toASCII,\n  toUnicode: toUnicode,\n  encode: encode,\n  decode: decode\n}\n","\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\nvar inited = false;\nfunction init () {\n  inited = true;\n  var code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\n  for (var i = 0, len = code.length; i < len; ++i) {\n    lookup[i] = code[i]\n    revLookup[code.charCodeAt(i)] = i\n  }\n\n  revLookup['-'.charCodeAt(0)] = 62\n  revLookup['_'.charCodeAt(0)] = 63\n}\n\nexport function toByteArray (b64) {\n  if (!inited) {\n    init();\n  }\n  var i, j, l, tmp, placeHolders, arr\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // the number of equal signs (place holders)\n  // if there are two placeholders, than the two characters before it\n  // represent one byte\n  // if there is only one, then the three characters before it represent 2 bytes\n  // this is just a cheap hack to not do indexOf twice\n  placeHolders = b64[len - 2] === '=' ? 2 : b64[len - 1] === '=' ? 1 : 0\n\n  // base64 is 4/3 + up to two characters of the original data\n  arr = new Arr(len * 3 / 4 - placeHolders)\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  l = placeHolders > 0 ? len - 4 : len\n\n  var L = 0\n\n  for (i = 0, j = 0; i < l; i += 4, j += 3) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 18) | (revLookup[b64.charCodeAt(i + 1)] << 12) | (revLookup[b64.charCodeAt(i + 2)] << 6) | revLookup[b64.charCodeAt(i + 3)]\n    arr[L++] = (tmp >> 16) & 0xFF\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  if (placeHolders === 2) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 2) | (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[L++] = tmp & 0xFF\n  } else if (placeHolders === 1) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 10) | (revLookup[b64.charCodeAt(i + 1)] << 4) | (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] + lookup[num >> 12 & 0x3F] + lookup[num >> 6 & 0x3F] + lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2])\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nexport function fromByteArray (uint8) {\n  if (!inited) {\n    init();\n  }\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var output = ''\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    output += lookup[tmp >> 2]\n    output += lookup[(tmp << 4) & 0x3F]\n    output += '=='\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + (uint8[len - 1])\n    output += lookup[tmp >> 10]\n    output += lookup[(tmp >> 4) & 0x3F]\n    output += lookup[(tmp << 2) & 0x3F]\n    output += '='\n  }\n\n  parts.push(output)\n\n  return parts.join('')\n}\n","\nexport function read (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexport function write (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n\nimport * as base64 from './base64'\nimport * as ieee754 from './ieee754'\nimport isArray from './isArray'\n\nexport var INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : true\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nvar _kMaxLength = kMaxLength()\nexport {_kMaxLength as kMaxLength};\nfunction typedArraySupport () {\n  return true;\n  // rollup issues\n  // try {\n  //   var arr = new Uint8Array(1)\n  //   arr.__proto__ = {\n  //     __proto__: Uint8Array.prototype,\n  //     foo: function () { return 42 }\n  //   }\n  //   return arr.foo() === 42 && // typed array instances can be augmented\n  //       typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n  //       arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  // } catch (e) {\n  //   return false\n  // }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nexport function Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    // Object.defineProperty(Buffer, Symbol.species, {\n    //   value: null,\n    //   configurable: true\n    // })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (internalIsBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nexport function SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\nBuffer.isBuffer = isBuffer;\nfunction internalIsBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!internalIsBuffer(a) || !internalIsBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!internalIsBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (internalIsBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!internalIsBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!internalIsBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (internalIsBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!internalIsBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = internalIsBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n\n\n// the following is from is-buffer, also by Feross Aboukhadijeh and with same lisence\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nexport function isBuffer(obj) {\n  return obj != null && (!!obj._isBuffer || isFastBuffer(obj) || isSlowBuffer(obj))\n}\n\nfunction isFastBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isFastBuffer(obj.slice(0, 0))\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\nimport process from 'process';\nvar formatRegExp = /%[sdj%]/g;\nexport function format(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexport function deprecate(fn, msg) {\n  // Allow for deprecating things in the process of starting up.\n  if (isUndefined(global.process)) {\n    return function() {\n      return deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  if (process.noDeprecation === true) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexport function debuglog(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = 0;\n      debugs[set] = function() {\n        var msg = format.apply(null, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nexport function inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    _extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nexport function isArray(ar) {\n  return Array.isArray(ar);\n}\n\nexport function isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\n\nexport function isNull(arg) {\n  return arg === null;\n}\n\nexport function isNullOrUndefined(arg) {\n  return arg == null;\n}\n\nexport function isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nexport function isString(arg) {\n  return typeof arg === 'string';\n}\n\nexport function isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\n\nexport function isUndefined(arg) {\n  return arg === void 0;\n}\n\nexport function isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\n\nexport function isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nexport function isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\n\nexport function isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\n\nexport function isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nexport function isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\n\nexport function isBuffer(maybeBuf) {\n  return Buffer.isBuffer(maybeBuf);\n}\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexport function log() {\n  console.log('%s - %s', timestamp(), format.apply(null, arguments));\n}\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nimport inherits from './inherits';\nexport {inherits}\n\nexport function _extend(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nexport default {\n  inherits: inherits,\n  _extend: _extend,\n  log: log,\n  isBuffer: isBuffer,\n  isPrimitive: isPrimitive,\n  isFunction: isFunction,\n  isError: isError,\n  isDate: isDate,\n  isObject: isObject,\n  isRegExp: isRegExp,\n  isUndefined: isUndefined,\n  isSymbol: isSymbol,\n  isString: isString,\n  isNumber: isNumber,\n  isNullOrUndefined: isNullOrUndefined,\n  isNull: isNull,\n  isBoolean: isBoolean,\n  isArray: isArray,\n  inspect: inspect,\n  deprecate: deprecate,\n  format: format,\n  debuglog: debuglog\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\nfunction stringifyPrimitive(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n}\n\nexport function stringify (obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n\nexport function parse(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\nexport default {\n  encode: stringify,\n  stringify: stringify,\n  decode: parse,\n  parse: parse\n}\nexport {stringify as encode, parse as decode};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\nimport {toASCII} from 'punycode';\nimport {isObject,isString,isNullOrUndefined,isNull} from 'util';\nimport {parse as qsParse,stringify as qsStringify} from 'querystring';\nexport {\n  urlParse as parse,\n  urlResolve as resolve,\n  urlResolveObject as resolveObject,\n  urlFormat as format\n};\nexport default {\n  parse: urlParse,\n  resolve: urlResolve,\n  resolveObject: urlResolveObject,\n  format: urlFormat,\n  Url: Url\n}\nexport function Url() {\n  this.protocol = null;\n  this.slashes = null;\n  this.auth = null;\n  this.host = null;\n  this.port = null;\n  this.hostname = null;\n  this.hash = null;\n  this.search = null;\n  this.query = null;\n  this.pathname = null;\n  this.path = null;\n  this.href = null;\n}\n\n// Reference: RFC 3986, RFC 1808, RFC 2396\n\n// define these here so at least they only have to be\n// compiled once on the first module load.\nvar protocolPattern = /^([a-z0-9.+-]+:)/i,\n  portPattern = /:[0-9]*$/,\n\n  // Special case for a simple path URL\n  simplePathPattern = /^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,\n\n  // RFC 2396: characters reserved for delimiting URLs.\n  // We actually just auto-escape these.\n  delims = ['<', '>', '\"', '`', ' ', '\\r', '\\n', '\\t'],\n\n  // RFC 2396: characters not allowed for various reasons.\n  unwise = ['{', '}', '|', '\\\\', '^', '`'].concat(delims),\n\n  // Allowed by RFCs, but cause of XSS attacks.  Always escape these.\n  autoEscape = ['\\''].concat(unwise),\n  // Characters that are never ever allowed in a hostname.\n  // Note that any invalid chars are also handled, but these\n  // are the ones that are *expected* to be seen, so we fast-path\n  // them.\n  nonHostChars = ['%', '/', '?', ';', '#'].concat(autoEscape),\n  hostEndingChars = ['/', '?', '#'],\n  hostnameMaxLen = 255,\n  hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,\n  hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,\n  // protocols that can allow \"unsafe\" and \"unwise\" chars.\n  unsafeProtocol = {\n    'javascript': true,\n    'javascript:': true\n  },\n  // protocols that never have a hostname.\n  hostlessProtocol = {\n    'javascript': true,\n    'javascript:': true\n  },\n  // protocols that always contain a // bit.\n  slashedProtocol = {\n    'http': true,\n    'https': true,\n    'ftp': true,\n    'gopher': true,\n    'file': true,\n    'http:': true,\n    'https:': true,\n    'ftp:': true,\n    'gopher:': true,\n    'file:': true\n  };\n\nfunction urlParse(url, parseQueryString, slashesDenoteHost) {\n  if (url && isObject(url) && url instanceof Url) return url;\n\n  var u = new Url;\n  u.parse(url, parseQueryString, slashesDenoteHost);\n  return u;\n}\nUrl.prototype.parse = function(url, parseQueryString, slashesDenoteHost) {\n  return parse(this, url, parseQueryString, slashesDenoteHost);\n}\n\nfunction parse(self, url, parseQueryString, slashesDenoteHost) {\n  if (!isString(url)) {\n    throw new TypeError('Parameter \\'url\\' must be a string, not ' + typeof url);\n  }\n\n  // Copy chrome, IE, opera backslash-handling behavior.\n  // Back slashes before the query string get converted to forward slashes\n  // See: https://code.google.com/p/chromium/issues/detail?id=25916\n  var queryIndex = url.indexOf('?'),\n    splitter =\n    (queryIndex !== -1 && queryIndex < url.indexOf('#')) ? '?' : '#',\n    uSplit = url.split(splitter),\n    slashRegex = /\\\\/g;\n  uSplit[0] = uSplit[0].replace(slashRegex, '/');\n  url = uSplit.join(splitter);\n\n  var rest = url;\n\n  // trim before proceeding.\n  // This is to support parse stuff like \"  http://foo.com  \\n\"\n  rest = rest.trim();\n\n  if (!slashesDenoteHost && url.split('#').length === 1) {\n    // Try fast path regexp\n    var simplePath = simplePathPattern.exec(rest);\n    if (simplePath) {\n      self.path = rest;\n      self.href = rest;\n      self.pathname = simplePath[1];\n      if (simplePath[2]) {\n        self.search = simplePath[2];\n        if (parseQueryString) {\n          self.query = qsParse(self.search.substr(1));\n        } else {\n          self.query = self.search.substr(1);\n        }\n      } else if (parseQueryString) {\n        self.search = '';\n        self.query = {};\n      }\n      return self;\n    }\n  }\n\n  var proto = protocolPattern.exec(rest);\n  if (proto) {\n    proto = proto[0];\n    var lowerProto = proto.toLowerCase();\n    self.protocol = lowerProto;\n    rest = rest.substr(proto.length);\n  }\n\n  // figure out if it's got a host\n  // user@server is *always* interpreted as a hostname, and url\n  // resolution will treat //foo/bar as host=foo,path=bar because that's\n  // how the browser resolves relative URLs.\n  if (slashesDenoteHost || proto || rest.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)) {\n    var slashes = rest.substr(0, 2) === '//';\n    if (slashes && !(proto && hostlessProtocol[proto])) {\n      rest = rest.substr(2);\n      self.slashes = true;\n    }\n  }\n  var i, hec, l, p;\n  if (!hostlessProtocol[proto] &&\n    (slashes || (proto && !slashedProtocol[proto]))) {\n\n    // there's a hostname.\n    // the first instance of /, ?, ;, or # ends the host.\n    //\n    // If there is an @ in the hostname, then non-host chars *are* allowed\n    // to the left of the last @ sign, unless some host-ending character\n    // comes *before* the @-sign.\n    // URLs are obnoxious.\n    //\n    // ex:\n    // http://a@b@c/ => user:a@b host:c\n    // http://a@b?@c => user:a host:c path:/?@c\n\n    // v0.12 TODO(isaacs): This is not quite how Chrome does things.\n    // Review our test case against browsers more comprehensively.\n\n    // find the first instance of any hostEndingChars\n    var hostEnd = -1;\n    for (i = 0; i < hostEndingChars.length; i++) {\n      hec = rest.indexOf(hostEndingChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n\n    // at this point, either we have an explicit point where the\n    // auth portion cannot go past, or the last @ char is the decider.\n    var auth, atSign;\n    if (hostEnd === -1) {\n      // atSign can be anywhere.\n      atSign = rest.lastIndexOf('@');\n    } else {\n      // atSign must be in auth portion.\n      // http://a@b/c@d => host:b auth:a path:/c@d\n      atSign = rest.lastIndexOf('@', hostEnd);\n    }\n\n    // Now we have a portion which is definitely the auth.\n    // Pull that off.\n    if (atSign !== -1) {\n      auth = rest.slice(0, atSign);\n      rest = rest.slice(atSign + 1);\n      self.auth = decodeURIComponent(auth);\n    }\n\n    // the host is the remaining to the left of the first non-host char\n    hostEnd = -1;\n    for (i = 0; i < nonHostChars.length; i++) {\n      hec = rest.indexOf(nonHostChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n    // if we still have not hit it, then the entire thing is a host.\n    if (hostEnd === -1)\n      hostEnd = rest.length;\n\n    self.host = rest.slice(0, hostEnd);\n    rest = rest.slice(hostEnd);\n\n    // pull out port.\n    parseHost(self);\n\n    // we've indicated that there is a hostname,\n    // so even if it's empty, it has to be present.\n    self.hostname = self.hostname || '';\n\n    // if hostname begins with [ and ends with ]\n    // assume that it's an IPv6 address.\n    var ipv6Hostname = self.hostname[0] === '[' &&\n      self.hostname[self.hostname.length - 1] === ']';\n\n    // validate a little.\n    if (!ipv6Hostname) {\n      var hostparts = self.hostname.split(/\\./);\n      for (i = 0, l = hostparts.length; i < l; i++) {\n        var part = hostparts[i];\n        if (!part) continue;\n        if (!part.match(hostnamePartPattern)) {\n          var newpart = '';\n          for (var j = 0, k = part.length; j < k; j++) {\n            if (part.charCodeAt(j) > 127) {\n              // we replace non-ASCII char with a temporary placeholder\n              // we need this to make sure size of hostname is not\n              // broken by replacing non-ASCII by nothing\n              newpart += 'x';\n            } else {\n              newpart += part[j];\n            }\n          }\n          // we test again with ASCII char only\n          if (!newpart.match(hostnamePartPattern)) {\n            var validParts = hostparts.slice(0, i);\n            var notHost = hostparts.slice(i + 1);\n            var bit = part.match(hostnamePartStart);\n            if (bit) {\n              validParts.push(bit[1]);\n              notHost.unshift(bit[2]);\n            }\n            if (notHost.length) {\n              rest = '/' + notHost.join('.') + rest;\n            }\n            self.hostname = validParts.join('.');\n            break;\n          }\n        }\n      }\n    }\n\n    if (self.hostname.length > hostnameMaxLen) {\n      self.hostname = '';\n    } else {\n      // hostnames are always lower case.\n      self.hostname = self.hostname.toLowerCase();\n    }\n\n    if (!ipv6Hostname) {\n      // IDNA Support: Returns a punycoded representation of \"domain\".\n      // It only converts parts of the domain name that\n      // have non-ASCII characters, i.e. it doesn't matter if\n      // you call it with a domain that already is ASCII-only.\n      self.hostname = toASCII(self.hostname);\n    }\n\n    p = self.port ? ':' + self.port : '';\n    var h = self.hostname || '';\n    self.host = h + p;\n    self.href += self.host;\n\n    // strip [ and ] from the hostname\n    // the host field still retains them, though\n    if (ipv6Hostname) {\n      self.hostname = self.hostname.substr(1, self.hostname.length - 2);\n      if (rest[0] !== '/') {\n        rest = '/' + rest;\n      }\n    }\n  }\n\n  // now rest is set to the post-host stuff.\n  // chop off any delim chars.\n  if (!unsafeProtocol[lowerProto]) {\n\n    // First, make 100% sure that any \"autoEscape\" chars get\n    // escaped, even if encodeURIComponent doesn't think they\n    // need to be.\n    for (i = 0, l = autoEscape.length; i < l; i++) {\n      var ae = autoEscape[i];\n      if (rest.indexOf(ae) === -1)\n        continue;\n      var esc = encodeURIComponent(ae);\n      if (esc === ae) {\n        esc = escape(ae);\n      }\n      rest = rest.split(ae).join(esc);\n    }\n  }\n\n\n  // chop off from the tail first.\n  var hash = rest.indexOf('#');\n  if (hash !== -1) {\n    // got a fragment string.\n    self.hash = rest.substr(hash);\n    rest = rest.slice(0, hash);\n  }\n  var qm = rest.indexOf('?');\n  if (qm !== -1) {\n    self.search = rest.substr(qm);\n    self.query = rest.substr(qm + 1);\n    if (parseQueryString) {\n      self.query = qsParse(self.query);\n    }\n    rest = rest.slice(0, qm);\n  } else if (parseQueryString) {\n    // no query string, but parseQueryString still requested\n    self.search = '';\n    self.query = {};\n  }\n  if (rest) self.pathname = rest;\n  if (slashedProtocol[lowerProto] &&\n    self.hostname && !self.pathname) {\n    self.pathname = '/';\n  }\n\n  //to support http.request\n  if (self.pathname || self.search) {\n    p = self.pathname || '';\n    var s = self.search || '';\n    self.path = p + s;\n  }\n\n  // finally, reconstruct the href based on what has been validated.\n  self.href = format(self);\n  return self;\n}\n\n// format a parsed object into a url string\nfunction urlFormat(obj) {\n  // ensure it's an object, and not a string url.\n  // If it's an obj, this is a no-op.\n  // this way, you can call url_format() on strings\n  // to clean up potentially wonky urls.\n  if (isString(obj)) obj = parse({}, obj);\n  return format(obj);\n}\n\nfunction format(self) {\n  var auth = self.auth || '';\n  if (auth) {\n    auth = encodeURIComponent(auth);\n    auth = auth.replace(/%3A/i, ':');\n    auth += '@';\n  }\n\n  var protocol = self.protocol || '',\n    pathname = self.pathname || '',\n    hash = self.hash || '',\n    host = false,\n    query = '';\n\n  if (self.host) {\n    host = auth + self.host;\n  } else if (self.hostname) {\n    host = auth + (self.hostname.indexOf(':') === -1 ?\n      self.hostname :\n      '[' + this.hostname + ']');\n    if (self.port) {\n      host += ':' + self.port;\n    }\n  }\n\n  if (self.query &&\n    isObject(self.query) &&\n    Object.keys(self.query).length) {\n    query = qsStringify(self.query);\n  }\n\n  var search = self.search || (query && ('?' + query)) || '';\n\n  if (protocol && protocol.substr(-1) !== ':') protocol += ':';\n\n  // only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.\n  // unless they had them to begin with.\n  if (self.slashes ||\n    (!protocol || slashedProtocol[protocol]) && host !== false) {\n    host = '//' + (host || '');\n    if (pathname && pathname.charAt(0) !== '/') pathname = '/' + pathname;\n  } else if (!host) {\n    host = '';\n  }\n\n  if (hash && hash.charAt(0) !== '#') hash = '#' + hash;\n  if (search && search.charAt(0) !== '?') search = '?' + search;\n\n  pathname = pathname.replace(/[?#]/g, function(match) {\n    return encodeURIComponent(match);\n  });\n  search = search.replace('#', '%23');\n\n  return protocol + host + pathname + search + hash;\n}\n\nUrl.prototype.format = function() {\n  return format(this);\n}\n\nfunction urlResolve(source, relative) {\n  return urlParse(source, false, true).resolve(relative);\n}\n\nUrl.prototype.resolve = function(relative) {\n  return this.resolveObject(urlParse(relative, false, true)).format();\n};\n\nfunction urlResolveObject(source, relative) {\n  if (!source) return relative;\n  return urlParse(source, false, true).resolveObject(relative);\n}\n\nUrl.prototype.resolveObject = function(relative) {\n  if (isString(relative)) {\n    var rel = new Url();\n    rel.parse(relative, false, true);\n    relative = rel;\n  }\n\n  var result = new Url();\n  var tkeys = Object.keys(this);\n  for (var tk = 0; tk < tkeys.length; tk++) {\n    var tkey = tkeys[tk];\n    result[tkey] = this[tkey];\n  }\n\n  // hash is always overridden, no matter what.\n  // even href=\"\" will remove it.\n  result.hash = relative.hash;\n\n  // if the relative url is empty, then there's nothing left to do here.\n  if (relative.href === '') {\n    result.href = result.format();\n    return result;\n  }\n\n  // hrefs like //foo/bar always cut to the protocol.\n  if (relative.slashes && !relative.protocol) {\n    // take everything except the protocol from relative\n    var rkeys = Object.keys(relative);\n    for (var rk = 0; rk < rkeys.length; rk++) {\n      var rkey = rkeys[rk];\n      if (rkey !== 'protocol')\n        result[rkey] = relative[rkey];\n    }\n\n    //urlParse appends trailing / to urls like http://www.example.com\n    if (slashedProtocol[result.protocol] &&\n      result.hostname && !result.pathname) {\n      result.path = result.pathname = '/';\n    }\n\n    result.href = result.format();\n    return result;\n  }\n  var relPath;\n  if (relative.protocol && relative.protocol !== result.protocol) {\n    // if it's a known url protocol, then changing\n    // the protocol does weird things\n    // first, if it's not file:, then we MUST have a host,\n    // and if there was a path\n    // to begin with, then we MUST have a path.\n    // if it is file:, then the host is dropped,\n    // because that's known to be hostless.\n    // anything else is assumed to be absolute.\n    if (!slashedProtocol[relative.protocol]) {\n      var keys = Object.keys(relative);\n      for (var v = 0; v < keys.length; v++) {\n        var k = keys[v];\n        result[k] = relative[k];\n      }\n      result.href = result.format();\n      return result;\n    }\n\n    result.protocol = relative.protocol;\n    if (!relative.host && !hostlessProtocol[relative.protocol]) {\n      relPath = (relative.pathname || '').split('/');\n      while (relPath.length && !(relative.host = relPath.shift()));\n      if (!relative.host) relative.host = '';\n      if (!relative.hostname) relative.hostname = '';\n      if (relPath[0] !== '') relPath.unshift('');\n      if (relPath.length < 2) relPath.unshift('');\n      result.pathname = relPath.join('/');\n    } else {\n      result.pathname = relative.pathname;\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    result.host = relative.host || '';\n    result.auth = relative.auth;\n    result.hostname = relative.hostname || relative.host;\n    result.port = relative.port;\n    // to support http.request\n    if (result.pathname || result.search) {\n      var p = result.pathname || '';\n      var s = result.search || '';\n      result.path = p + s;\n    }\n    result.slashes = result.slashes || relative.slashes;\n    result.href = result.format();\n    return result;\n  }\n\n  var isSourceAbs = (result.pathname && result.pathname.charAt(0) === '/'),\n    isRelAbs = (\n      relative.host ||\n      relative.pathname && relative.pathname.charAt(0) === '/'\n    ),\n    mustEndAbs = (isRelAbs || isSourceAbs ||\n      (result.host && relative.pathname)),\n    removeAllDots = mustEndAbs,\n    srcPath = result.pathname && result.pathname.split('/') || [],\n    psychotic = result.protocol && !slashedProtocol[result.protocol];\n  relPath = relative.pathname && relative.pathname.split('/') || [];\n  // if the url is a non-slashed url, then relative\n  // links like ../.. should be able\n  // to crawl up to the hostname, as well.  This is strange.\n  // result.protocol has already been set by now.\n  // Later on, put the first path part into the host field.\n  if (psychotic) {\n    result.hostname = '';\n    result.port = null;\n    if (result.host) {\n      if (srcPath[0] === '') srcPath[0] = result.host;\n      else srcPath.unshift(result.host);\n    }\n    result.host = '';\n    if (relative.protocol) {\n      relative.hostname = null;\n      relative.port = null;\n      if (relative.host) {\n        if (relPath[0] === '') relPath[0] = relative.host;\n        else relPath.unshift(relative.host);\n      }\n      relative.host = null;\n    }\n    mustEndAbs = mustEndAbs && (relPath[0] === '' || srcPath[0] === '');\n  }\n  var authInHost;\n  if (isRelAbs) {\n    // it's absolute.\n    result.host = (relative.host || relative.host === '') ?\n      relative.host : result.host;\n    result.hostname = (relative.hostname || relative.hostname === '') ?\n      relative.hostname : result.hostname;\n    result.search = relative.search;\n    result.query = relative.query;\n    srcPath = relPath;\n    // fall through to the dot-handling below.\n  } else if (relPath.length) {\n    // it's relative\n    // throw away the existing file, and take the new path instead.\n    if (!srcPath) srcPath = [];\n    srcPath.pop();\n    srcPath = srcPath.concat(relPath);\n    result.search = relative.search;\n    result.query = relative.query;\n  } else if (!isNullOrUndefined(relative.search)) {\n    // just pull out the search.\n    // like href='?foo'.\n    // Put this after the other two cases because it simplifies the booleans\n    if (psychotic) {\n      result.hostname = result.host = srcPath.shift();\n      //occationaly the auth can get stuck only in host\n      //this especially happens in cases like\n      //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n      authInHost = result.host && result.host.indexOf('@') > 0 ?\n        result.host.split('@') : false;\n      if (authInHost) {\n        result.auth = authInHost.shift();\n        result.host = result.hostname = authInHost.shift();\n      }\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    //to support http.request\n    if (!isNull(result.pathname) || !isNull(result.search)) {\n      result.path = (result.pathname ? result.pathname : '') +\n        (result.search ? result.search : '');\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  if (!srcPath.length) {\n    // no path at all.  easy.\n    // we've already handled the other stuff above.\n    result.pathname = null;\n    //to support http.request\n    if (result.search) {\n      result.path = '/' + result.search;\n    } else {\n      result.path = null;\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  // if a url ENDs in . or .., then it must get a trailing slash.\n  // however, if it ends in anything else non-slashy,\n  // then it must NOT get a trailing slash.\n  var last = srcPath.slice(-1)[0];\n  var hasTrailingSlash = (\n    (result.host || relative.host || srcPath.length > 1) &&\n    (last === '.' || last === '..') || last === '');\n\n  // strip single dots, resolve double dots to parent dir\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = srcPath.length; i >= 0; i--) {\n    last = srcPath[i];\n    if (last === '.') {\n      srcPath.splice(i, 1);\n    } else if (last === '..') {\n      srcPath.splice(i, 1);\n      up++;\n    } else if (up) {\n      srcPath.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (!mustEndAbs && !removeAllDots) {\n    for (; up--; up) {\n      srcPath.unshift('..');\n    }\n  }\n\n  if (mustEndAbs && srcPath[0] !== '' &&\n    (!srcPath[0] || srcPath[0].charAt(0) !== '/')) {\n    srcPath.unshift('');\n  }\n\n  if (hasTrailingSlash && (srcPath.join('/').substr(-1) !== '/')) {\n    srcPath.push('');\n  }\n\n  var isAbsolute = srcPath[0] === '' ||\n    (srcPath[0] && srcPath[0].charAt(0) === '/');\n\n  // put the host back\n  if (psychotic) {\n    result.hostname = result.host = isAbsolute ? '' :\n      srcPath.length ? srcPath.shift() : '';\n    //occationaly the auth can get stuck only in host\n    //this especially happens in cases like\n    //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n    authInHost = result.host && result.host.indexOf('@') > 0 ?\n      result.host.split('@') : false;\n    if (authInHost) {\n      result.auth = authInHost.shift();\n      result.host = result.hostname = authInHost.shift();\n    }\n  }\n\n  mustEndAbs = mustEndAbs || (result.host && srcPath.length);\n\n  if (mustEndAbs && !isAbsolute) {\n    srcPath.unshift('');\n  }\n\n  if (!srcPath.length) {\n    result.pathname = null;\n    result.path = null;\n  } else {\n    result.pathname = srcPath.join('/');\n  }\n\n  //to support request.http\n  if (!isNull(result.pathname) || !isNull(result.search)) {\n    result.path = (result.pathname ? result.pathname : '') +\n      (result.search ? result.search : '');\n  }\n  result.auth = relative.auth || result.auth;\n  result.slashes = result.slashes || relative.slashes;\n  result.href = result.format();\n  return result;\n};\n\nUrl.prototype.parseHost = function() {\n  return parseHost(this);\n};\n\nfunction parseHost(self) {\n  var host = self.host;\n  var port = portPattern.exec(host);\n  if (port) {\n    port = port[0];\n    if (port !== ':') {\n      self.port = port.substr(1);\n    }\n    host = host.substr(0, host.length - port.length);\n  }\n  if (host) self.hostname = host;\n}\n","'use strict';\n\n\nmodule.exports = {\n  copy: copy,\n  checkDataType: checkDataType,\n  checkDataTypes: checkDataTypes,\n  coerceToTypes: coerceToTypes,\n  toHash: toHash,\n  getProperty: getProperty,\n  escapeQuotes: escapeQuotes,\n  ucs2length: require('./ucs2length'),\n  varOccurences: varOccurences,\n  varReplace: varReplace,\n  cleanUpCode: cleanUpCode,\n  finalCleanUpCode: finalCleanUpCode,\n  schemaHasRules: schemaHasRules,\n  schemaHasRulesExcept: schemaHasRulesExcept,\n  toQuotedString: toQuotedString,\n  getPathExpr: getPathExpr,\n  getPath: getPath,\n  getData: getData,\n  unescapeFragment: unescapeFragment,\n  escapeFragment: escapeFragment,\n  escapeJsonPointer: escapeJsonPointer\n};\n\n\nfunction copy(o, to) {\n  to = to || {};\n  for (var key in o) to[key] = o[key];\n  return to;\n}\n\n\nfunction checkDataType(dataType, data, negate) {\n  var EQUAL = negate ? ' !== ' : ' === '\n    , AND = negate ? ' || ' : ' && '\n    , OK = negate ? '!' : ''\n    , NOT = negate ? '' : '!';\n  switch (dataType) {\n    case 'null': return data + EQUAL + 'null';\n    case 'array': return OK + 'Array.isArray(' + data + ')';\n    case 'object': return '(' + OK + data + AND +\n                          'typeof ' + data + EQUAL + '\"object\"' + AND +\n                          NOT + 'Array.isArray(' + data + '))';\n    case 'integer': return '(typeof ' + data + EQUAL + '\"number\"' + AND +\n                           NOT + '(' + data + ' % 1)' +\n                           AND + data + EQUAL + data + ')';\n    default: return 'typeof ' + data + EQUAL + '\"' + dataType + '\"';\n  }\n}\n\n\nfunction checkDataTypes(dataTypes, data) {\n  switch (dataTypes.length) {\n    case 1: return checkDataType(dataTypes[0], data, true);\n    default:\n      var code = '';\n      var types = toHash(dataTypes);\n      if (types.array && types.object) {\n        code = types.null ? '(': '(!' + data + ' || ';\n        code += 'typeof ' + data + ' !== \"object\")';\n        delete types.null;\n        delete types.array;\n        delete types.object;\n      }\n      if (types.number) delete types.integer;\n      for (var t in types)\n        code += (code ? ' && ' : '' ) + checkDataType(t, data, true);\n\n      return code;\n  }\n}\n\n\nvar COERCE_TO_TYPES = toHash([ 'string', 'number', 'integer', 'boolean', 'null' ]);\nfunction coerceToTypes(optionCoerceTypes, dataTypes) {\n  if (Array.isArray(dataTypes)) {\n    var types = [];\n    for (var i=0; i<dataTypes.length; i++) {\n      var t = dataTypes[i];\n      if (COERCE_TO_TYPES[t]) types[types.length] = t;\n      else if (optionCoerceTypes === 'array' && t === 'array') types[types.length] = t;\n    }\n    if (types.length) return types;\n  } else if (COERCE_TO_TYPES[dataTypes]) {\n    return [dataTypes];\n  } else if (optionCoerceTypes === 'array' && dataTypes === 'array') {\n    return ['array'];\n  }\n}\n\n\nfunction toHash(arr) {\n  var hash = {};\n  for (var i=0; i<arr.length; i++) hash[arr[i]] = true;\n  return hash;\n}\n\n\nvar IDENTIFIER = /^[a-z$_][a-z$_0-9]*$/i;\nvar SINGLE_QUOTE = /'|\\\\/g;\nfunction getProperty(key) {\n  return typeof key == 'number'\n          ? '[' + key + ']'\n          : IDENTIFIER.test(key)\n            ? '.' + key\n            : \"['\" + escapeQuotes(key) + \"']\";\n}\n\n\nfunction escapeQuotes(str) {\n  return str.replace(SINGLE_QUOTE, '\\\\$&')\n            .replace(/\\n/g, '\\\\n')\n            .replace(/\\r/g, '\\\\r')\n            .replace(/\\f/g, '\\\\f')\n            .replace(/\\t/g, '\\\\t');\n}\n\n\nfunction varOccurences(str, dataVar) {\n  dataVar += '[^0-9]';\n  var matches = str.match(new RegExp(dataVar, 'g'));\n  return matches ? matches.length : 0;\n}\n\n\nfunction varReplace(str, dataVar, expr) {\n  dataVar += '([^0-9])';\n  expr = expr.replace(/\\$/g, '$$$$');\n  return str.replace(new RegExp(dataVar, 'g'), expr + '$1');\n}\n\n\nvar EMPTY_ELSE = /else\\s*{\\s*}/g\n  , EMPTY_IF_NO_ELSE = /if\\s*\\([^)]+\\)\\s*\\{\\s*\\}(?!\\s*else)/g\n  , EMPTY_IF_WITH_ELSE = /if\\s*\\(([^)]+)\\)\\s*\\{\\s*\\}\\s*else(?!\\s*if)/g;\nfunction cleanUpCode(out) {\n  return out.replace(EMPTY_ELSE, '')\n            .replace(EMPTY_IF_NO_ELSE, '')\n            .replace(EMPTY_IF_WITH_ELSE, 'if (!($1))');\n}\n\n\nvar ERRORS_REGEXP = /[^v\\.]errors/g\n  , REMOVE_ERRORS = /var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g\n  , REMOVE_ERRORS_ASYNC = /var errors = 0;|var vErrors = null;/g\n  , RETURN_VALID = 'return errors === 0;'\n  , RETURN_TRUE = 'validate.errors = null; return true;'\n  , RETURN_ASYNC = /if \\(errors === 0\\) return data;\\s*else throw new ValidationError\\(vErrors\\);/\n  , RETURN_DATA_ASYNC = 'return data;'\n  , ROOTDATA_REGEXP = /[^A-Za-z_$]rootData[^A-Za-z0-9_$]/g\n  , REMOVE_ROOTDATA = /if \\(rootData === undefined\\) rootData = data;/;\n\nfunction finalCleanUpCode(out, async) {\n  var matches = out.match(ERRORS_REGEXP);\n  if (matches && matches.length == 2) {\n    out = async\n          ? out.replace(REMOVE_ERRORS_ASYNC, '')\n               .replace(RETURN_ASYNC, RETURN_DATA_ASYNC)\n          : out.replace(REMOVE_ERRORS, '')\n               .replace(RETURN_VALID, RETURN_TRUE);\n  }\n\n  matches = out.match(ROOTDATA_REGEXP);\n  if (!matches || matches.length !== 3) return out;\n  return out.replace(REMOVE_ROOTDATA, '');\n}\n\n\nfunction schemaHasRules(schema, rules) {\n  if (typeof schema == 'boolean') return !schema;\n  for (var key in schema) if (rules[key]) return true;\n}\n\n\nfunction schemaHasRulesExcept(schema, rules, exceptKeyword) {\n  if (typeof schema == 'boolean') return !schema && exceptKeyword != 'not';\n  for (var key in schema) if (key != exceptKeyword && rules[key]) return true;\n}\n\n\nfunction toQuotedString(str) {\n  return '\\'' + escapeQuotes(str) + '\\'';\n}\n\n\nfunction getPathExpr(currentPath, expr, jsonPointers, isNumber) {\n  var path = jsonPointers // false by default\n              ? '\\'/\\' + ' + expr + (isNumber ? '' : '.replace(/~/g, \\'~0\\').replace(/\\\\//g, \\'~1\\')')\n              : (isNumber ? '\\'[\\' + ' + expr + ' + \\']\\'' : '\\'[\\\\\\'\\' + ' + expr + ' + \\'\\\\\\']\\'');\n  return joinPaths(currentPath, path);\n}\n\n\nfunction getPath(currentPath, prop, jsonPointers) {\n  var path = jsonPointers // false by default\n              ? toQuotedString('/' + escapeJsonPointer(prop))\n              : toQuotedString(getProperty(prop));\n  return joinPaths(currentPath, path);\n}\n\n\nvar JSON_POINTER = /^\\/(?:[^~]|~0|~1)*$/;\nvar RELATIVE_JSON_POINTER = /^([0-9]+)(#|\\/(?:[^~]|~0|~1)*)?$/;\nfunction getData($data, lvl, paths) {\n  var up, jsonPointer, data, matches;\n  if ($data === '') return 'rootData';\n  if ($data[0] == '/') {\n    if (!JSON_POINTER.test($data)) throw new Error('Invalid JSON-pointer: ' + $data);\n    jsonPointer = $data;\n    data = 'rootData';\n  } else {\n    matches = $data.match(RELATIVE_JSON_POINTER);\n    if (!matches) throw new Error('Invalid JSON-pointer: ' + $data);\n    up = +matches[1];\n    jsonPointer = matches[2];\n    if (jsonPointer == '#') {\n      if (up >= lvl) throw new Error('Cannot access property/index ' + up + ' levels up, current level is ' + lvl);\n      return paths[lvl - up];\n    }\n\n    if (up > lvl) throw new Error('Cannot access data ' + up + ' levels up, current level is ' + lvl);\n    data = 'data' + ((lvl - up) || '');\n    if (!jsonPointer) return data;\n  }\n\n  var expr = data;\n  var segments = jsonPointer.split('/');\n  for (var i=0; i<segments.length; i++) {\n    var segment = segments[i];\n    if (segment) {\n      data += getProperty(unescapeJsonPointer(segment));\n      expr += ' && ' + data;\n    }\n  }\n  return expr;\n}\n\n\nfunction joinPaths (a, b) {\n  if (a == '\"\"') return b;\n  return (a + ' + ' + b).replace(/' \\+ '/g, '');\n}\n\n\nfunction unescapeFragment(str) {\n  return unescapeJsonPointer(decodeURIComponent(str));\n}\n\n\nfunction escapeFragment(str) {\n  return encodeURIComponent(escapeJsonPointer(str));\n}\n\n\nfunction escapeJsonPointer(str) {\n  return str.replace(/~/g, '~0').replace(/\\//g, '~1');\n}\n\n\nfunction unescapeJsonPointer(str) {\n  return str.replace(/~1/g, '/').replace(/~0/g, '~');\n}\n","'use strict';\n\nvar util = require('./util');\n\nmodule.exports = SchemaObject;\n\nfunction SchemaObject(obj) {\n  util.copy(obj, this);\n}\n","'use strict';\n\nvar url = require('url')\n  , equal = require('./equal')\n  , util = require('./util')\n  , SchemaObject = require('./schema_obj');\n\nmodule.exports = resolve;\n\nresolve.normalizeId = normalizeId;\nresolve.fullPath = getFullPath;\nresolve.url = resolveUrl;\nresolve.ids = resolveIds;\nresolve.inlineRef = inlineRef;\nresolve.schema = resolveSchema;\n\n/**\n * [resolve and compile the references ($ref)]\n * @this   Ajv\n * @param  {Function} compile reference to schema compilation funciton (localCompile)\n * @param  {Object} root object with information about the root schema for the current schema\n * @param  {String} ref reference to resolve\n * @return {Object|Function} schema object (if the schema can be inlined) or validation function\n */\nfunction resolve(compile, root, ref) {\n  /* jshint validthis: true */\n  var refVal = this._refs[ref];\n  if (typeof refVal == 'string') {\n    if (this._refs[refVal]) refVal = this._refs[refVal];\n    else return resolve.call(this, compile, root, refVal);\n  }\n\n  refVal = refVal || this._schemas[ref];\n  if (refVal instanceof SchemaObject) {\n    return inlineRef(refVal.schema, this._opts.inlineRefs)\n            ? refVal.schema\n            : refVal.validate || this._compile(refVal);\n  }\n\n  var res = resolveSchema.call(this, root, ref);\n  var schema, v, baseId;\n  if (res) {\n    schema = res.schema;\n    root = res.root;\n    baseId = res.baseId;\n  }\n\n  if (schema instanceof SchemaObject) {\n    v = schema.validate || compile.call(this, schema.schema, root, undefined, baseId);\n  } else if (schema !== undefined) {\n    v = inlineRef(schema, this._opts.inlineRefs)\n        ? schema\n        : compile.call(this, schema, root, undefined, baseId);\n  }\n\n  return v;\n}\n\n\n/**\n * Resolve schema, its root and baseId\n * @this Ajv\n * @param  {Object} root root object with properties schema, refVal, refs\n * @param  {String} ref  reference to resolve\n * @return {Object} object with properties schema, root, baseId\n */\nfunction resolveSchema(root, ref) {\n  /* jshint validthis: true */\n  var p = url.parse(ref, false, true)\n    , refPath = _getFullPath(p)\n    , baseId = getFullPath(this._getId(root.schema));\n  if (refPath !== baseId) {\n    var id = normalizeId(refPath);\n    var refVal = this._refs[id];\n    if (typeof refVal == 'string') {\n      return resolveRecursive.call(this, root, refVal, p);\n    } else if (refVal instanceof SchemaObject) {\n      if (!refVal.validate) this._compile(refVal);\n      root = refVal;\n    } else {\n      refVal = this._schemas[id];\n      if (refVal instanceof SchemaObject) {\n        if (!refVal.validate) this._compile(refVal);\n        if (id == normalizeId(ref))\n          return { schema: refVal, root: root, baseId: baseId };\n        root = refVal;\n      } else {\n        return;\n      }\n    }\n    if (!root.schema) return;\n    baseId = getFullPath(this._getId(root.schema));\n  }\n  return getJsonPointer.call(this, p, baseId, root.schema, root);\n}\n\n\n/* @this Ajv */\nfunction resolveRecursive(root, ref, parsedRef) {\n  /* jshint validthis: true */\n  var res = resolveSchema.call(this, root, ref);\n  if (res) {\n    var schema = res.schema;\n    var baseId = res.baseId;\n    root = res.root;\n    var id = this._getId(schema);\n    if (id) baseId = resolveUrl(baseId, id);\n    return getJsonPointer.call(this, parsedRef, baseId, schema, root);\n  }\n}\n\n\nvar PREVENT_SCOPE_CHANGE = util.toHash(['properties', 'patternProperties', 'enum', 'dependencies', 'definitions']);\n/* @this Ajv */\nfunction getJsonPointer(parsedRef, baseId, schema, root) {\n  /* jshint validthis: true */\n  parsedRef.hash = parsedRef.hash || '';\n  if (parsedRef.hash.slice(0,2) != '#/') return;\n  var parts = parsedRef.hash.split('/');\n\n  for (var i = 1; i < parts.length; i++) {\n    var part = parts[i];\n    if (part) {\n      part = util.unescapeFragment(part);\n      schema = schema[part];\n      if (schema === undefined) break;\n      var id;\n      if (!PREVENT_SCOPE_CHANGE[part]) {\n        id = this._getId(schema);\n        if (id) baseId = resolveUrl(baseId, id);\n        if (schema.$ref) {\n          var $ref = resolveUrl(baseId, schema.$ref);\n          var res = resolveSchema.call(this, root, $ref);\n          if (res) {\n            schema = res.schema;\n            root = res.root;\n            baseId = res.baseId;\n          }\n        }\n      }\n    }\n  }\n  if (schema !== undefined && schema !== root.schema)\n    return { schema: schema, root: root, baseId: baseId };\n}\n\n\nvar SIMPLE_INLINED = util.toHash([\n  'type', 'format', 'pattern',\n  'maxLength', 'minLength',\n  'maxProperties', 'minProperties',\n  'maxItems', 'minItems',\n  'maximum', 'minimum',\n  'uniqueItems', 'multipleOf',\n  'required', 'enum'\n]);\nfunction inlineRef(schema, limit) {\n  if (limit === false) return false;\n  if (limit === undefined || limit === true) return checkNoRef(schema);\n  else if (limit) return countKeys(schema) <= limit;\n}\n\n\nfunction checkNoRef(schema) {\n  var item;\n  if (Array.isArray(schema)) {\n    for (var i=0; i<schema.length; i++) {\n      item = schema[i];\n      if (typeof item == 'object' && !checkNoRef(item)) return false;\n    }\n  } else {\n    for (var key in schema) {\n      if (key == '$ref') return false;\n      item = schema[key];\n      if (typeof item == 'object' && !checkNoRef(item)) return false;\n    }\n  }\n  return true;\n}\n\n\nfunction countKeys(schema) {\n  var count = 0, item;\n  if (Array.isArray(schema)) {\n    for (var i=0; i<schema.length; i++) {\n      item = schema[i];\n      if (typeof item == 'object') count += countKeys(item);\n      if (count == Infinity) return Infinity;\n    }\n  } else {\n    for (var key in schema) {\n      if (key == '$ref') return Infinity;\n      if (SIMPLE_INLINED[key]) {\n        count++;\n      } else {\n        item = schema[key];\n        if (typeof item == 'object') count += countKeys(item) + 1;\n        if (count == Infinity) return Infinity;\n      }\n    }\n  }\n  return count;\n}\n\n\nfunction getFullPath(id, normalize) {\n  if (normalize !== false) id = normalizeId(id);\n  var p = url.parse(id, false, true);\n  return _getFullPath(p);\n}\n\n\nfunction _getFullPath(p) {\n  var protocolSeparator = p.protocol || p.href.slice(0,2) == '//' ? '//' : '';\n  return (p.protocol||'') + protocolSeparator + (p.host||'') + (p.path||'')  + '#';\n}\n\n\nvar TRAILING_SLASH_HASH = /#\\/?$/;\nfunction normalizeId(id) {\n  return id ? id.replace(TRAILING_SLASH_HASH, '') : '';\n}\n\n\nfunction resolveUrl(baseId, id) {\n  id = normalizeId(id);\n  return url.resolve(baseId, id);\n}\n\n\n/* @this Ajv */\nfunction resolveIds(schema) {\n  /* eslint no-shadow: 0 */\n  /* jshint validthis: true */\n  var id = normalizeId(this._getId(schema));\n  var localRefs = {};\n  _resolveIds.call(this, schema, getFullPath(id, false), id);\n  return localRefs;\n\n  /* @this Ajv */\n  function _resolveIds(schema, fullPath, baseId) {\n    /* jshint validthis: true */\n    if (Array.isArray(schema)) {\n      for (var i=0; i<schema.length; i++)\n        _resolveIds.call(this, schema[i], fullPath+'/'+i, baseId);\n    } else if (schema && typeof schema == 'object') {\n      var id = this._getId(schema);\n      if (typeof id == 'string') {\n        id = baseId = normalizeId(baseId ? url.resolve(baseId, id) : id);\n\n        var refVal = this._refs[id];\n        if (typeof refVal == 'string') refVal = this._refs[refVal];\n        if (refVal && refVal.schema) {\n          if (!equal(schema, refVal.schema))\n            throw new Error('id \"' + id + '\" resolves to more than one schema');\n        } else if (id != normalizeId(fullPath)) {\n          if (id[0] == '#') {\n            if (localRefs[id] && !equal(schema, localRefs[id]))\n              throw new Error('id \"' + id + '\" resolves to more than one schema');\n            localRefs[id] = schema;\n          } else {\n            this._refs[id] = fullPath;\n          }\n        }\n      }\n      for (var key in schema)\n        _resolveIds.call(this, schema[key], fullPath+'/'+util.escapeFragment(key), baseId);\n    }\n  }\n}\n","'use strict';\n\nvar resolve = require('./resolve');\n\nmodule.exports = {\n  Validation: errorSubclass(ValidationError),\n  MissingRef: errorSubclass(MissingRefError)\n};\n\n\nfunction ValidationError(errors) {\n  this.message = 'validation failed';\n  this.errors = errors;\n  this.ajv = this.validation = true;\n}\n\n\nMissingRefError.message = function (baseId, ref) {\n  return 'can\\'t resolve reference ' + ref + ' from id ' + baseId;\n};\n\n\nfunction MissingRefError(baseId, ref, message) {\n  this.message = message || MissingRefError.message(baseId, ref);\n  this.missingRef = resolve.url(baseId, ref);\n  this.missingSchema = resolve.normalizeId(resolve.fullPath(this.missingRef));\n}\n\n\nfunction errorSubclass(Subclass) {\n  Subclass.prototype = Object.create(Error.prototype);\n  Subclass.prototype.constructor = Subclass;\n  return Subclass;\n}\n","var cx = /[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n    escapable = /[\\\\\\\"\\x00-\\x1f\\x7f-\\x9f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n    gap,\n    indent,\n    meta = {    // table of character substitutions\n        '\\b': '\\\\b',\n        '\\t': '\\\\t',\n        '\\n': '\\\\n',\n        '\\f': '\\\\f',\n        '\\r': '\\\\r',\n        '\"' : '\\\\\"',\n        '\\\\': '\\\\\\\\'\n    },\n    rep;\n\nfunction quote(string) {\n    // If the string contains no control characters, no quote characters, and no\n    // backslash characters, then we can safely slap some quotes around it.\n    // Otherwise we must also replace the offending characters with safe escape\n    // sequences.\n    \n    escapable.lastIndex = 0;\n    return escapable.test(string) ? '\"' + string.replace(escapable, function (a) {\n        var c = meta[a];\n        return typeof c === 'string' ? c :\n            '\\\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);\n    }) + '\"' : '\"' + string + '\"';\n}\n\nfunction str(key, holder) {\n    // Produce a string from holder[key].\n    var i,          // The loop counter.\n        k,          // The member key.\n        v,          // The member value.\n        length,\n        mind = gap,\n        partial,\n        value = holder[key];\n    \n    // If the value has a toJSON method, call it to obtain a replacement value.\n    if (value && typeof value === 'object' &&\n            typeof value.toJSON === 'function') {\n        value = value.toJSON(key);\n    }\n    \n    // If we were called with a replacer function, then call the replacer to\n    // obtain a replacement value.\n    if (typeof rep === 'function') {\n        value = rep.call(holder, key, value);\n    }\n    \n    // What happens next depends on the value's type.\n    switch (typeof value) {\n        case 'string':\n            return quote(value);\n        \n        case 'number':\n            // JSON numbers must be finite. Encode non-finite numbers as null.\n            return isFinite(value) ? String(value) : 'null';\n        \n        case 'boolean':\n        case 'null':\n            // If the value is a boolean or null, convert it to a string. Note:\n            // typeof null does not produce 'null'. The case is included here in\n            // the remote chance that this gets fixed someday.\n            return String(value);\n            \n        case 'object':\n            if (!value) return 'null';\n            gap += indent;\n            partial = [];\n            \n            // Array.isArray\n            if (Object.prototype.toString.apply(value) === '[object Array]') {\n                length = value.length;\n                for (i = 0; i < length; i += 1) {\n                    partial[i] = str(i, value) || 'null';\n                }\n                \n                // Join all of the elements together, separated with commas, and\n                // wrap them in brackets.\n                v = partial.length === 0 ? '[]' : gap ?\n                    '[\\n' + gap + partial.join(',\\n' + gap) + '\\n' + mind + ']' :\n                    '[' + partial.join(',') + ']';\n                gap = mind;\n                return v;\n            }\n            \n            // If the replacer is an array, use it to select the members to be\n            // stringified.\n            if (rep && typeof rep === 'object') {\n                length = rep.length;\n                for (i = 0; i < length; i += 1) {\n                    k = rep[i];\n                    if (typeof k === 'string') {\n                        v = str(k, value);\n                        if (v) {\n                            partial.push(quote(k) + (gap ? ': ' : ':') + v);\n                        }\n                    }\n                }\n            }\n            else {\n                // Otherwise, iterate through all of the keys in the object.\n                for (k in value) {\n                    if (Object.prototype.hasOwnProperty.call(value, k)) {\n                        v = str(k, value);\n                        if (v) {\n                            partial.push(quote(k) + (gap ? ': ' : ':') + v);\n                        }\n                    }\n                }\n            }\n            \n        // Join all of the member texts together, separated with commas,\n        // and wrap them in braces.\n\n        v = partial.length === 0 ? '{}' : gap ?\n            '{\\n' + gap + partial.join(',\\n' + gap) + '\\n' + mind + '}' :\n            '{' + partial.join(',') + '}';\n        gap = mind;\n        return v;\n    }\n}\n\nmodule.exports = function (value, replacer, space) {\n    var i;\n    gap = '';\n    indent = '';\n    \n    // If the space parameter is a number, make an indent string containing that\n    // many spaces.\n    if (typeof space === 'number') {\n        for (i = 0; i < space; i += 1) {\n            indent += ' ';\n        }\n    }\n    // If the space parameter is a string, it will be used as the indent string.\n    else if (typeof space === 'string') {\n        indent = space;\n    }\n\n    // If there is a replacer, it must be a function or an array.\n    // Otherwise, throw an error.\n    rep = replacer;\n    if (replacer && typeof replacer !== 'function'\n    && (typeof replacer !== 'object' || typeof replacer.length !== 'number')) {\n        throw new Error('JSON.stringify');\n    }\n    \n    // Make a fake root object containing our value under the key of ''.\n    // Return the result of stringifying the value.\n    return str('', {'': value});\n};\n","\n/**\n * slice() reference.\n */\n\nvar slice = Array.prototype.slice;\n\n/**\n * Expose `co`.\n */\n\nmodule.exports = co['default'] = co.co = co;\n\n/**\n * Wrap the given generator `fn` into a\n * function that returns a promise.\n * This is a separate function so that\n * every `co()` call doesn't create a new,\n * unnecessary closure.\n *\n * @param {GeneratorFunction} fn\n * @return {Function}\n * @api public\n */\n\nco.wrap = function (fn) {\n  createPromise.__generatorFunction__ = fn;\n  return createPromise;\n  function createPromise() {\n    return co.call(this, fn.apply(this, arguments));\n  }\n};\n\n/**\n * Execute the generator function or a generator\n * and return a promise.\n *\n * @param {Function} fn\n * @return {Promise}\n * @api public\n */\n\nfunction co(gen) {\n  var ctx = this;\n  var args = slice.call(arguments, 1)\n\n  // we wrap everything in a promise to avoid promise chaining,\n  // which leads to memory leak errors.\n  // see https://github.com/tj/co/issues/180\n  return new Promise(function(resolve, reject) {\n    if (typeof gen === 'function') gen = gen.apply(ctx, args);\n    if (!gen || typeof gen.next !== 'function') return resolve(gen);\n\n    onFulfilled();\n\n    /**\n     * @param {Mixed} res\n     * @return {Promise}\n     * @api private\n     */\n\n    function onFulfilled(res) {\n      var ret;\n      try {\n        ret = gen.next(res);\n      } catch (e) {\n        return reject(e);\n      }\n      next(ret);\n    }\n\n    /**\n     * @param {Error} err\n     * @return {Promise}\n     * @api private\n     */\n\n    function onRejected(err) {\n      var ret;\n      try {\n        ret = gen.throw(err);\n      } catch (e) {\n        return reject(e);\n      }\n      next(ret);\n    }\n\n    /**\n     * Get the next value in the generator,\n     * return a promise.\n     *\n     * @param {Object} ret\n     * @return {Promise}\n     * @api private\n     */\n\n    function next(ret) {\n      if (ret.done) return resolve(ret.value);\n      var value = toPromise.call(ctx, ret.value);\n      if (value && isPromise(value)) return value.then(onFulfilled, onRejected);\n      return onRejected(new TypeError('You may only yield a function, promise, generator, array, or object, '\n        + 'but the following object was passed: \"' + String(ret.value) + '\"'));\n    }\n  });\n}\n\n/**\n * Convert a `yield`ed value into a promise.\n *\n * @param {Mixed} obj\n * @return {Promise}\n * @api private\n */\n\nfunction toPromise(obj) {\n  if (!obj) return obj;\n  if (isPromise(obj)) return obj;\n  if (isGeneratorFunction(obj) || isGenerator(obj)) return co.call(this, obj);\n  if ('function' == typeof obj) return thunkToPromise.call(this, obj);\n  if (Array.isArray(obj)) return arrayToPromise.call(this, obj);\n  if (isObject(obj)) return objectToPromise.call(this, obj);\n  return obj;\n}\n\n/**\n * Convert a thunk to a promise.\n *\n * @param {Function}\n * @return {Promise}\n * @api private\n */\n\nfunction thunkToPromise(fn) {\n  var ctx = this;\n  return new Promise(function (resolve, reject) {\n    fn.call(ctx, function (err, res) {\n      if (err) return reject(err);\n      if (arguments.length > 2) res = slice.call(arguments, 1);\n      resolve(res);\n    });\n  });\n}\n\n/**\n * Convert an array of \"yieldables\" to a promise.\n * Uses `Promise.all()` internally.\n *\n * @param {Array} obj\n * @return {Promise}\n * @api private\n */\n\nfunction arrayToPromise(obj) {\n  return Promise.all(obj.map(toPromise, this));\n}\n\n/**\n * Convert an object of \"yieldables\" to a promise.\n * Uses `Promise.all()` internally.\n *\n * @param {Object} obj\n * @return {Promise}\n * @api private\n */\n\nfunction objectToPromise(obj){\n  var results = new obj.constructor();\n  var keys = Object.keys(obj);\n  var promises = [];\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var promise = toPromise.call(this, obj[key]);\n    if (promise && isPromise(promise)) defer(promise, key);\n    else results[key] = obj[key];\n  }\n  return Promise.all(promises).then(function () {\n    return results;\n  });\n\n  function defer(promise, key) {\n    // predefine the key in the result\n    results[key] = undefined;\n    promises.push(promise.then(function (res) {\n      results[key] = res;\n    }));\n  }\n}\n\n/**\n * Check if `obj` is a promise.\n *\n * @param {Object} obj\n * @return {Boolean}\n * @api private\n */\n\nfunction isPromise(obj) {\n  return 'function' == typeof obj.then;\n}\n\n/**\n * Check if `obj` is a generator.\n *\n * @param {Mixed} obj\n * @return {Boolean}\n * @api private\n */\n\nfunction isGenerator(obj) {\n  return 'function' == typeof obj.next && 'function' == typeof obj.throw;\n}\n\n/**\n * Check if `obj` is a generator function.\n *\n * @param {Mixed} obj\n * @return {Boolean}\n * @api private\n */\nfunction isGeneratorFunction(obj) {\n  var constructor = obj.constructor;\n  if (!constructor) return false;\n  if ('GeneratorFunction' === constructor.name || 'GeneratorFunction' === constructor.displayName) return true;\n  return isGenerator(constructor.prototype);\n}\n\n/**\n * Check for plain object.\n *\n * @param {Mixed} val\n * @return {Boolean}\n * @api private\n */\n\nfunction isObject(val) {\n  return Object == val.constructor;\n}\n","'use strict';\n\nvar resolve = require('./resolve')\n  , util = require('./util')\n  , errorClasses = require('./error_classes')\n  , stableStringify = require('json-stable-stringify');\n\nvar validateGenerator = require('../dotjs/validate');\n\n/**\n * Functions below are used inside compiled validations function\n */\n\nvar co = require('co');\nvar ucs2length = util.ucs2length;\nvar equal = require('./equal');\n\n// this error is thrown by async schemas to return validation errors via exception\nvar ValidationError = errorClasses.Validation;\n\nmodule.exports = compile;\n\n\n/**\n * Compiles schema to validation function\n * @this   Ajv\n * @param  {Object} schema schema object\n * @param  {Object} root object with information about the root schema for this schema\n * @param  {Object} localRefs the hash of local references inside the schema (created by resolve.id), used for inline resolution\n * @param  {String} baseId base ID for IDs in the schema\n * @return {Function} validation function\n */\nfunction compile(schema, root, localRefs, baseId) {\n  /* jshint validthis: true, evil: true */\n  /* eslint no-shadow: 0 */\n  var self = this\n    , opts = this._opts\n    , refVal = [ undefined ]\n    , refs = {}\n    , patterns = []\n    , patternsHash = {}\n    , defaults = []\n    , defaultsHash = {}\n    , customRules = [];\n\n  root = root || { schema: schema, refVal: refVal, refs: refs };\n\n  var c = checkCompiling.call(this, schema, root, baseId);\n  var compilation = this._compilations[c.index];\n  if (c.compiling) return (compilation.callValidate = callValidate);\n\n  var formats = this._formats;\n  var RULES = this.RULES;\n\n  try {\n    var v = localCompile(schema, root, localRefs, baseId);\n    compilation.validate = v;\n    var cv = compilation.callValidate;\n    if (cv) {\n      cv.schema = v.schema;\n      cv.errors = null;\n      cv.refs = v.refs;\n      cv.refVal = v.refVal;\n      cv.root = v.root;\n      cv.$async = v.$async;\n      if (opts.sourceCode) cv.source = v.source;\n    }\n    return v;\n  } finally {\n    endCompiling.call(this, schema, root, baseId);\n  }\n\n  function callValidate() {\n    var validate = compilation.validate;\n    var result = validate.apply(null, arguments);\n    callValidate.errors = validate.errors;\n    return result;\n  }\n\n  function localCompile(_schema, _root, localRefs, baseId) {\n    var isRoot = !_root || (_root && _root.schema == _schema);\n    if (_root.schema != root.schema)\n      return compile.call(self, _schema, _root, localRefs, baseId);\n\n    var $async = _schema.$async === true;\n\n    var sourceCode = validateGenerator({\n      isTop: true,\n      schema: _schema,\n      isRoot: isRoot,\n      baseId: baseId,\n      root: _root,\n      schemaPath: '',\n      errSchemaPath: '#',\n      errorPath: '\"\"',\n      MissingRefError: errorClasses.MissingRef,\n      RULES: RULES,\n      validate: validateGenerator,\n      util: util,\n      resolve: resolve,\n      resolveRef: resolveRef,\n      usePattern: usePattern,\n      useDefault: useDefault,\n      useCustomRule: useCustomRule,\n      opts: opts,\n      formats: formats,\n      self: self\n    });\n\n    sourceCode = vars(refVal, refValCode) + vars(patterns, patternCode)\n                   + vars(defaults, defaultCode) + vars(customRules, customRuleCode)\n                   + sourceCode;\n\n    if (opts.processCode) sourceCode = opts.processCode(sourceCode);\n    // console.log('\\n\\n\\n *** \\n', JSON.stringify(sourceCode));\n    var validate;\n    try {\n      var makeValidate = new Function(\n        'self',\n        'RULES',\n        'formats',\n        'root',\n        'refVal',\n        'defaults',\n        'customRules',\n        'co',\n        'equal',\n        'ucs2length',\n        'ValidationError',\n        sourceCode\n      );\n\n      validate = makeValidate(\n        self,\n        RULES,\n        formats,\n        root,\n        refVal,\n        defaults,\n        customRules,\n        co,\n        equal,\n        ucs2length,\n        ValidationError\n      );\n\n      refVal[0] = validate;\n    } catch(e) {\n      console.error('Error compiling schema, function code:', sourceCode);\n      throw e;\n    }\n\n    validate.schema = _schema;\n    validate.errors = null;\n    validate.refs = refs;\n    validate.refVal = refVal;\n    validate.root = isRoot ? validate : _root;\n    if ($async) validate.$async = true;\n    if (opts.sourceCode === true) {\n      validate.source = {\n        code: sourceCode,\n        patterns: patterns,\n        defaults: defaults\n      };\n    }\n\n    return validate;\n  }\n\n  function resolveRef(baseId, ref, isRoot) {\n    ref = resolve.url(baseId, ref);\n    var refIndex = refs[ref];\n    var _refVal, refCode;\n    if (refIndex !== undefined) {\n      _refVal = refVal[refIndex];\n      refCode = 'refVal[' + refIndex + ']';\n      return resolvedRef(_refVal, refCode);\n    }\n    if (!isRoot && root.refs) {\n      var rootRefId = root.refs[ref];\n      if (rootRefId !== undefined) {\n        _refVal = root.refVal[rootRefId];\n        refCode = addLocalRef(ref, _refVal);\n        return resolvedRef(_refVal, refCode);\n      }\n    }\n\n    refCode = addLocalRef(ref);\n    var v = resolve.call(self, localCompile, root, ref);\n    if (v === undefined) {\n      var localSchema = localRefs && localRefs[ref];\n      if (localSchema) {\n        v = resolve.inlineRef(localSchema, opts.inlineRefs)\n            ? localSchema\n            : compile.call(self, localSchema, root, localRefs, baseId);\n      }\n    }\n\n    if (v !== undefined) {\n      replaceLocalRef(ref, v);\n      return resolvedRef(v, refCode);\n    }\n  }\n\n  function addLocalRef(ref, v) {\n    var refId = refVal.length;\n    refVal[refId] = v;\n    refs[ref] = refId;\n    return 'refVal' + refId;\n  }\n\n  function replaceLocalRef(ref, v) {\n    var refId = refs[ref];\n    refVal[refId] = v;\n  }\n\n  function resolvedRef(refVal, code) {\n    return typeof refVal == 'object' || typeof refVal == 'boolean'\n            ? { code: code, schema: refVal, inline: true }\n            : { code: code, $async: refVal && refVal.$async };\n  }\n\n  function usePattern(regexStr) {\n    var index = patternsHash[regexStr];\n    if (index === undefined) {\n      index = patternsHash[regexStr] = patterns.length;\n      patterns[index] = regexStr;\n    }\n    return 'pattern' + index;\n  }\n\n  function useDefault(value) {\n    switch (typeof value) {\n      case 'boolean':\n      case 'number':\n        return '' + value;\n      case 'string':\n        return util.toQuotedString(value);\n      case 'object':\n        if (value === null) return 'null';\n        var valueStr = stableStringify(value);\n        var index = defaultsHash[valueStr];\n        if (index === undefined) {\n          index = defaultsHash[valueStr] = defaults.length;\n          defaults[index] = value;\n        }\n        return 'default' + index;\n    }\n  }\n\n  function useCustomRule(rule, schema, parentSchema, it) {\n    var validateSchema = rule.definition.validateSchema;\n    if (validateSchema && self._opts.validateSchema !== false) {\n      var valid = validateSchema(schema);\n      if (!valid) {\n        var message = 'keyword schema is invalid: ' + self.errorsText(validateSchema.errors);\n        if (self._opts.validateSchema == 'log') console.error(message);\n        else throw new Error(message);\n      }\n    }\n\n    var compile = rule.definition.compile\n      , inline = rule.definition.inline\n      , macro = rule.definition.macro;\n\n    var validate;\n    if (compile) {\n      validate = compile.call(self, schema, parentSchema, it);\n    } else if (macro) {\n      validate = macro.call(self, schema, parentSchema, it);\n      if (opts.validateSchema !== false) self.validateSchema(validate, true);\n    } else if (inline) {\n      validate = inline.call(self, it, rule.keyword, schema, parentSchema);\n    } else {\n      validate = rule.definition.validate;\n      if (!validate) return;\n    }\n\n    if (validate === undefined)\n      throw new Error('custom keyword \"' + rule.keyword + '\"failed to compile');\n\n    var index = customRules.length;\n    customRules[index] = validate;\n\n    return {\n      code: 'customRule' + index,\n      validate: validate\n    };\n  }\n}\n\n\n/**\n * Checks if the schema is currently compiled\n * @this   Ajv\n * @param  {Object} schema schema to compile\n * @param  {Object} root root object\n * @param  {String} baseId base schema ID\n * @return {Object} object with properties \"index\" (compilation index) and \"compiling\" (boolean)\n */\nfunction checkCompiling(schema, root, baseId) {\n  /* jshint validthis: true */\n  var index = compIndex.call(this, schema, root, baseId);\n  if (index >= 0) return { index: index, compiling: true };\n  index = this._compilations.length;\n  this._compilations[index] = {\n    schema: schema,\n    root: root,\n    baseId: baseId\n  };\n  return { index: index, compiling: false };\n}\n\n\n/**\n * Removes the schema from the currently compiled list\n * @this   Ajv\n * @param  {Object} schema schema to compile\n * @param  {Object} root root object\n * @param  {String} baseId base schema ID\n */\nfunction endCompiling(schema, root, baseId) {\n  /* jshint validthis: true */\n  var i = compIndex.call(this, schema, root, baseId);\n  if (i >= 0) this._compilations.splice(i, 1);\n}\n\n\n/**\n * Index of schema compilation in the currently compiled list\n * @this   Ajv\n * @param  {Object} schema schema to compile\n * @param  {Object} root root object\n * @param  {String} baseId base schema ID\n * @return {Integer} compilation index\n */\nfunction compIndex(schema, root, baseId) {\n  /* jshint validthis: true */\n  for (var i=0; i<this._compilations.length; i++) {\n    var c = this._compilations[i];\n    if (c.schema == schema && c.root == root && c.baseId == baseId) return i;\n  }\n  return -1;\n}\n\n\nfunction patternCode(i, patterns) {\n  return 'var pattern' + i + ' = new RegExp(' + util.toQuotedString(patterns[i]) + ');';\n}\n\n\nfunction defaultCode(i) {\n  return 'var default' + i + ' = defaults[' + i + '];';\n}\n\n\nfunction refValCode(i, refVal) {\n  return refVal[i] === undefined ? '' : 'var refVal' + i + ' = refVal[' + i + '];';\n}\n\n\nfunction customRuleCode(i) {\n  return 'var customRule' + i + ' = customRules[' + i + '];';\n}\n\n\nfunction vars(arr, statement) {\n  if (!arr.length) return '';\n  var code = '';\n  for (var i=0; i<arr.length; i++)\n    code += statement(i, arr);\n  return code;\n}\n","'use strict';\n\nvar util = require('./util');\n\nvar DATE = /^\\d\\d\\d\\d-(\\d\\d)-(\\d\\d)$/;\nvar DAYS = [0,31,29,31,30,31,30,31,31,30,31,30,31];\nvar TIME = /^(\\d\\d):(\\d\\d):(\\d\\d)(\\.\\d+)?(z|[+-]\\d\\d:\\d\\d)?$/i;\nvar HOSTNAME = /^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*$/i;\nvar URI = /^(?:[a-z][a-z0-9+\\-.]*:)(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\.[a-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|(?:[a-z0-9\\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\\?(?:[a-z0-9\\-._~!$&'()*+,;=:@\\/?]|%[0-9a-f]{2})*)?(?:\\#(?:[a-z0-9\\-._~!$&'()*+,;=:@\\/?]|%[0-9a-f]{2})*)?$/i;\nvar URIREF = /^(?:[a-z][a-z0-9+\\-.]*:)?(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\.[a-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|(?:[a-z0-9\\-._~!$&'\"()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*|\\/(?:(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\\?(?:[a-z0-9\\-._~!$&'\"()*+,;=:@\\/?]|%[0-9a-f]{2})*)?(?:\\#(?:[a-z0-9\\-._~!$&'\"()*+,;=:@\\/?]|%[0-9a-f]{2})*)?$/i;\n// uri-template: https://tools.ietf.org/html/rfc6570\nvar URITEMPLATE = /^(?:(?:[^\\x00-\\x20\"'<>%\\\\^`{|}]|%[0-9a-f]{2})|\\{[+#.\\/;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?:\\:[1-9][0-9]{0,3}|\\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?:\\:[1-9][0-9]{0,3}|\\*)?)*\\})*$/i;\n// For the source: https://gist.github.com/dperini/729294\n// For test cases: https://mathiasbynens.be/demo/url-regex\n// @todo Delete current URL in favour of the commented out URL rule when this issue is fixed https://github.com/eslint/eslint/issues/7983.\n// var URL = /^(?:(?:https?|ftp):\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!10(?:\\.\\d{1,3}){3})(?!127(?:\\.\\d{1,3}){3})(?!169\\.254(?:\\.\\d{1,3}){2})(?!192\\.168(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u{00a1}-\\u{ffff}0-9]+-?)*[a-z\\u{00a1}-\\u{ffff}0-9]+)(?:\\.(?:[a-z\\u{00a1}-\\u{ffff}0-9]+-?)*[a-z\\u{00a1}-\\u{ffff}0-9]+)*(?:\\.(?:[a-z\\u{00a1}-\\u{ffff}]{2,})))(?::\\d{2,5})?(?:\\/[^\\s]*)?$/iu;\nvar URL = /^(?:(?:http[s\\u017F]?|ftp):\\/\\/)(?:(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+(?::(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*)?@)?(?:(?!10(?:\\.[0-9]{1,3}){3})(?!127(?:\\.[0-9]{1,3}){3})(?!169\\.254(?:\\.[0-9]{1,3}){2})(?!192\\.168(?:\\.[0-9]{1,3}){2})(?!172\\.(?:1[6-9]|2[0-9]|3[01])(?:\\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+\\-?)*(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+)(?:\\.(?:(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+\\-?)*(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+)*(?:\\.(?:(?:[KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\\/(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*)?$/i;\nvar UUID = /^(?:urn\\:uuid\\:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i;\nvar JSON_POINTER = /^(?:\\/(?:[^~\\/]|~0|~1)*)*$|^\\#(?:\\/(?:[a-z0-9_\\-\\.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i;\nvar RELATIVE_JSON_POINTER = /^(?:0|[1-9][0-9]*)(?:\\#|(?:\\/(?:[^~\\/]|~0|~1)*)*)$/;\n\n\nmodule.exports = formats;\n\nfunction formats(mode) {\n  mode = mode == 'full' ? 'full' : 'fast';\n  return util.copy(formats[mode]);\n}\n\n\nformats.fast = {\n  // date: http://tools.ietf.org/html/rfc3339#section-5.6\n  date: /^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d$/,\n  // date-time: http://tools.ietf.org/html/rfc3339#section-5.6\n  time: /^[0-2]\\d:[0-5]\\d:[0-5]\\d(?:\\.\\d+)?(?:z|[+-]\\d\\d:\\d\\d)?$/i,\n  'date-time': /^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d[t\\s][0-2]\\d:[0-5]\\d:[0-5]\\d(?:\\.\\d+)?(?:z|[+-]\\d\\d:\\d\\d)$/i,\n  // uri: https://github.com/mafintosh/is-my-json-valid/blob/master/formats.js\n  uri: /^(?:[a-z][a-z0-9+-.]*)(?:\\:|\\/)\\/?[^\\s]*$/i,\n  'uri-reference': /^(?:(?:[a-z][a-z0-9+-.]*:)?\\/\\/)?[^\\s]*$/i,\n  'uri-template': URITEMPLATE,\n  url: URL,\n  // email (sources from jsen validator):\n  // http://stackoverflow.com/questions/201323/using-a-regular-expression-to-validate-an-email-address#answer-8829363\n  // http://www.w3.org/TR/html5/forms.html#valid-e-mail-address (search for 'willful violation')\n  email: /^[a-z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,\n  hostname: HOSTNAME,\n  // optimized https://www.safaribooksonline.com/library/view/regular-expressions-cookbook/9780596802837/ch07s16.html\n  ipv4: /^(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)$/,\n  // optimized http://stackoverflow.com/questions/53497/regular-expression-that-matches-valid-ipv6-addresses\n  ipv6: /^\\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(?:%.+)?\\s*$/i,\n  regex: regex,\n  // uuid: http://tools.ietf.org/html/rfc4122\n  uuid: UUID,\n  // JSON-pointer: https://tools.ietf.org/html/rfc6901\n  // uri fragment: https://tools.ietf.org/html/rfc3986#appendix-A\n  'json-pointer': JSON_POINTER,\n  // relative JSON-pointer: http://tools.ietf.org/html/draft-luff-relative-json-pointer-00\n  'relative-json-pointer': RELATIVE_JSON_POINTER\n};\n\n\nformats.full = {\n  date: date,\n  time: time,\n  'date-time': date_time,\n  uri: uri,\n  'uri-reference': URIREF,\n  'uri-template': URITEMPLATE,\n  url: URL,\n  email: /^[a-z0-9!#$%&'*+\\/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&''*+\\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,\n  hostname: hostname,\n  ipv4: /^(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)$/,\n  ipv6: /^\\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(?:%.+)?\\s*$/i,\n  regex: regex,\n  uuid: UUID,\n  'json-pointer': JSON_POINTER,\n  'relative-json-pointer': RELATIVE_JSON_POINTER\n};\n\n\nfunction date(str) {\n  // full-date from http://tools.ietf.org/html/rfc3339#section-5.6\n  var matches = str.match(DATE);\n  if (!matches) return false;\n\n  var month = +matches[1];\n  var day = +matches[2];\n  return month >= 1 && month <= 12 && day >= 1 && day <= DAYS[month];\n}\n\n\nfunction time(str, full) {\n  var matches = str.match(TIME);\n  if (!matches) return false;\n\n  var hour = matches[1];\n  var minute = matches[2];\n  var second = matches[3];\n  var timeZone = matches[5];\n  return hour <= 23 && minute <= 59 && second <= 59 && (!full || timeZone);\n}\n\n\nvar DATE_TIME_SEPARATOR = /t|\\s/i;\nfunction date_time(str) {\n  // http://tools.ietf.org/html/rfc3339#section-5.6\n  var dateTime = str.split(DATE_TIME_SEPARATOR);\n  return dateTime.length == 2 && date(dateTime[0]) && time(dateTime[1], true);\n}\n\n\nfunction hostname(str) {\n  // https://tools.ietf.org/html/rfc1034#section-3.5\n  // https://tools.ietf.org/html/rfc1123#section-2\n  return str.length <= 255 && HOSTNAME.test(str);\n}\n\n\nvar NOT_URI_FRAGMENT = /\\/|\\:/;\nfunction uri(str) {\n  // http://jmrware.com/articles/2009/uri_regexp/URI_regex.html + optional protocol + required \".\"\n  return NOT_URI_FRAGMENT.test(str) && URI.test(str);\n}\n\n\nvar Z_ANCHOR = /[^\\\\]\\\\Z/;\nfunction regex(str) {\n  if (Z_ANCHOR.test(str)) return false;\n  try {\n    new RegExp(str);\n    return true;\n  } catch(e) {\n    return false;\n  }\n}\n","'use strict';\n\nvar MissingRefError = require('./error_classes').MissingRef;\n\nmodule.exports = compileAsync;\n\n\n/**\n * Creates validating function for passed schema with asynchronous loading of missing schemas.\n * `loadSchema` option should be a function that accepts schema uri and returns promise that resolves with the schema.\n * @this  Ajv\n * @param {Object}   schema schema object\n * @param {Boolean}  meta optional true to compile meta-schema; this parameter can be skipped\n * @param {Function} callback an optional node-style callback, it is called with 2 parameters: error (or null) and validating function.\n * @return {Promise} promise that resolves with a validating function.\n */\nfunction compileAsync(schema, meta, callback) {\n  /* eslint no-shadow: 0 */\n  /* global Promise */\n  /* jshint validthis: true */\n  var self = this;\n  if (typeof this._opts.loadSchema != 'function')\n    throw new Error('options.loadSchema should be a function');\n\n  if (typeof meta == 'function') {\n    callback = meta;\n    meta = undefined;\n  }\n\n  var p = loadMetaSchemaOf(schema).then(function () {\n    var schemaObj = self._addSchema(schema, undefined, meta);\n    return schemaObj.validate || _compileAsync(schemaObj);\n  });\n\n  if (callback) {\n    p.then(\n      function(v) { callback(null, v); },\n      callback\n    );\n  }\n\n  return p;\n\n\n  function loadMetaSchemaOf(sch) {\n    var $schema = sch.$schema;\n    return $schema && !self.getSchema($schema)\n            ? compileAsync.call(self, { $ref: $schema }, true)\n            : Promise.resolve();\n  }\n\n\n  function _compileAsync(schemaObj) {\n    try { return self._compile(schemaObj); }\n    catch(e) {\n      if (e instanceof MissingRefError) return loadMissingSchema(e);\n      throw e;\n    }\n\n\n    function loadMissingSchema(e) {\n      var ref = e.missingSchema;\n      if (added(ref)) throw new Error('Schema ' + ref + ' is loaded but ' + e.missingRef + ' cannot be resolved');\n\n      var schemaPromise = self._loadingSchemas[ref];\n      if (!schemaPromise) {\n        schemaPromise = self._loadingSchemas[ref] = self._opts.loadSchema(ref);\n        schemaPromise.then(removePromise, removePromise);\n      }\n\n      return schemaPromise.then(function (sch) {\n        if (!added(ref)) {\n          return loadMetaSchemaOf(sch).then(function () {\n            if (!added(ref)) self.addSchema(sch, ref, undefined, meta);\n          });\n        }\n      }).then(function() {\n        return _compileAsync(schemaObj);\n      });\n\n      function removePromise() {\n        delete self._loadingSchemas[ref];\n      }\n\n      function added(ref) {\n        return self._refs[ref] || self._schemas[ref];\n      }\n    }\n  }\n}\n","'use strict';\n\nvar IDENTIFIER = /^[a-z_$][a-z0-9_$\\-]*$/i;\nvar customRuleCode = require('./dotjs/custom');\n\nmodule.exports = {\n  add: addKeyword,\n  get: getKeyword,\n  remove: removeKeyword\n};\n\n/**\n * Define custom keyword\n * @this  Ajv\n * @param {String} keyword custom keyword, should be unique (including different from all standard, custom and macro keywords).\n * @param {Object} definition keyword definition object with properties `type` (type(s) which the keyword applies to), `validate` or `compile`.\n */\nfunction addKeyword(keyword, definition) {\n  /* jshint validthis: true */\n  /* eslint no-shadow: 0 */\n  var RULES = this.RULES;\n\n  if (RULES.keywords[keyword])\n    throw new Error('Keyword ' + keyword + ' is already defined');\n\n  if (!IDENTIFIER.test(keyword))\n    throw new Error('Keyword ' + keyword + ' is not a valid identifier');\n\n  if (definition) {\n    if (definition.macro && definition.valid !== undefined)\n      throw new Error('\"valid\" option cannot be used with macro keywords');\n\n    var dataType = definition.type;\n    if (Array.isArray(dataType)) {\n      var i, len = dataType.length;\n      for (i=0; i<len; i++) checkDataType(dataType[i]);\n      for (i=0; i<len; i++) _addRule(keyword, dataType[i], definition);\n    } else {\n      if (dataType) checkDataType(dataType);\n      _addRule(keyword, dataType, definition);\n    }\n\n    var $data = definition.$data === true && this._opts.$data;\n    if ($data && !definition.validate)\n      throw new Error('$data support: \"validate\" function is not defined');\n\n    var metaSchema = definition.metaSchema;\n    if (metaSchema) {\n      if ($data) {\n        metaSchema = {\n          anyOf: [\n            metaSchema,\n            { '$ref': 'https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/$data.json#' }\n          ]\n        };\n      }\n      definition.validateSchema = this.compile(metaSchema, true);\n    }\n  }\n\n  RULES.keywords[keyword] = RULES.all[keyword] = true;\n\n\n  function _addRule(keyword, dataType, definition) {\n    var ruleGroup;\n    for (var i=0; i<RULES.length; i++) {\n      var rg = RULES[i];\n      if (rg.type == dataType) {\n        ruleGroup = rg;\n        break;\n      }\n    }\n\n    if (!ruleGroup) {\n      ruleGroup = { type: dataType, rules: [] };\n      RULES.push(ruleGroup);\n    }\n\n    var rule = {\n      keyword: keyword,\n      definition: definition,\n      custom: true,\n      code: customRuleCode,\n      implements: definition.implements\n    };\n    ruleGroup.rules.push(rule);\n    RULES.custom[keyword] = rule;\n  }\n\n\n  function checkDataType(dataType) {\n    if (!RULES.types[dataType]) throw new Error('Unknown type ' + dataType);\n  }\n}\n\n\n/**\n * Get keyword\n * @this  Ajv\n * @param {String} keyword pre-defined or custom keyword.\n * @return {Object|Boolean} custom keyword definition, `true` if it is a predefined keyword, `false` otherwise.\n */\nfunction getKeyword(keyword) {\n  /* jshint validthis: true */\n  var rule = this.RULES.custom[keyword];\n  return rule ? rule.definition : this.RULES.keywords[keyword] || false;\n}\n\n\n/**\n * Remove keyword\n * @this  Ajv\n * @param {String} keyword pre-defined or custom keyword.\n */\nfunction removeKeyword(keyword) {\n  /* jshint validthis: true */\n  var RULES = this.RULES;\n  delete RULES.keywords[keyword];\n  delete RULES.all[keyword];\n  delete RULES.custom[keyword];\n  for (var i=0; i<RULES.length; i++) {\n    var rules = RULES[i].rules;\n    for (var j=0; j<rules.length; j++) {\n      if (rules[j].keyword == keyword) {\n        rules.splice(j, 1);\n        break;\n      }\n    }\n  }\n}\n","'use strict';\n\nvar compileSchema = require('./compile')\n  , resolve = require('./compile/resolve')\n  , Cache = require('./cache')\n  , SchemaObject = require('./compile/schema_obj')\n  , stableStringify = require('json-stable-stringify')\n  , formats = require('./compile/formats')\n  , rules = require('./compile/rules')\n  , $dataMetaSchema = require('./$data')\n  , patternGroups = require('./patternGroups')\n  , util = require('./compile/util')\n  , co = require('co');\n\nmodule.exports = Ajv;\n\nAjv.prototype.validate = validate;\nAjv.prototype.compile = compile;\nAjv.prototype.addSchema = addSchema;\nAjv.prototype.addMetaSchema = addMetaSchema;\nAjv.prototype.validateSchema = validateSchema;\nAjv.prototype.getSchema = getSchema;\nAjv.prototype.removeSchema = removeSchema;\nAjv.prototype.addFormat = addFormat;\nAjv.prototype.errorsText = errorsText;\n\nAjv.prototype._addSchema = _addSchema;\nAjv.prototype._compile = _compile;\n\nAjv.prototype.compileAsync = require('./compile/async');\nvar customKeyword = require('./keyword');\nAjv.prototype.addKeyword = customKeyword.add;\nAjv.prototype.getKeyword = customKeyword.get;\nAjv.prototype.removeKeyword = customKeyword.remove;\n\nvar errorClasses = require('./compile/error_classes');\nAjv.ValidationError = errorClasses.Validation;\nAjv.MissingRefError = errorClasses.MissingRef;\nAjv.$dataMetaSchema = $dataMetaSchema;\n\nvar META_SCHEMA_ID = 'http://json-schema.org/draft-06/schema';\n\nvar META_IGNORE_OPTIONS = [ 'removeAdditional', 'useDefaults', 'coerceTypes' ];\nvar META_SUPPORT_DATA = ['/properties'];\n\n/**\n * Creates validator instance.\n * Usage: `Ajv(opts)`\n * @param {Object} opts optional options\n * @return {Object} ajv instance\n */\nfunction Ajv(opts) {\n  if (!(this instanceof Ajv)) return new Ajv(opts);\n  opts = this._opts = util.copy(opts) || {};\n  this._schemas = {};\n  this._refs = {};\n  this._fragments = {};\n  this._formats = formats(opts.format);\n  var schemaUriFormat = this._schemaUriFormat = this._formats['uri-reference'];\n  this._schemaUriFormatFunc = function (str) { return schemaUriFormat.test(str); };\n\n  this._cache = opts.cache || new Cache;\n  this._loadingSchemas = {};\n  this._compilations = [];\n  this.RULES = rules();\n  this._getId = chooseGetId(opts);\n\n  opts.loopRequired = opts.loopRequired || Infinity;\n  if (opts.errorDataPath == 'property') opts._errorDataPathProperty = true;\n  if (opts.serialize === undefined) opts.serialize = stableStringify;\n  this._metaOpts = getMetaSchemaOptions(this);\n\n  if (opts.formats) addInitialFormats(this);\n  addDraft6MetaSchema(this);\n  if (typeof opts.meta == 'object') this.addMetaSchema(opts.meta);\n  addInitialSchemas(this);\n  if (opts.patternGroups) patternGroups(this);\n}\n\n\n\n/**\n * Validate data using schema\n * Schema will be compiled and cached (using serialized JSON as key. [json-stable-stringify](https://github.com/substack/json-stable-stringify) is used to serialize.\n * @this   Ajv\n * @param  {String|Object} schemaKeyRef key, ref or schema object\n * @param  {Any} data to be validated\n * @return {Boolean} validation result. Errors from the last validation will be available in `ajv.errors` (and also in compiled schema: `schema.errors`).\n */\nfunction validate(schemaKeyRef, data) {\n  var v;\n  if (typeof schemaKeyRef == 'string') {\n    v = this.getSchema(schemaKeyRef);\n    if (!v) throw new Error('no schema with key or ref \"' + schemaKeyRef + '\"');\n  } else {\n    var schemaObj = this._addSchema(schemaKeyRef);\n    v = schemaObj.validate || this._compile(schemaObj);\n  }\n\n  var valid = v(data);\n  if (v.$async === true)\n    return this._opts.async == '*' ? co(valid) : valid;\n  this.errors = v.errors;\n  return valid;\n}\n\n\n/**\n * Create validating function for passed schema.\n * @this   Ajv\n * @param  {Object} schema schema object\n * @param  {Boolean} _meta true if schema is a meta-schema. Used internally to compile meta schemas of custom keywords.\n * @return {Function} validating function\n */\nfunction compile(schema, _meta) {\n  var schemaObj = this._addSchema(schema, undefined, _meta);\n  return schemaObj.validate || this._compile(schemaObj);\n}\n\n\n/**\n * Adds schema to the instance.\n * @this   Ajv\n * @param {Object|Array} schema schema or array of schemas. If array is passed, `key` and other parameters will be ignored.\n * @param {String} key Optional schema key. Can be passed to `validate` method instead of schema object or id/ref. One schema per instance can have empty `id` and `key`.\n * @param {Boolean} _skipValidation true to skip schema validation. Used internally, option validateSchema should be used instead.\n * @param {Boolean} _meta true if schema is a meta-schema. Used internally, addMetaSchema should be used instead.\n */\nfunction addSchema(schema, key, _skipValidation, _meta) {\n  if (Array.isArray(schema)){\n    for (var i=0; i<schema.length; i++) this.addSchema(schema[i], undefined, _skipValidation, _meta);\n    return;\n  }\n  var id = this._getId(schema);\n  if (id !== undefined && typeof id != 'string')\n    throw new Error('schema id must be string');\n  key = resolve.normalizeId(key || id);\n  checkUnique(this, key);\n  this._schemas[key] = this._addSchema(schema, _skipValidation, _meta, true);\n}\n\n\n/**\n * Add schema that will be used to validate other schemas\n * options in META_IGNORE_OPTIONS are alway set to false\n * @this   Ajv\n * @param {Object} schema schema object\n * @param {String} key optional schema key\n * @param {Boolean} skipValidation true to skip schema validation, can be used to override validateSchema option for meta-schema\n */\nfunction addMetaSchema(schema, key, skipValidation) {\n  this.addSchema(schema, key, skipValidation, true);\n}\n\n\n/**\n * Validate schema\n * @this   Ajv\n * @param {Object} schema schema to validate\n * @param {Boolean} throwOrLogError pass true to throw (or log) an error if invalid\n * @return {Boolean} true if schema is valid\n */\nfunction validateSchema(schema, throwOrLogError) {\n  var $schema = schema.$schema;\n  if ($schema !== undefined && typeof $schema != 'string')\n    throw new Error('$schema must be a string');\n  $schema = $schema || this._opts.defaultMeta || defaultMeta(this);\n  if (!$schema) {\n    console.warn('meta-schema not available');\n    this.errors = null;\n    return true;\n  }\n  var currentUriFormat = this._formats.uri;\n  this._formats.uri = typeof currentUriFormat == 'function'\n                      ? this._schemaUriFormatFunc\n                      : this._schemaUriFormat;\n  var valid;\n  try { valid = this.validate($schema, schema); }\n  finally { this._formats.uri = currentUriFormat; }\n  if (!valid && throwOrLogError) {\n    var message = 'schema is invalid: ' + this.errorsText();\n    if (this._opts.validateSchema == 'log') console.error(message);\n    else throw new Error(message);\n  }\n  return valid;\n}\n\n\nfunction defaultMeta(self) {\n  var meta = self._opts.meta;\n  self._opts.defaultMeta = typeof meta == 'object'\n                            ? self._getId(meta) || meta\n                            : self.getSchema(META_SCHEMA_ID)\n                              ? META_SCHEMA_ID\n                              : undefined;\n  return self._opts.defaultMeta;\n}\n\n\n/**\n * Get compiled schema from the instance by `key` or `ref`.\n * @this   Ajv\n * @param  {String} keyRef `key` that was passed to `addSchema` or full schema reference (`schema.id` or resolved id).\n * @return {Function} schema validating function (with property `schema`).\n */\nfunction getSchema(keyRef) {\n  var schemaObj = _getSchemaObj(this, keyRef);\n  switch (typeof schemaObj) {\n    case 'object': return schemaObj.validate || this._compile(schemaObj);\n    case 'string': return this.getSchema(schemaObj);\n    case 'undefined': return _getSchemaFragment(this, keyRef);\n  }\n}\n\n\nfunction _getSchemaFragment(self, ref) {\n  var res = resolve.schema.call(self, { schema: {} }, ref);\n  if (res) {\n    var schema = res.schema\n      , root = res.root\n      , baseId = res.baseId;\n    var v = compileSchema.call(self, schema, root, undefined, baseId);\n    self._fragments[ref] = new SchemaObject({\n      ref: ref,\n      fragment: true,\n      schema: schema,\n      root: root,\n      baseId: baseId,\n      validate: v\n    });\n    return v;\n  }\n}\n\n\nfunction _getSchemaObj(self, keyRef) {\n  keyRef = resolve.normalizeId(keyRef);\n  return self._schemas[keyRef] || self._refs[keyRef] || self._fragments[keyRef];\n}\n\n\n/**\n * Remove cached schema(s).\n * If no parameter is passed all schemas but meta-schemas are removed.\n * If RegExp is passed all schemas with key/id matching pattern but meta-schemas are removed.\n * Even if schema is referenced by other schemas it still can be removed as other schemas have local references.\n * @this   Ajv\n * @param  {String|Object|RegExp} schemaKeyRef key, ref, pattern to match key/ref or schema object\n */\nfunction removeSchema(schemaKeyRef) {\n  if (schemaKeyRef instanceof RegExp) {\n    _removeAllSchemas(this, this._schemas, schemaKeyRef);\n    _removeAllSchemas(this, this._refs, schemaKeyRef);\n    return;\n  }\n  switch (typeof schemaKeyRef) {\n    case 'undefined':\n      _removeAllSchemas(this, this._schemas);\n      _removeAllSchemas(this, this._refs);\n      this._cache.clear();\n      return;\n    case 'string':\n      var schemaObj = _getSchemaObj(this, schemaKeyRef);\n      if (schemaObj) this._cache.del(schemaObj.cacheKey);\n      delete this._schemas[schemaKeyRef];\n      delete this._refs[schemaKeyRef];\n      return;\n    case 'object':\n      var serialize = this._opts.serialize;\n      var cacheKey = serialize ? serialize(schemaKeyRef) : schemaKeyRef;\n      this._cache.del(cacheKey);\n      var id = this._getId(schemaKeyRef);\n      if (id) {\n        id = resolve.normalizeId(id);\n        delete this._schemas[id];\n        delete this._refs[id];\n      }\n  }\n}\n\n\nfunction _removeAllSchemas(self, schemas, regex) {\n  for (var keyRef in schemas) {\n    var schemaObj = schemas[keyRef];\n    if (!schemaObj.meta && (!regex || regex.test(keyRef))) {\n      self._cache.del(schemaObj.cacheKey);\n      delete schemas[keyRef];\n    }\n  }\n}\n\n\n/* @this   Ajv */\nfunction _addSchema(schema, skipValidation, meta, shouldAddSchema) {\n  if (typeof schema != 'object' && typeof schema != 'boolean')\n    throw new Error('schema should be object or boolean');\n  var serialize = this._opts.serialize;\n  var cacheKey = serialize ? serialize(schema) : schema;\n  var cached = this._cache.get(cacheKey);\n  if (cached) return cached;\n\n  shouldAddSchema = shouldAddSchema || this._opts.addUsedSchema !== false;\n\n  var id = resolve.normalizeId(this._getId(schema));\n  if (id && shouldAddSchema) checkUnique(this, id);\n\n  var willValidate = this._opts.validateSchema !== false && !skipValidation;\n  var recursiveMeta;\n  if (willValidate && !(recursiveMeta = id && id == resolve.normalizeId(schema.$schema)))\n    this.validateSchema(schema, true);\n\n  var localRefs = resolve.ids.call(this, schema);\n\n  var schemaObj = new SchemaObject({\n    id: id,\n    schema: schema,\n    localRefs: localRefs,\n    cacheKey: cacheKey,\n    meta: meta\n  });\n\n  if (id[0] != '#' && shouldAddSchema) this._refs[id] = schemaObj;\n  this._cache.put(cacheKey, schemaObj);\n\n  if (willValidate && recursiveMeta) this.validateSchema(schema, true);\n\n  return schemaObj;\n}\n\n\n/* @this   Ajv */\nfunction _compile(schemaObj, root) {\n  if (schemaObj.compiling) {\n    schemaObj.validate = callValidate;\n    callValidate.schema = schemaObj.schema;\n    callValidate.errors = null;\n    callValidate.root = root ? root : callValidate;\n    if (schemaObj.schema.$async === true)\n      callValidate.$async = true;\n    return callValidate;\n  }\n  schemaObj.compiling = true;\n\n  var currentOpts;\n  if (schemaObj.meta) {\n    currentOpts = this._opts;\n    this._opts = this._metaOpts;\n  }\n\n  var v;\n  try { v = compileSchema.call(this, schemaObj.schema, root, schemaObj.localRefs); }\n  finally {\n    schemaObj.compiling = false;\n    if (schemaObj.meta) this._opts = currentOpts;\n  }\n\n  schemaObj.validate = v;\n  schemaObj.refs = v.refs;\n  schemaObj.refVal = v.refVal;\n  schemaObj.root = v.root;\n  return v;\n\n\n  function callValidate() {\n    var _validate = schemaObj.validate;\n    var result = _validate.apply(null, arguments);\n    callValidate.errors = _validate.errors;\n    return result;\n  }\n}\n\n\nfunction chooseGetId(opts) {\n  switch (opts.schemaId) {\n    case '$id': return _get$Id;\n    case 'id': return _getId;\n    default: return _get$IdOrId;\n  }\n}\n\n\nfunction _getId(schema) {\n  if (schema.$id) console.warn('schema $id ignored', schema.$id);\n  return schema.id;\n}\n\n\nfunction _get$Id(schema) {\n  if (schema.id) console.warn('schema id ignored', schema.id);\n  return schema.$id;\n}\n\n\nfunction _get$IdOrId(schema) {\n  if (schema.$id && schema.id && schema.$id != schema.id)\n    throw new Error('schema $id is different from id');\n  return schema.$id || schema.id;\n}\n\n\n/**\n * Convert array of error message objects to string\n * @this   Ajv\n * @param  {Array<Object>} errors optional array of validation errors, if not passed errors from the instance are used.\n * @param  {Object} options optional options with properties `separator` and `dataVar`.\n * @return {String} human readable string with all errors descriptions\n */\nfunction errorsText(errors, options) {\n  errors = errors || this.errors;\n  if (!errors) return 'No errors';\n  options = options || {};\n  var separator = options.separator === undefined ? ', ' : options.separator;\n  var dataVar = options.dataVar === undefined ? 'data' : options.dataVar;\n\n  var text = '';\n  for (var i=0; i<errors.length; i++) {\n    var e = errors[i];\n    if (e) text += dataVar + e.dataPath + ' ' + e.message + separator;\n  }\n  return text.slice(0, -separator.length);\n}\n\n\n/**\n * Add custom format\n * @this   Ajv\n * @param {String} name format name\n * @param {String|RegExp|Function} format string is converted to RegExp; function should return boolean (true when valid)\n */\nfunction addFormat(name, format) {\n  if (typeof format == 'string') format = new RegExp(format);\n  this._formats[name] = format;\n}\n\n\nfunction addDraft6MetaSchema(self) {\n  var $dataSchema;\n  if (self._opts.$data) {\n    $dataSchema = require('./refs/$data.json');\n    self.addMetaSchema($dataSchema, $dataSchema.$id, true);\n  }\n  if (self._opts.meta === false) return;\n  var metaSchema = require('./refs/json-schema-draft-06.json');\n  if (self._opts.$data) metaSchema = $dataMetaSchema(metaSchema, META_SUPPORT_DATA);\n  self.addMetaSchema(metaSchema, META_SCHEMA_ID, true);\n  self._refs['http://json-schema.org/schema'] = META_SCHEMA_ID;\n}\n\n\nfunction addInitialSchemas(self) {\n  var optsSchemas = self._opts.schemas;\n  if (!optsSchemas) return;\n  if (Array.isArray(optsSchemas)) self.addSchema(optsSchemas);\n  else for (var key in optsSchemas) self.addSchema(optsSchemas[key], key);\n}\n\n\nfunction addInitialFormats(self) {\n  for (var name in self._opts.formats) {\n    var format = self._opts.formats[name];\n    self.addFormat(name, format);\n  }\n}\n\n\nfunction checkUnique(self, id) {\n  if (self._schemas[id] || self._refs[id])\n    throw new Error('schema with key or id \"' + id + '\" already exists');\n}\n\n\nfunction getMetaSchemaOptions(self) {\n  var metaOpts = util.copy(self._opts);\n  for (var i=0; i<META_IGNORE_OPTIONS.length; i++)\n    delete metaOpts[META_IGNORE_OPTIONS[i]];\n  return metaOpts;\n}\n","import shortid from 'shortid'\n// import debug from 'debug'\nimport on from './utils/on'\nimport listen from './utils/listen'\n\n// const log = debug('rapid:subscription')\n\nexport default class Subscription {\n  constructor({ io, query = {}, onVal, onErr }) {\n    this.io = io\n    this.id = shortid.generate()\n    this.query = query\n    this.listeners = null\n    this.valueListeners = [onVal]\n    this.errorListeners = onErr ? [onErr] : []\n    this.docs = []\n    this.subscribed = false\n    this.unsubscribed = false\n    this.changes = {\n      added: [],\n      updated: [],\n      removed: []\n    }\n    this.subscribe()\n  }\n\n  subscribe() {\n    this.listeners = listen([\n      on(this.io, 'val', val => this.onvalue(val)),\n      on(this.io, 'upd', upd => this.onupdate(upd)),\n      on(this.io, 'batch', batch => this.onbatch(batch)),\n      on(this.io, 'rm', rm => this.onremove(rm))\n    ])\n  }\n\n  onbatch(batch) {\n    let shouldNotify = false\n    batch.forEach(evt => {\n      if (evt.val) {\n        shouldNotify = true\n        return this.onvalue(evt.val, { batch: true })\n      }\n      if (evt.upd) {\n        shouldNotify = true\n        return this.onupdate(evt.upd, { batch: true })\n      }\n      if (evt.rm) {\n        shouldNotify = true\n        return this.onremove(evt.rm, { batch: true })\n      }\n    })\n    shouldNotify && this.notify()\n  }\n\n  onvalue(value, { batch = false } = {}) {\n    if (value['sub-id'] === this.id) {\n      this.acknowledge(value)\n      this.docs = value.docs\n      this.changes.added.push(...this.docs)\n      !batch && this.notify()\n    }\n  }\n\n  onupdate(update, { batch = false } = {}) {\n    if (update['sub-id'] === this.id) {\n      this.acknowledge(update)\n\n      const docIdx = this.docs.findIndex(doc => doc.id === update.doc.id)\n\n      if (docIdx !== -1) {\n        this.docs[docIdx] = update.doc\n        this.changes.updated.push(update.doc)\n      } else {\n        this.docs.push(update.doc)\n        this.changes.added.push(update.doc)\n      }\n      this.sort()\n      this.checkLimit()\n      !batch && this.notify()\n    }\n  }\n\n  onremove(remove, { batch = false } = {}) {\n    if (remove['sub-id'] === this.id) {\n      this.acknowledge(remove)\n\n      const docIdx = this.docs.findIndex(doc => doc.id === remove.doc.id)\n\n      if (docIdx !== -1) {\n        const removedDoc = this.docs.splice(docIdx, 1)\n        this.changes.removed.push(...removedDoc)\n        !batch && this.notify()\n      }\n    }\n  }\n\n  sort() {\n    this.docs.sort((current, next) => {\n      // eslint-disable-next-line guard-for-in\n      for (const idx in current.skey) {\n        const currentSortkey = current.skey[idx]\n        const nextSortkey = next.skey[idx]\n\n        if (currentSortkey === nextSortkey) {\n          continue\n        }\n\n        const { order } = this.query\n        const ordering = order[Object.keys(order)[0]]\n        // const orderObj = this.query.order[idx]\n        // const ordering = orderObj[Object.keys(orderObj)[0]] // get value of first object key\n\n        if (ordering === 'asc') {\n          return currentSortkey < nextSortkey ? -1 : 1\n        }\n        return currentSortkey < nextSortkey ? 1 : -1\n      }\n\n      const orderObj = this.query.order && this.query.order[0]\n      const ordering = orderObj ? orderObj[Object.keys(orderObj)[0]] : 'asc'\n\n      if (ordering === 'asc') {\n        return current.crt < next.crt ? -1 : 1\n      }\n      return current.crt < next.crt ? 1 : -1\n    })\n  }\n\n  checkLimit() {\n    const { docs } = this\n    const { limit = null } = this.query\n\n    if (limit && docs.length > limit) {\n      const overflow = docs.length - limit\n      docs.splice(-overflow, overflow)\n    }\n  }\n\n  acknowledge(evt) {\n    this.io.acknowledge(evt['evt-id'])\n  }\n\n  notify() {\n    if (!this.unsubscribed) {\n      this.valueListeners.forEach(onVal => {\n        onVal(this.docs, this.changes)\n      })\n      this.changes = {\n        added: [],\n        updated: [],\n        removed: []\n      }\n    }\n  }\n\n  addListeners(onVal, onErr) {\n    onVal && this.valueListeners.push(onVal)\n    onErr && this.errorListeners.push(onErr)\n  }\n\n  unsubscribe(onVal, onErr) {\n    if (onVal) {\n      this.valueListeners = this.valueListeners.filter(fn => fn !== onVal)\n    }\n    if (onErr) {\n      this.errorListeners = this.errorListeners.filter(fn => fn !== onErr)\n    }\n\n    if (isEmpty(this.valueListeners) && isEmpty(this.errorListeners)) {\n      this.unsubscribed = true\n      this.listeners.off()\n    }\n  }\n\n  cancel(err) {\n    this.errorListeners.forEach(onErr => onErr(err))\n    this.listeners.off()\n    this.valueListeners = []\n    this.errorListeners = []\n  }\n\n  set evt(evt) {\n    this._evt = evt\n  }\n\n  get evt() {\n    return this._evt\n  }\n}\n\nfunction isEmpty(arr) {\n  return arr.length === 0\n}\n","export default function isEmpty(array) {\n  return array.length === 0\n}\n","import { InvalidIdError } from '../errors'\n\nexport default function checkId(id) {\n  if (typeof id !== 'string') {\n    throw new TypeError(`${id} is not type of string`)\n  }\n\n  const re = /^[0-9a-zA-Z_-]+$/\n  const valid = re.test(id)\n\n  if (!valid) {\n    throw new InvalidIdError(id)\n  }\n\n  return true\n}\n","/*! http://mths.be/base64 v0.1.0 by @mathias | MIT license */\n;(function(root) {\n\n\t// Detect free variables `exports`.\n\tvar freeExports = typeof exports == 'object' && exports;\n\n\t// Detect free variable `module`.\n\tvar freeModule = typeof module == 'object' && module &&\n\t\tmodule.exports == freeExports && module;\n\n\t// Detect free variable `global`, from Node.js or Browserified code, and use\n\t// it as `root`.\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal) {\n\t\troot = freeGlobal;\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tvar InvalidCharacterError = function(message) {\n\t\tthis.message = message;\n\t};\n\tInvalidCharacterError.prototype = new Error;\n\tInvalidCharacterError.prototype.name = 'InvalidCharacterError';\n\n\tvar error = function(message) {\n\t\t// Note: the error messages used throughout this file match those used by\n\t\t// the native `atob`/`btoa` implementation in Chromium.\n\t\tthrow new InvalidCharacterError(message);\n\t};\n\n\tvar TABLE = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\t// http://whatwg.org/html/common-microsyntaxes.html#space-character\n\tvar REGEX_SPACE_CHARACTERS = /[\\t\\n\\f\\r ]/g;\n\n\t// `decode` is designed to be fully compatible with `atob` as described in the\n\t// HTML Standard. http://whatwg.org/html/webappapis.html#dom-windowbase64-atob\n\t// The optimized base64-decoding algorithm used is based on @atk’s excellent\n\t// implementation. https://gist.github.com/atk/1020396\n\tvar decode = function(input) {\n\t\tinput = String(input)\n\t\t\t.replace(REGEX_SPACE_CHARACTERS, '');\n\t\tvar length = input.length;\n\t\tif (length % 4 == 0) {\n\t\t\tinput = input.replace(/==?$/, '');\n\t\t\tlength = input.length;\n\t\t}\n\t\tif (\n\t\t\tlength % 4 == 1 ||\n\t\t\t// http://whatwg.org/C#alphanumeric-ascii-characters\n\t\t\t/[^+a-zA-Z0-9/]/.test(input)\n\t\t) {\n\t\t\terror(\n\t\t\t\t'Invalid character: the string to be decoded is not correctly encoded.'\n\t\t\t);\n\t\t}\n\t\tvar bitCounter = 0;\n\t\tvar bitStorage;\n\t\tvar buffer;\n\t\tvar output = '';\n\t\tvar position = -1;\n\t\twhile (++position < length) {\n\t\t\tbuffer = TABLE.indexOf(input.charAt(position));\n\t\t\tbitStorage = bitCounter % 4 ? bitStorage * 64 + buffer : buffer;\n\t\t\t// Unless this is the first of a group of 4 characters…\n\t\t\tif (bitCounter++ % 4) {\n\t\t\t\t// …convert the first 8 bits to a single ASCII character.\n\t\t\t\toutput += String.fromCharCode(\n\t\t\t\t\t0xFF & bitStorage >> (-2 * bitCounter & 6)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t};\n\n\t// `encode` is designed to be fully compatible with `btoa` as described in the\n\t// HTML Standard: http://whatwg.org/html/webappapis.html#dom-windowbase64-btoa\n\tvar encode = function(input) {\n\t\tinput = String(input);\n\t\tif (/[^\\0-\\xFF]/.test(input)) {\n\t\t\t// Note: no need to special-case astral symbols here, as surrogates are\n\t\t\t// matched, and the input is supposed to only contain ASCII anyway.\n\t\t\terror(\n\t\t\t\t'The string to be encoded contains characters outside of the ' +\n\t\t\t\t'Latin1 range.'\n\t\t\t);\n\t\t}\n\t\tvar padding = input.length % 3;\n\t\tvar output = '';\n\t\tvar position = -1;\n\t\tvar a;\n\t\tvar b;\n\t\tvar c;\n\t\tvar d;\n\t\tvar buffer;\n\t\t// Make sure any padding is handled outside of the loop.\n\t\tvar length = input.length - padding;\n\n\t\twhile (++position < length) {\n\t\t\t// Read three bytes, i.e. 24 bits.\n\t\t\ta = input.charCodeAt(position) << 16;\n\t\t\tb = input.charCodeAt(++position) << 8;\n\t\t\tc = input.charCodeAt(++position);\n\t\t\tbuffer = a + b + c;\n\t\t\t// Turn the 24 bits into four chunks of 6 bits each, and append the\n\t\t\t// matching character for each of them to the output.\n\t\t\toutput += (\n\t\t\t\tTABLE.charAt(buffer >> 18 & 0x3F) +\n\t\t\t\tTABLE.charAt(buffer >> 12 & 0x3F) +\n\t\t\t\tTABLE.charAt(buffer >> 6 & 0x3F) +\n\t\t\t\tTABLE.charAt(buffer & 0x3F)\n\t\t\t);\n\t\t}\n\n\t\tif (padding == 2) {\n\t\t\ta = input.charCodeAt(position) << 8;\n\t\t\tb = input.charCodeAt(++position);\n\t\t\tbuffer = a + b;\n\t\t\toutput += (\n\t\t\t\tTABLE.charAt(buffer >> 10) +\n\t\t\t\tTABLE.charAt((buffer >> 4) & 0x3F) +\n\t\t\t\tTABLE.charAt((buffer << 2) & 0x3F) +\n\t\t\t\t'='\n\t\t\t);\n\t\t} else if (padding == 1) {\n\t\t\tbuffer = input.charCodeAt(position);\n\t\t\toutput += (\n\t\t\t\tTABLE.charAt(buffer >> 2) +\n\t\t\t\tTABLE.charAt((buffer << 4) & 0x3F) +\n\t\t\t\t'=='\n\t\t\t);\n\t\t}\n\n\t\treturn output;\n\t};\n\n\tvar base64 = {\n\t\t'encode': encode,\n\t\t'decode': decode,\n\t\t'version': '0.1.0'\n\t};\n\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine(function() {\n\t\t\treturn base64;\n\t\t});\n\t}\telse if (freeExports && !freeExports.nodeType) {\n\t\tif (freeModule) { // in Node.js or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = base64;\n\t\t} else { // in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (var key in base64) {\n\t\t\t\tbase64.hasOwnProperty(key) && (freeExports[key] = base64[key]);\n\t\t\t}\n\t\t}\n\t} else { // in Rhino or a web browser\n\t\troot.base64 = base64;\n\t}\n\n}(this));\n","\r\n/**\r\n * Expose `Emitter`.\r\n */\r\n\r\nif (typeof module !== 'undefined') {\r\n  module.exports = Emitter;\r\n}\r\n\r\n/**\r\n * Initialize a new `Emitter`.\r\n *\r\n * @api public\r\n */\r\n\r\nfunction Emitter(obj) {\r\n  if (obj) return mixin(obj);\r\n};\r\n\r\n/**\r\n * Mixin the emitter properties.\r\n *\r\n * @param {Object} obj\r\n * @return {Object}\r\n * @api private\r\n */\r\n\r\nfunction mixin(obj) {\r\n  for (var key in Emitter.prototype) {\r\n    obj[key] = Emitter.prototype[key];\r\n  }\r\n  return obj;\r\n}\r\n\r\n/**\r\n * Listen on the given `event` with `fn`.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.on =\r\nEmitter.prototype.addEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\r\n    .push(fn);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Adds an `event` listener that will be invoked a single\r\n * time then automatically removed.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.once = function(event, fn){\r\n  function on() {\r\n    this.off(event, on);\r\n    fn.apply(this, arguments);\r\n  }\r\n\r\n  on.fn = fn;\r\n  this.on(event, on);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Remove the given callback for `event` or all\r\n * registered callbacks.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.off =\r\nEmitter.prototype.removeListener =\r\nEmitter.prototype.removeAllListeners =\r\nEmitter.prototype.removeEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n\r\n  // all\r\n  if (0 == arguments.length) {\r\n    this._callbacks = {};\r\n    return this;\r\n  }\r\n\r\n  // specific event\r\n  var callbacks = this._callbacks['$' + event];\r\n  if (!callbacks) return this;\r\n\r\n  // remove all handlers\r\n  if (1 == arguments.length) {\r\n    delete this._callbacks['$' + event];\r\n    return this;\r\n  }\r\n\r\n  // remove specific handler\r\n  var cb;\r\n  for (var i = 0; i < callbacks.length; i++) {\r\n    cb = callbacks[i];\r\n    if (cb === fn || cb.fn === fn) {\r\n      callbacks.splice(i, 1);\r\n      break;\r\n    }\r\n  }\r\n  return this;\r\n};\r\n\r\n/**\r\n * Emit `event` with the given args.\r\n *\r\n * @param {String} event\r\n * @param {Mixed} ...\r\n * @return {Emitter}\r\n */\r\n\r\nEmitter.prototype.emit = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  var args = [].slice.call(arguments, 1)\r\n    , callbacks = this._callbacks['$' + event];\r\n\r\n  if (callbacks) {\r\n    callbacks = callbacks.slice(0);\r\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\r\n      callbacks[i].apply(this, args);\r\n    }\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Return array of callbacks for `event`.\r\n *\r\n * @param {String} event\r\n * @return {Array}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.listeners = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  return this._callbacks['$' + event] || [];\r\n};\r\n\r\n/**\r\n * Check if this emitter has `event` handlers.\r\n *\r\n * @param {String} event\r\n * @return {Boolean}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.hasListeners = function(event){\r\n  return !! this.listeners(event).length;\r\n};\r\n","'use strict';\n\nvar alphabet = require('./alphabet');\nvar encode = require('./encode');\nvar decode = require('./decode');\nvar build = require('./build');\nvar isValid = require('./is-valid');\n\n// if you are using cluster or multiple servers use this to make each instance\n// has a unique value for worker\n// Note: I don't know if this is automatically set when using third\n// party cluster solutions such as pm2.\nvar clusterWorkerId = require('./util/cluster-worker-id') || 0;\n\n/**\n * Set the seed.\n * Highly recommended if you don't want people to try to figure out your id schema.\n * exposed as shortid.seed(int)\n * @param seed Integer value to seed the random alphabet.  ALWAYS USE THE SAME SEED or you might get overlaps.\n */\nfunction seed(seedValue) {\n    alphabet.seed(seedValue);\n    return module.exports;\n}\n\n/**\n * Set the cluster worker or machine id\n * exposed as shortid.worker(int)\n * @param workerId worker must be positive integer.  Number less than 16 is recommended.\n * returns shortid module so it can be chained.\n */\nfunction worker(workerId) {\n    clusterWorkerId = workerId;\n    return module.exports;\n}\n\n/**\n *\n * sets new characters to use in the alphabet\n * returns the shuffled alphabet\n */\nfunction characters(newCharacters) {\n    if (newCharacters !== undefined) {\n        alphabet.characters(newCharacters);\n    }\n\n    return alphabet.shuffled();\n}\n\n/**\n * Generate unique id\n * Returns string id\n */\nfunction generate() {\n  return build(clusterWorkerId);\n}\n\n// Export all other functions as properties of the generate function\nmodule.exports = generate;\nmodule.exports.generate = generate;\nmodule.exports.seed = seed;\nmodule.exports.worker = worker;\nmodule.exports.characters = characters;\nmodule.exports.decode = decode;\nmodule.exports.isValid = isValid;\n","export default typeof global !== \"undefined\" ? global :\n            typeof self !== \"undefined\" ? self :\n            typeof window !== \"undefined\" ? window : {}\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = createDebug.debug = createDebug['default'] = createDebug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n */\n\nexports.formatters = {};\n\n/**\n * Previous log timestamp.\n */\n\nvar prevTime;\n\n/**\n * Select a color.\n * @param {String} namespace\n * @return {Number}\n * @api private\n */\n\nfunction selectColor(namespace) {\n  var hash = 0, i;\n\n  for (i in namespace) {\n    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);\n    hash |= 0; // Convert to 32bit integer\n  }\n\n  return exports.colors[Math.abs(hash) % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction createDebug(namespace) {\n\n  function debug() {\n    // disabled?\n    if (!debug.enabled) return;\n\n    var self = debug;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // turn the `arguments` into a proper Array\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %O\n      args.unshift('%O');\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    // apply env-specific formatting (colors, etc.)\n    exports.formatArgs.call(self, args);\n\n    var logFn = debug.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n\n  debug.namespace = namespace;\n  debug.enabled = exports.enabled(namespace);\n  debug.useColors = exports.useColors();\n  debug.color = selectColor(namespace);\n\n  // env-specific initialization logic for debug instances\n  if ('function' === typeof exports.init) {\n    exports.init(debug);\n  }\n\n  return debug;\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  exports.names = [];\n  exports.skips = [];\n\n  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (var i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n","/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  'lightseagreen',\n  'forestgreen',\n  'goldenrod',\n  'dodgerblue',\n  'darkorchid',\n  'crimson'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {\n    return true;\n  }\n\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n    // double check webkit in userAgent just in case we are in a worker\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  try {\n    return JSON.stringify(v);\n  } catch (err) {\n    return '[UnexpectedJSONParseError]: ' + err.message;\n  }\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return;\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit')\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n","'use strict';\nvar toString = Object.prototype.toString;\n\nmodule.exports = function (x) {\n\tvar prototype;\n\treturn toString.call(x) === '[object Object]' && (prototype = Object.getPrototypeOf(x), prototype === null || prototype === Object.getPrototypeOf({}));\n};\n","'use strict';\nconst isPlainObj = require('is-plain-obj');\n\nmodule.exports = (obj, opts) => {\n\tif (!isPlainObj(obj)) {\n\t\tthrow new TypeError('Expected a plain object');\n\t}\n\n\topts = opts || {};\n\n\t// DEPRECATED\n\tif (typeof opts === 'function') {\n\t\tthrow new TypeError('Specify the compare function as an option instead');\n\t}\n\n\tconst deep = opts.deep;\n\tconst seenInput = [];\n\tconst seenOutput = [];\n\n\tconst sortKeys = x => {\n\t\tconst seenIndex = seenInput.indexOf(x);\n\n\t\tif (seenIndex !== -1) {\n\t\t\treturn seenOutput[seenIndex];\n\t\t}\n\n\t\tconst ret = {};\n\t\tconst keys = Object.keys(x).sort(opts.compare);\n\n\t\tseenInput.push(x);\n\t\tseenOutput.push(ret);\n\n\t\tfor (let i = 0; i < keys.length; i++) {\n\t\t\tconst key = keys[i];\n\t\t\tconst val = x[key];\n\n\t\t\tif (deep && Array.isArray(val)) {\n\t\t\t\tconst retArr = [];\n\n\t\t\t\tfor (let j = 0; j < val.length; j++) {\n\t\t\t\t\tretArr[j] = isPlainObj(val[j]) ? sortKeys(val[j]) : val[j];\n\t\t\t\t}\n\n\t\t\t\tret[key] = retArr;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tret[key] = deep && isPlainObj(val) ? sortKeys(val) : val;\n\t\t}\n\n\t\treturn ret;\n\t};\n\n\treturn sortKeys(obj);\n};\n","var toString = {}.toString;\n\nexport default Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","\nvar inherits;\nif (typeof Object.create === 'function'){\n  inherits = function inherits(ctor, superCtor) {\n    // implementation from standard node.js 'util' module\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  inherits = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\nexport default inherits;\n","'use strict';\n\n/*eslint complexity: 0*/\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  var arrA = Array.isArray(a)\n    , arrB = Array.isArray(b)\n    , i;\n\n  if (arrA && arrB) {\n    if (a.length != b.length) return false;\n    for (i = 0; i < a.length; i++)\n      if (!equal(a[i], b[i])) return false;\n    return true;\n  }\n\n  if (arrA != arrB) return false;\n\n  if (a && b && typeof a === 'object' && typeof b === 'object') {\n    var keys = Object.keys(a);\n    if (keys.length !== Object.keys(b).length) return false;\n\n    var dateA = a instanceof Date\n      , dateB = b instanceof Date;\n    if (dateA && dateB) return a.getTime() == b.getTime();\n    if (dateA != dateB) return false;\n\n    var regexpA = a instanceof RegExp\n      , regexpB = b instanceof RegExp;\n    if (regexpA && regexpB) return a.toString() == b.toString();\n    if (regexpA != regexpB) return false;\n\n    for (i = 0; i < keys.length; i++)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = 0; i < keys.length; i++)\n      if(!equal(a[keys[i]], b[keys[i]])) return false;\n\n    return true;\n  }\n\n  return false;\n};\n","'use strict';\n\n// https://mathiasbynens.be/notes/javascript-encoding\n// https://github.com/bestiejs/punycode.js - punycode.ucs2.decode\nmodule.exports = function ucs2length(str) {\n  var length = 0\n    , len = str.length\n    , pos = 0\n    , value;\n  while (pos < len) {\n    length++;\n    value = str.charCodeAt(pos++);\n    if (value >= 0xD800 && value <= 0xDBFF && pos < len) {\n      // high surrogate, and there is a next character\n      value = str.charCodeAt(pos);\n      if ((value & 0xFC00) == 0xDC00) pos++; // low surrogate\n    }\n  }\n  return length;\n};\n","var at, // The index of the current character\n    ch, // The current character\n    escapee = {\n        '\"':  '\"',\n        '\\\\': '\\\\',\n        '/':  '/',\n        b:    '\\b',\n        f:    '\\f',\n        n:    '\\n',\n        r:    '\\r',\n        t:    '\\t'\n    },\n    text,\n\n    error = function (m) {\n        // Call error when something is wrong.\n        throw {\n            name:    'SyntaxError',\n            message: m,\n            at:      at,\n            text:    text\n        };\n    },\n    \n    next = function (c) {\n        // If a c parameter is provided, verify that it matches the current character.\n        if (c && c !== ch) {\n            error(\"Expected '\" + c + \"' instead of '\" + ch + \"'\");\n        }\n        \n        // Get the next character. When there are no more characters,\n        // return the empty string.\n        \n        ch = text.charAt(at);\n        at += 1;\n        return ch;\n    },\n    \n    number = function () {\n        // Parse a number value.\n        var number,\n            string = '';\n        \n        if (ch === '-') {\n            string = '-';\n            next('-');\n        }\n        while (ch >= '0' && ch <= '9') {\n            string += ch;\n            next();\n        }\n        if (ch === '.') {\n            string += '.';\n            while (next() && ch >= '0' && ch <= '9') {\n                string += ch;\n            }\n        }\n        if (ch === 'e' || ch === 'E') {\n            string += ch;\n            next();\n            if (ch === '-' || ch === '+') {\n                string += ch;\n                next();\n            }\n            while (ch >= '0' && ch <= '9') {\n                string += ch;\n                next();\n            }\n        }\n        number = +string;\n        if (!isFinite(number)) {\n            error(\"Bad number\");\n        } else {\n            return number;\n        }\n    },\n    \n    string = function () {\n        // Parse a string value.\n        var hex,\n            i,\n            string = '',\n            uffff;\n        \n        // When parsing for string values, we must look for \" and \\ characters.\n        if (ch === '\"') {\n            while (next()) {\n                if (ch === '\"') {\n                    next();\n                    return string;\n                } else if (ch === '\\\\') {\n                    next();\n                    if (ch === 'u') {\n                        uffff = 0;\n                        for (i = 0; i < 4; i += 1) {\n                            hex = parseInt(next(), 16);\n                            if (!isFinite(hex)) {\n                                break;\n                            }\n                            uffff = uffff * 16 + hex;\n                        }\n                        string += String.fromCharCode(uffff);\n                    } else if (typeof escapee[ch] === 'string') {\n                        string += escapee[ch];\n                    } else {\n                        break;\n                    }\n                } else {\n                    string += ch;\n                }\n            }\n        }\n        error(\"Bad string\");\n    },\n\n    white = function () {\n\n// Skip whitespace.\n\n        while (ch && ch <= ' ') {\n            next();\n        }\n    },\n\n    word = function () {\n\n// true, false, or null.\n\n        switch (ch) {\n        case 't':\n            next('t');\n            next('r');\n            next('u');\n            next('e');\n            return true;\n        case 'f':\n            next('f');\n            next('a');\n            next('l');\n            next('s');\n            next('e');\n            return false;\n        case 'n':\n            next('n');\n            next('u');\n            next('l');\n            next('l');\n            return null;\n        }\n        error(\"Unexpected '\" + ch + \"'\");\n    },\n\n    value,  // Place holder for the value function.\n\n    array = function () {\n\n// Parse an array value.\n\n        var array = [];\n\n        if (ch === '[') {\n            next('[');\n            white();\n            if (ch === ']') {\n                next(']');\n                return array;   // empty array\n            }\n            while (ch) {\n                array.push(value());\n                white();\n                if (ch === ']') {\n                    next(']');\n                    return array;\n                }\n                next(',');\n                white();\n            }\n        }\n        error(\"Bad array\");\n    },\n\n    object = function () {\n\n// Parse an object value.\n\n        var key,\n            object = {};\n\n        if (ch === '{') {\n            next('{');\n            white();\n            if (ch === '}') {\n                next('}');\n                return object;   // empty object\n            }\n            while (ch) {\n                key = string();\n                white();\n                next(':');\n                if (Object.hasOwnProperty.call(object, key)) {\n                    error('Duplicate key \"' + key + '\"');\n                }\n                object[key] = value();\n                white();\n                if (ch === '}') {\n                    next('}');\n                    return object;\n                }\n                next(',');\n                white();\n            }\n        }\n        error(\"Bad object\");\n    };\n\nvalue = function () {\n\n// Parse a JSON value. It could be an object, an array, a string, a number,\n// or a word.\n\n    white();\n    switch (ch) {\n    case '{':\n        return object();\n    case '[':\n        return array();\n    case '\"':\n        return string();\n    case '-':\n        return number();\n    default:\n        return ch >= '0' && ch <= '9' ? number() : word();\n    }\n};\n\n// Return the json_parse function. It will have access to all of the above\n// functions and variables.\n\nmodule.exports = function (source, reviver) {\n    var result;\n    \n    text = source;\n    at = 0;\n    ch = ' ';\n    result = value();\n    white();\n    if (ch) {\n        error(\"Syntax error\");\n    }\n\n    // If there is a reviver function, we recursively walk the new structure,\n    // passing each name/value pair to the reviver function for possible\n    // transformation, starting with a temporary root object that holds the result\n    // in an empty key. If there is not a reviver function, we simply return the\n    // result.\n\n    return typeof reviver === 'function' ? (function walk(holder, key) {\n        var k, v, value = holder[key];\n        if (value && typeof value === 'object') {\n            for (k in value) {\n                if (Object.prototype.hasOwnProperty.call(value, k)) {\n                    v = walk(value, k);\n                    if (v !== undefined) {\n                        value[k] = v;\n                    } else {\n                        delete value[k];\n                    }\n                }\n            }\n        }\n        return reviver.call(holder, key, value);\n    }({'': result}, '')) : result;\n};\n","var json = typeof JSON !== 'undefined' ? JSON : require('jsonify');\n\nmodule.exports = function (obj, opts) {\n    if (!opts) opts = {};\n    if (typeof opts === 'function') opts = { cmp: opts };\n    var space = opts.space || '';\n    if (typeof space === 'number') space = Array(space+1).join(' ');\n    var cycles = (typeof opts.cycles === 'boolean') ? opts.cycles : false;\n    var replacer = opts.replacer || function(key, value) { return value; };\n\n    var cmp = opts.cmp && (function (f) {\n        return function (node) {\n            return function (a, b) {\n                var aobj = { key: a, value: node[a] };\n                var bobj = { key: b, value: node[b] };\n                return f(aobj, bobj);\n            };\n        };\n    })(opts.cmp);\n\n    var seen = [];\n    return (function stringify (parent, key, node, level) {\n        var indent = space ? ('\\n' + new Array(level + 1).join(space)) : '';\n        var colonSeparator = space ? ': ' : ':';\n\n        if (node && node.toJSON && typeof node.toJSON === 'function') {\n            node = node.toJSON();\n        }\n\n        node = replacer.call(parent, key, node);\n\n        if (node === undefined) {\n            return;\n        }\n        if (typeof node !== 'object' || node === null) {\n            return json.stringify(node);\n        }\n        if (isArray(node)) {\n            var out = [];\n            for (var i = 0; i < node.length; i++) {\n                var item = stringify(node, i, node[i], level+1) || json.stringify(null);\n                out.push(indent + space + item);\n            }\n            return '[' + out.join(',') + indent + ']';\n        }\n        else {\n            if (seen.indexOf(node) !== -1) {\n                if (cycles) return json.stringify('__cycle__');\n                throw new TypeError('Converting circular structure to JSON');\n            }\n            else seen.push(node);\n\n            var keys = objectKeys(node).sort(cmp && cmp(node));\n            var out = [];\n            for (var i = 0; i < keys.length; i++) {\n                var key = keys[i];\n                var value = stringify(node, key, node[key], level+1);\n\n                if(!value) continue;\n\n                var keyValue = json.stringify(key)\n                    + colonSeparator\n                    + value;\n                ;\n                out.push(indent + space + keyValue);\n            }\n            seen.splice(seen.indexOf(node), 1);\n            return '{' + out.join(',') + indent + '}';\n        }\n    })({ '': obj }, '', obj, 0);\n};\n\nvar isArray = Array.isArray || function (x) {\n    return {}.toString.call(x) === '[object Array]';\n};\n\nvar objectKeys = Object.keys || function (obj) {\n    var has = Object.prototype.hasOwnProperty || function () { return true };\n    var keys = [];\n    for (var key in obj) {\n        if (has.call(obj, key)) keys.push(key);\n    }\n    return keys;\n};\n","'use strict';\nmodule.exports = function generate_validate(it, $keyword, $ruleType) {\n  var out = '';\n  var $async = it.schema.$async === true,\n    $refKeywords = it.util.schemaHasRulesExcept(it.schema, it.RULES.all, '$ref'),\n    $id = it.self._getId(it.schema);\n  if (it.isTop) {\n    if ($async) {\n      it.async = true;\n      var $es7 = it.opts.async == 'es7';\n      it.yieldAwait = $es7 ? 'await' : 'yield';\n    }\n    out += ' var validate = ';\n    if ($async) {\n      if ($es7) {\n        out += ' (async function ';\n      } else {\n        if (it.opts.async != '*') {\n          out += 'co.wrap';\n        }\n        out += '(function* ';\n      }\n    } else {\n      out += ' (function ';\n    }\n    out += ' (data, dataPath, parentData, parentDataProperty, rootData) { \\'use strict\\'; ';\n    if ($id && (it.opts.sourceCode || it.opts.processCode)) {\n      out += ' ' + ('/\\*# sourceURL=' + $id + ' */') + ' ';\n    }\n  }\n  if (typeof it.schema == 'boolean' || !($refKeywords || it.schema.$ref)) {\n    var $keyword = 'false schema';\n    var $lvl = it.level;\n    var $dataLvl = it.dataLevel;\n    var $schema = it.schema[$keyword];\n    var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n    var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n    var $breakOnError = !it.opts.allErrors;\n    var $errorKeyword;\n    var $data = 'data' + ($dataLvl || '');\n    var $valid = 'valid' + $lvl;\n    if (it.schema === false) {\n      if (it.isTop) {\n        $breakOnError = true;\n      } else {\n        out += ' var ' + ($valid) + ' = false; ';\n      }\n      var $$outStack = $$outStack || [];\n      $$outStack.push(out);\n      out = ''; /* istanbul ignore else */\n      if (it.createErrors !== false) {\n        out += ' { keyword: \\'' + ($errorKeyword || 'false schema') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n        if (it.opts.messages !== false) {\n          out += ' , message: \\'boolean schema is false\\' ';\n        }\n        if (it.opts.verbose) {\n          out += ' , schema: false , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n        }\n        out += ' } ';\n      } else {\n        out += ' {} ';\n      }\n      var __err = out;\n      out = $$outStack.pop();\n      if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n        if (it.async) {\n          out += ' throw new ValidationError([' + (__err) + ']); ';\n        } else {\n          out += ' validate.errors = [' + (__err) + ']; return false; ';\n        }\n      } else {\n        out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n      }\n    } else {\n      if (it.isTop) {\n        if ($async) {\n          out += ' return data; ';\n        } else {\n          out += ' validate.errors = null; return true; ';\n        }\n      } else {\n        out += ' var ' + ($valid) + ' = true; ';\n      }\n    }\n    if (it.isTop) {\n      out += ' }); return validate; ';\n    }\n    return out;\n  }\n  if (it.isTop) {\n    var $top = it.isTop,\n      $lvl = it.level = 0,\n      $dataLvl = it.dataLevel = 0,\n      $data = 'data';\n    it.rootId = it.resolve.fullPath(it.self._getId(it.root.schema));\n    it.baseId = it.baseId || it.rootId;\n    delete it.isTop;\n    it.dataPathArr = [undefined];\n    out += ' var vErrors = null; ';\n    out += ' var errors = 0;     ';\n    out += ' if (rootData === undefined) rootData = data; ';\n  } else {\n    var $lvl = it.level,\n      $dataLvl = it.dataLevel,\n      $data = 'data' + ($dataLvl || '');\n    if ($id) it.baseId = it.resolve.url(it.baseId, $id);\n    if ($async && !it.async) throw new Error('async schema in sync schema');\n    out += ' var errs_' + ($lvl) + ' = errors;';\n  }\n  var $valid = 'valid' + $lvl,\n    $breakOnError = !it.opts.allErrors,\n    $closingBraces1 = '',\n    $closingBraces2 = '';\n  var $errorKeyword;\n  var $typeSchema = it.schema.type,\n    $typeIsArray = Array.isArray($typeSchema);\n  if ($typeSchema && it.opts.coerceTypes) {\n    var $coerceToTypes = it.util.coerceToTypes(it.opts.coerceTypes, $typeSchema);\n    if ($coerceToTypes) {\n      var $schemaPath = it.schemaPath + '.type',\n        $errSchemaPath = it.errSchemaPath + '/type',\n        $method = $typeIsArray ? 'checkDataTypes' : 'checkDataType';\n      out += ' if (' + (it.util[$method]($typeSchema, $data, true)) + ') {  ';\n      var $dataType = 'dataType' + $lvl,\n        $coerced = 'coerced' + $lvl;\n      out += ' var ' + ($dataType) + ' = typeof ' + ($data) + '; ';\n      if (it.opts.coerceTypes == 'array') {\n        out += ' if (' + ($dataType) + ' == \\'object\\' && Array.isArray(' + ($data) + ')) ' + ($dataType) + ' = \\'array\\'; ';\n      }\n      out += ' var ' + ($coerced) + ' = undefined; ';\n      var $bracesCoercion = '';\n      var arr1 = $coerceToTypes;\n      if (arr1) {\n        var $type, $i = -1,\n          l1 = arr1.length - 1;\n        while ($i < l1) {\n          $type = arr1[$i += 1];\n          if ($i) {\n            out += ' if (' + ($coerced) + ' === undefined) { ';\n            $bracesCoercion += '}';\n          }\n          if (it.opts.coerceTypes == 'array' && $type != 'array') {\n            out += ' if (' + ($dataType) + ' == \\'array\\' && ' + ($data) + '.length == 1) { ' + ($coerced) + ' = ' + ($data) + ' = ' + ($data) + '[0]; ' + ($dataType) + ' = typeof ' + ($data) + ';  } ';\n          }\n          if ($type == 'string') {\n            out += ' if (' + ($dataType) + ' == \\'number\\' || ' + ($dataType) + ' == \\'boolean\\') ' + ($coerced) + ' = \\'\\' + ' + ($data) + '; else if (' + ($data) + ' === null) ' + ($coerced) + ' = \\'\\'; ';\n          } else if ($type == 'number' || $type == 'integer') {\n            out += ' if (' + ($dataType) + ' == \\'boolean\\' || ' + ($data) + ' === null || (' + ($dataType) + ' == \\'string\\' && ' + ($data) + ' && ' + ($data) + ' == +' + ($data) + ' ';\n            if ($type == 'integer') {\n              out += ' && !(' + ($data) + ' % 1)';\n            }\n            out += ')) ' + ($coerced) + ' = +' + ($data) + '; ';\n          } else if ($type == 'boolean') {\n            out += ' if (' + ($data) + ' === \\'false\\' || ' + ($data) + ' === 0 || ' + ($data) + ' === null) ' + ($coerced) + ' = false; else if (' + ($data) + ' === \\'true\\' || ' + ($data) + ' === 1) ' + ($coerced) + ' = true; ';\n          } else if ($type == 'null') {\n            out += ' if (' + ($data) + ' === \\'\\' || ' + ($data) + ' === 0 || ' + ($data) + ' === false) ' + ($coerced) + ' = null; ';\n          } else if (it.opts.coerceTypes == 'array' && $type == 'array') {\n            out += ' if (' + ($dataType) + ' == \\'string\\' || ' + ($dataType) + ' == \\'number\\' || ' + ($dataType) + ' == \\'boolean\\' || ' + ($data) + ' == null) ' + ($coerced) + ' = [' + ($data) + ']; ';\n          }\n        }\n      }\n      out += ' ' + ($bracesCoercion) + ' if (' + ($coerced) + ' === undefined) {   ';\n      var $$outStack = $$outStack || [];\n      $$outStack.push(out);\n      out = ''; /* istanbul ignore else */\n      if (it.createErrors !== false) {\n        out += ' { keyword: \\'' + ($errorKeyword || 'type') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { type: \\'';\n        if ($typeIsArray) {\n          out += '' + ($typeSchema.join(\",\"));\n        } else {\n          out += '' + ($typeSchema);\n        }\n        out += '\\' } ';\n        if (it.opts.messages !== false) {\n          out += ' , message: \\'should be ';\n          if ($typeIsArray) {\n            out += '' + ($typeSchema.join(\",\"));\n          } else {\n            out += '' + ($typeSchema);\n          }\n          out += '\\' ';\n        }\n        if (it.opts.verbose) {\n          out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n        }\n        out += ' } ';\n      } else {\n        out += ' {} ';\n      }\n      var __err = out;\n      out = $$outStack.pop();\n      if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n        if (it.async) {\n          out += ' throw new ValidationError([' + (__err) + ']); ';\n        } else {\n          out += ' validate.errors = [' + (__err) + ']; return false; ';\n        }\n      } else {\n        out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n      }\n      out += ' } else {  ';\n      var $parentData = $dataLvl ? 'data' + (($dataLvl - 1) || '') : 'parentData',\n        $parentDataProperty = $dataLvl ? it.dataPathArr[$dataLvl] : 'parentDataProperty';\n      out += ' ' + ($data) + ' = ' + ($coerced) + '; ';\n      if (!$dataLvl) {\n        out += 'if (' + ($parentData) + ' !== undefined)';\n      }\n      out += ' ' + ($parentData) + '[' + ($parentDataProperty) + '] = ' + ($coerced) + '; } } ';\n    }\n  }\n  if (it.schema.$ref && $refKeywords) {\n    if (it.opts.extendRefs == 'fail') {\n      throw new Error('$ref: validation keywords used in schema at path \"' + it.errSchemaPath + '\" (see option extendRefs)');\n    } else if (it.opts.extendRefs !== true) {\n      $refKeywords = false;\n      console.warn('$ref: keywords ignored in schema at path \"' + it.errSchemaPath + '\"');\n    }\n  }\n  if (it.schema.$ref && !$refKeywords) {\n    out += ' ' + (it.RULES.all.$ref.code(it, '$ref')) + ' ';\n    if ($breakOnError) {\n      out += ' } if (errors === ';\n      if ($top) {\n        out += '0';\n      } else {\n        out += 'errs_' + ($lvl);\n      }\n      out += ') { ';\n      $closingBraces2 += '}';\n    }\n  } else {\n    if (it.opts.v5 && it.schema.patternGroups) {\n      console.warn('keyword \"patternGroups\" is deprecated and disabled. Use option patternGroups: true to enable.');\n    }\n    var arr2 = it.RULES;\n    if (arr2) {\n      var $rulesGroup, i2 = -1,\n        l2 = arr2.length - 1;\n      while (i2 < l2) {\n        $rulesGroup = arr2[i2 += 1];\n        if ($shouldUseGroup($rulesGroup)) {\n          if ($rulesGroup.type) {\n            out += ' if (' + (it.util.checkDataType($rulesGroup.type, $data)) + ') { ';\n          }\n          if (it.opts.useDefaults && !it.compositeRule) {\n            if ($rulesGroup.type == 'object' && it.schema.properties) {\n              var $schema = it.schema.properties,\n                $schemaKeys = Object.keys($schema);\n              var arr3 = $schemaKeys;\n              if (arr3) {\n                var $propertyKey, i3 = -1,\n                  l3 = arr3.length - 1;\n                while (i3 < l3) {\n                  $propertyKey = arr3[i3 += 1];\n                  var $sch = $schema[$propertyKey];\n                  if ($sch.default !== undefined) {\n                    var $passData = $data + it.util.getProperty($propertyKey);\n                    out += '  if (' + ($passData) + ' === undefined) ' + ($passData) + ' = ';\n                    if (it.opts.useDefaults == 'shared') {\n                      out += ' ' + (it.useDefault($sch.default)) + ' ';\n                    } else {\n                      out += ' ' + (JSON.stringify($sch.default)) + ' ';\n                    }\n                    out += '; ';\n                  }\n                }\n              }\n            } else if ($rulesGroup.type == 'array' && Array.isArray(it.schema.items)) {\n              var arr4 = it.schema.items;\n              if (arr4) {\n                var $sch, $i = -1,\n                  l4 = arr4.length - 1;\n                while ($i < l4) {\n                  $sch = arr4[$i += 1];\n                  if ($sch.default !== undefined) {\n                    var $passData = $data + '[' + $i + ']';\n                    out += '  if (' + ($passData) + ' === undefined) ' + ($passData) + ' = ';\n                    if (it.opts.useDefaults == 'shared') {\n                      out += ' ' + (it.useDefault($sch.default)) + ' ';\n                    } else {\n                      out += ' ' + (JSON.stringify($sch.default)) + ' ';\n                    }\n                    out += '; ';\n                  }\n                }\n              }\n            }\n          }\n          var arr5 = $rulesGroup.rules;\n          if (arr5) {\n            var $rule, i5 = -1,\n              l5 = arr5.length - 1;\n            while (i5 < l5) {\n              $rule = arr5[i5 += 1];\n              if ($shouldUseRule($rule)) {\n                var $code = $rule.code(it, $rule.keyword, $rulesGroup.type);\n                if ($code) {\n                  out += ' ' + ($code) + ' ';\n                  if ($breakOnError) {\n                    $closingBraces1 += '}';\n                  }\n                }\n              }\n            }\n          }\n          if ($breakOnError) {\n            out += ' ' + ($closingBraces1) + ' ';\n            $closingBraces1 = '';\n          }\n          if ($rulesGroup.type) {\n            out += ' } ';\n            if ($typeSchema && $typeSchema === $rulesGroup.type) {\n              var $typeChecked = true;\n              out += ' else { ';\n              var $schemaPath = it.schemaPath + '.type',\n                $errSchemaPath = it.errSchemaPath + '/type';\n              var $$outStack = $$outStack || [];\n              $$outStack.push(out);\n              out = ''; /* istanbul ignore else */\n              if (it.createErrors !== false) {\n                out += ' { keyword: \\'' + ($errorKeyword || 'type') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { type: \\'';\n                if ($typeIsArray) {\n                  out += '' + ($typeSchema.join(\",\"));\n                } else {\n                  out += '' + ($typeSchema);\n                }\n                out += '\\' } ';\n                if (it.opts.messages !== false) {\n                  out += ' , message: \\'should be ';\n                  if ($typeIsArray) {\n                    out += '' + ($typeSchema.join(\",\"));\n                  } else {\n                    out += '' + ($typeSchema);\n                  }\n                  out += '\\' ';\n                }\n                if (it.opts.verbose) {\n                  out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n                }\n                out += ' } ';\n              } else {\n                out += ' {} ';\n              }\n              var __err = out;\n              out = $$outStack.pop();\n              if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n                if (it.async) {\n                  out += ' throw new ValidationError([' + (__err) + ']); ';\n                } else {\n                  out += ' validate.errors = [' + (__err) + ']; return false; ';\n                }\n              } else {\n                out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n              }\n              out += ' } ';\n            }\n          }\n          if ($breakOnError) {\n            out += ' if (errors === ';\n            if ($top) {\n              out += '0';\n            } else {\n              out += 'errs_' + ($lvl);\n            }\n            out += ') { ';\n            $closingBraces2 += '}';\n          }\n        }\n      }\n    }\n  }\n  if ($typeSchema && !$typeChecked && !(it.opts.coerceTypes && $coerceToTypes)) {\n    var $schemaPath = it.schemaPath + '.type',\n      $errSchemaPath = it.errSchemaPath + '/type',\n      $method = $typeIsArray ? 'checkDataTypes' : 'checkDataType';\n    out += ' if (' + (it.util[$method]($typeSchema, $data, true)) + ') {   ';\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = ''; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ($errorKeyword || 'type') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { type: \\'';\n      if ($typeIsArray) {\n        out += '' + ($typeSchema.join(\",\"));\n      } else {\n        out += '' + ($typeSchema);\n      }\n      out += '\\' } ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should be ';\n        if ($typeIsArray) {\n          out += '' + ($typeSchema.join(\",\"));\n        } else {\n          out += '' + ($typeSchema);\n        }\n        out += '\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    var __err = out;\n    out = $$outStack.pop();\n    if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError([' + (__err) + ']); ';\n      } else {\n        out += ' validate.errors = [' + (__err) + ']; return false; ';\n      }\n    } else {\n      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    }\n    out += ' }';\n  }\n  if ($breakOnError) {\n    out += ' ' + ($closingBraces2) + ' ';\n  }\n  if ($top) {\n    if ($async) {\n      out += ' if (errors === 0) return data;           ';\n      out += ' else throw new ValidationError(vErrors); ';\n    } else {\n      out += ' validate.errors = vErrors; ';\n      out += ' return errors === 0;       ';\n    }\n    out += ' }); return validate;';\n  } else {\n    out += ' var ' + ($valid) + ' = errors === errs_' + ($lvl) + ';';\n  }\n  out = it.util.cleanUpCode(out);\n  if ($top) {\n    out = it.util.finalCleanUpCode(out, $async);\n  }\n\n  function $shouldUseGroup($rulesGroup) {\n    var rules = $rulesGroup.rules;\n    for (var i = 0; i < rules.length; i++)\n      if ($shouldUseRule(rules[i])) return true;\n  }\n\n  function $shouldUseRule($rule) {\n    return it.schema[$rule.keyword] !== undefined || ($rule.implements && $ruleImlementsSomeKeyword($rule));\n  }\n\n  function $ruleImlementsSomeKeyword($rule) {\n    var impl = $rule.implements;\n    for (var i = 0; i < impl.length; i++)\n      if (it.schema[impl[i]] !== undefined) return true;\n  }\n  return out;\n}\n","'use strict';\n\n\nvar Cache = module.exports = function Cache() {\n  this._cache = {};\n};\n\n\nCache.prototype.put = function Cache_put(key, value) {\n  this._cache[key] = value;\n};\n\n\nCache.prototype.get = function Cache_get(key) {\n  return this._cache[key];\n};\n\n\nCache.prototype.del = function Cache_del(key) {\n  delete this._cache[key];\n};\n\n\nCache.prototype.clear = function Cache_clear() {\n  this._cache = {};\n};\n","'use strict';\nmodule.exports = function generate__limit(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $isMax = $keyword == 'maximum',\n    $exclusiveKeyword = $isMax ? 'exclusiveMaximum' : 'exclusiveMinimum',\n    $schemaExcl = it.schema[$exclusiveKeyword],\n    $isDataExcl = it.opts.$data && $schemaExcl && $schemaExcl.$data,\n    $op = $isMax ? '<' : '>',\n    $notOp = $isMax ? '>' : '<';\n  if ($isDataExcl) {\n    var $schemaValueExcl = it.util.getData($schemaExcl.$data, $dataLvl, it.dataPathArr),\n      $exclusive = 'exclusive' + $lvl,\n      $exclType = 'exclType' + $lvl,\n      $exclIsNumber = 'exclIsNumber' + $lvl,\n      $opExpr = 'op' + $lvl,\n      $opStr = '\\' + ' + $opExpr + ' + \\'';\n    out += ' var schemaExcl' + ($lvl) + ' = ' + ($schemaValueExcl) + '; ';\n    $schemaValueExcl = 'schemaExcl' + $lvl;\n    out += ' var ' + ($exclusive) + '; var ' + ($exclType) + ' = typeof ' + ($schemaValueExcl) + '; if (' + ($exclType) + ' != \\'boolean\\' && ' + ($exclType) + ' != \\'undefined\\' && ' + ($exclType) + ' != \\'number\\') { ';\n    var $errorKeyword = $exclusiveKeyword;\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = ''; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ($errorKeyword || '_exclusiveLimit') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'' + ($exclusiveKeyword) + ' should be boolean\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    var __err = out;\n    out = $$outStack.pop();\n    if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError([' + (__err) + ']); ';\n      } else {\n        out += ' validate.errors = [' + (__err) + ']; return false; ';\n      }\n    } else {\n      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    }\n    out += ' } else if ( ';\n    if ($isData) {\n      out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n    }\n    out += ' ' + ($exclType) + ' == \\'number\\' ? ( (' + ($exclusive) + ' = ' + ($schemaValue) + ' === undefined || ' + ($schemaValueExcl) + ' ' + ($op) + '= ' + ($schemaValue) + ') ? ' + ($data) + ' ' + ($notOp) + '= ' + ($schemaValueExcl) + ' : ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' ) : ( (' + ($exclusive) + ' = ' + ($schemaValueExcl) + ' === true) ? ' + ($data) + ' ' + ($notOp) + '= ' + ($schemaValue) + ' : ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' ) || ' + ($data) + ' !== ' + ($data) + ') { var op' + ($lvl) + ' = ' + ($exclusive) + ' ? \\'' + ($op) + '\\' : \\'' + ($op) + '=\\';';\n  } else {\n    var $exclIsNumber = typeof $schemaExcl == 'number',\n      $opStr = $op;\n    if ($exclIsNumber && $isData) {\n      var $opExpr = '\\'' + $opStr + '\\'';\n      out += ' if ( ';\n      if ($isData) {\n        out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n      }\n      out += ' ( ' + ($schemaValue) + ' === undefined || ' + ($schemaExcl) + ' ' + ($op) + '= ' + ($schemaValue) + ' ? ' + ($data) + ' ' + ($notOp) + '= ' + ($schemaExcl) + ' : ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' ) || ' + ($data) + ' !== ' + ($data) + ') { ';\n    } else {\n      if ($exclIsNumber && $schema === undefined) {\n        $schemaValue = $schemaExcl;\n        $notOp += '=';\n      } else {\n        if ($exclIsNumber) $schemaValue = Math[$isMax ? 'min' : 'max']($schemaExcl, $schema);\n        if ($schemaExcl === ($exclIsNumber ? $schemaValue : true)) $notOp += '=';\n        else $opStr += '=';\n      }\n      var $opExpr = '\\'' + $opStr + '\\'';\n      out += ' if ( ';\n      if ($isData) {\n        out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n      }\n      out += ' ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' || ' + ($data) + ' !== ' + ($data) + ') { ';\n    }\n  }\n  var $errorKeyword = $keyword;\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ($errorKeyword || '_limit') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { comparison: ' + ($opExpr) + ', limit: ' + ($schemaValue) + ', exclusive: ' + ($exclusive) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should be ' + ($opStr) + ' ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue);\n      } else {\n        out += '' + ($schema) + '\\'';\n      }\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' } ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate__limitItems(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $op = $keyword == 'maxItems' ? '>' : '<';\n  out += 'if ( ';\n  if ($isData) {\n    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n  }\n  out += ' ' + ($data) + '.length ' + ($op) + ' ' + ($schemaValue) + ') { ';\n  var $errorKeyword = $keyword;\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ($errorKeyword || '_limitItems') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schemaValue) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should NOT have ';\n      if ($keyword == 'maxItems') {\n        out += 'more';\n      } else {\n        out += 'less';\n      }\n      out += ' than ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + ($schema);\n      }\n      out += ' items\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate__limitLength(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $op = $keyword == 'maxLength' ? '>' : '<';\n  out += 'if ( ';\n  if ($isData) {\n    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n  }\n  if (it.opts.unicode === false) {\n    out += ' ' + ($data) + '.length ';\n  } else {\n    out += ' ucs2length(' + ($data) + ') ';\n  }\n  out += ' ' + ($op) + ' ' + ($schemaValue) + ') { ';\n  var $errorKeyword = $keyword;\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ($errorKeyword || '_limitLength') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schemaValue) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should NOT be ';\n      if ($keyword == 'maxLength') {\n        out += 'longer';\n      } else {\n        out += 'shorter';\n      }\n      out += ' than ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + ($schema);\n      }\n      out += ' characters\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate__limitProperties(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $op = $keyword == 'maxProperties' ? '>' : '<';\n  out += 'if ( ';\n  if ($isData) {\n    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n  }\n  out += ' Object.keys(' + ($data) + ').length ' + ($op) + ' ' + ($schemaValue) + ') { ';\n  var $errorKeyword = $keyword;\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ($errorKeyword || '_limitProperties') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schemaValue) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should NOT have ';\n      if ($keyword == 'maxProperties') {\n        out += 'more';\n      } else {\n        out += 'less';\n      }\n      out += ' than ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + ($schema);\n      }\n      out += ' properties\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_ref(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $async, $refCode;\n  if ($schema == '#' || $schema == '#/') {\n    if (it.isRoot) {\n      $async = it.async;\n      $refCode = 'validate';\n    } else {\n      $async = it.root.schema.$async === true;\n      $refCode = 'root.refVal[0]';\n    }\n  } else {\n    var $refVal = it.resolveRef(it.baseId, $schema, it.isRoot);\n    if ($refVal === undefined) {\n      var $message = it.MissingRefError.message(it.baseId, $schema);\n      if (it.opts.missingRefs == 'fail') {\n        console.error($message);\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('$ref') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { ref: \\'' + (it.util.escapeQuotes($schema)) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'can\\\\\\'t resolve reference ' + (it.util.escapeQuotes($schema)) + '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: ' + (it.util.toQuotedString($schema)) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n        if ($breakOnError) {\n          out += ' if (false) { ';\n        }\n      } else if (it.opts.missingRefs == 'ignore') {\n        console.warn($message);\n        if ($breakOnError) {\n          out += ' if (true) { ';\n        }\n      } else {\n        throw new it.MissingRefError(it.baseId, $schema, $message);\n      }\n    } else if ($refVal.inline) {\n      var $it = it.util.copy(it);\n      $it.level++;\n      var $nextValid = 'valid' + $it.level;\n      $it.schema = $refVal.schema;\n      $it.schemaPath = '';\n      $it.errSchemaPath = $schema;\n      var $code = it.validate($it).replace(/validate\\.schema/g, $refVal.code);\n      out += ' ' + ($code) + ' ';\n      if ($breakOnError) {\n        out += ' if (' + ($nextValid) + ') { ';\n      }\n    } else {\n      $async = $refVal.$async === true;\n      $refCode = $refVal.code;\n    }\n  }\n  if ($refCode) {\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = '';\n    if (it.opts.passContext) {\n      out += ' ' + ($refCode) + '.call(this, ';\n    } else {\n      out += ' ' + ($refCode) + '( ';\n    }\n    out += ' ' + ($data) + ', (dataPath || \\'\\')';\n    if (it.errorPath != '\"\"') {\n      out += ' + ' + (it.errorPath);\n    }\n    var $parentData = $dataLvl ? 'data' + (($dataLvl - 1) || '') : 'parentData',\n      $parentDataProperty = $dataLvl ? it.dataPathArr[$dataLvl] : 'parentDataProperty';\n    out += ' , ' + ($parentData) + ' , ' + ($parentDataProperty) + ', rootData)  ';\n    var __callValidate = out;\n    out = $$outStack.pop();\n    if ($async) {\n      if (!it.async) throw new Error('async schema referenced by sync schema');\n      if ($breakOnError) {\n        out += ' var ' + ($valid) + '; ';\n      }\n      out += ' try { ' + (it.yieldAwait) + ' ' + (__callValidate) + '; ';\n      if ($breakOnError) {\n        out += ' ' + ($valid) + ' = true; ';\n      }\n      out += ' } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ';\n      if ($breakOnError) {\n        out += ' ' + ($valid) + ' = false; ';\n      }\n      out += ' } ';\n      if ($breakOnError) {\n        out += ' if (' + ($valid) + ') { ';\n      }\n    } else {\n      out += ' if (!' + (__callValidate) + ') { if (vErrors === null) vErrors = ' + ($refCode) + '.errors; else vErrors = vErrors.concat(' + ($refCode) + '.errors); errors = vErrors.length; } ';\n      if ($breakOnError) {\n        out += ' else { ';\n      }\n    }\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_allOf(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $currentBaseId = $it.baseId,\n    $allSchemasEmpty = true;\n  var arr1 = $schema;\n  if (arr1) {\n    var $sch, $i = -1,\n      l1 = arr1.length - 1;\n    while ($i < l1) {\n      $sch = arr1[$i += 1];\n      if (it.util.schemaHasRules($sch, it.RULES.all)) {\n        $allSchemasEmpty = false;\n        $it.schema = $sch;\n        $it.schemaPath = $schemaPath + '[' + $i + ']';\n        $it.errSchemaPath = $errSchemaPath + '/' + $i;\n        out += '  ' + (it.validate($it)) + ' ';\n        $it.baseId = $currentBaseId;\n        if ($breakOnError) {\n          out += ' if (' + ($nextValid) + ') { ';\n          $closingBraces += '}';\n        }\n      }\n    }\n  }\n  if ($breakOnError) {\n    if ($allSchemasEmpty) {\n      out += ' if (true) { ';\n    } else {\n      out += ' ' + ($closingBraces.slice(0, -1)) + ' ';\n    }\n  }\n  out = it.util.cleanUpCode(out);\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_anyOf(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $noEmptySchema = $schema.every(function($sch) {\n    return it.util.schemaHasRules($sch, it.RULES.all);\n  });\n  if ($noEmptySchema) {\n    var $currentBaseId = $it.baseId;\n    out += ' var ' + ($errs) + ' = errors; var ' + ($valid) + ' = false;  ';\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    var arr1 = $schema;\n    if (arr1) {\n      var $sch, $i = -1,\n        l1 = arr1.length - 1;\n      while ($i < l1) {\n        $sch = arr1[$i += 1];\n        $it.schema = $sch;\n        $it.schemaPath = $schemaPath + '[' + $i + ']';\n        $it.errSchemaPath = $errSchemaPath + '/' + $i;\n        out += '  ' + (it.validate($it)) + ' ';\n        $it.baseId = $currentBaseId;\n        out += ' ' + ($valid) + ' = ' + ($valid) + ' || ' + ($nextValid) + '; if (!' + ($valid) + ') { ';\n        $closingBraces += '}';\n      }\n    }\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' ' + ($closingBraces) + ' if (!' + ($valid) + ') {   var err =   '; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('anyOf') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should match some schema in anyOf\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError(vErrors); ';\n      } else {\n        out += ' validate.errors = vErrors; return false; ';\n      }\n    }\n    out += ' } else {  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; } ';\n    if (it.opts.allErrors) {\n      out += ' } ';\n    }\n    out = it.util.cleanUpCode(out);\n  } else {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_const(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  if (!$isData) {\n    out += ' var schema' + ($lvl) + ' = validate.schema' + ($schemaPath) + ';';\n  }\n  out += 'var ' + ($valid) + ' = equal(' + ($data) + ', schema' + ($lvl) + '); if (!' + ($valid) + ') {   ';\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('const') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should be equal to constant\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' }';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_contains(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $idx = 'i' + $lvl,\n    $dataNxt = $it.dataLevel = it.dataLevel + 1,\n    $nextData = 'data' + $dataNxt,\n    $currentBaseId = it.baseId,\n    $nonEmptySchema = it.util.schemaHasRules($schema, it.RULES.all);\n  out += 'var ' + ($errs) + ' = errors;var ' + ($valid) + ';';\n  if ($nonEmptySchema) {\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    out += ' for (var ' + ($idx) + ' = 0; ' + ($idx) + ' < ' + ($data) + '.length; ' + ($idx) + '++) { ';\n    $it.errorPath = it.util.getPathExpr(it.errorPath, $idx, it.opts.jsonPointers, true);\n    var $passData = $data + '[' + $idx + ']';\n    $it.dataPathArr[$dataNxt] = $idx;\n    var $code = it.validate($it);\n    $it.baseId = $currentBaseId;\n    if (it.util.varOccurences($code, $nextData) < 2) {\n      out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n    } else {\n      out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n    }\n    out += ' if (' + ($nextValid) + ') break; }  ';\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' ' + ($closingBraces) + ' if (!' + ($nextValid) + ') {';\n  } else {\n    out += ' if (' + ($data) + '.length == 0) {';\n  }\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('contains') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should contain a valid item\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' } else { ';\n  if ($nonEmptySchema) {\n    out += '  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; } ';\n  }\n  if (it.opts.allErrors) {\n    out += ' } ';\n  }\n  out = it.util.cleanUpCode(out);\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_dependencies(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $schemaDeps = {},\n    $propertyDeps = {},\n    $ownProperties = it.opts.ownProperties;\n  for ($property in $schema) {\n    var $sch = $schema[$property];\n    var $deps = Array.isArray($sch) ? $propertyDeps : $schemaDeps;\n    $deps[$property] = $sch;\n  }\n  out += 'var ' + ($errs) + ' = errors;';\n  var $currentErrorPath = it.errorPath;\n  out += 'var missing' + ($lvl) + ';';\n  for (var $property in $propertyDeps) {\n    $deps = $propertyDeps[$property];\n    if ($deps.length) {\n      out += ' if ( ' + ($data) + (it.util.getProperty($property)) + ' !== undefined ';\n      if ($ownProperties) {\n        out += ' && Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($property)) + '\\') ';\n      }\n      if ($breakOnError) {\n        out += ' && ( ';\n        var arr1 = $deps;\n        if (arr1) {\n          var $propertyKey, $i = -1,\n            l1 = arr1.length - 1;\n          while ($i < l1) {\n            $propertyKey = arr1[$i += 1];\n            if ($i) {\n              out += ' || ';\n            }\n            var $prop = it.util.getProperty($propertyKey),\n              $useData = $data + $prop;\n            out += ' ( ( ' + ($useData) + ' === undefined ';\n            if ($ownProperties) {\n              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n            }\n            out += ') && (missing' + ($lvl) + ' = ' + (it.util.toQuotedString(it.opts.jsonPointers ? $propertyKey : $prop)) + ') ) ';\n          }\n        }\n        out += ')) {  ';\n        var $propertyPath = 'missing' + $lvl,\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n        if (it.opts._errorDataPathProperty) {\n          it.errorPath = it.opts.jsonPointers ? it.util.getPathExpr($currentErrorPath, $propertyPath, true) : $currentErrorPath + ' + ' + $propertyPath;\n        }\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('dependencies') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { property: \\'' + (it.util.escapeQuotes($property)) + '\\', missingProperty: \\'' + ($missingProperty) + '\\', depsCount: ' + ($deps.length) + ', deps: \\'' + (it.util.escapeQuotes($deps.length == 1 ? $deps[0] : $deps.join(\", \"))) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'should have ';\n            if ($deps.length == 1) {\n              out += 'property ' + (it.util.escapeQuotes($deps[0]));\n            } else {\n              out += 'properties ' + (it.util.escapeQuotes($deps.join(\", \")));\n            }\n            out += ' when property ' + (it.util.escapeQuotes($property)) + ' is present\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n      } else {\n        out += ' ) { ';\n        var arr2 = $deps;\n        if (arr2) {\n          var $propertyKey, i2 = -1,\n            l2 = arr2.length - 1;\n          while (i2 < l2) {\n            $propertyKey = arr2[i2 += 1];\n            var $prop = it.util.getProperty($propertyKey),\n              $missingProperty = it.util.escapeQuotes($propertyKey),\n              $useData = $data + $prop;\n            if (it.opts._errorDataPathProperty) {\n              it.errorPath = it.util.getPath($currentErrorPath, $propertyKey, it.opts.jsonPointers);\n            }\n            out += ' if ( ' + ($useData) + ' === undefined ';\n            if ($ownProperties) {\n              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n            }\n            out += ') {  var err =   '; /* istanbul ignore else */\n            if (it.createErrors !== false) {\n              out += ' { keyword: \\'' + ('dependencies') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { property: \\'' + (it.util.escapeQuotes($property)) + '\\', missingProperty: \\'' + ($missingProperty) + '\\', depsCount: ' + ($deps.length) + ', deps: \\'' + (it.util.escapeQuotes($deps.length == 1 ? $deps[0] : $deps.join(\", \"))) + '\\' } ';\n              if (it.opts.messages !== false) {\n                out += ' , message: \\'should have ';\n                if ($deps.length == 1) {\n                  out += 'property ' + (it.util.escapeQuotes($deps[0]));\n                } else {\n                  out += 'properties ' + (it.util.escapeQuotes($deps.join(\", \")));\n                }\n                out += ' when property ' + (it.util.escapeQuotes($property)) + ' is present\\' ';\n              }\n              if (it.opts.verbose) {\n                out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n              }\n              out += ' } ';\n            } else {\n              out += ' {} ';\n            }\n            out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } ';\n          }\n        }\n      }\n      out += ' }   ';\n      if ($breakOnError) {\n        $closingBraces += '}';\n        out += ' else { ';\n      }\n    }\n  }\n  it.errorPath = $currentErrorPath;\n  var $currentBaseId = $it.baseId;\n  for (var $property in $schemaDeps) {\n    var $sch = $schemaDeps[$property];\n    if (it.util.schemaHasRules($sch, it.RULES.all)) {\n      out += ' ' + ($nextValid) + ' = true; if ( ' + ($data) + (it.util.getProperty($property)) + ' !== undefined ';\n      if ($ownProperties) {\n        out += ' && Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($property)) + '\\') ';\n      }\n      out += ') { ';\n      $it.schema = $sch;\n      $it.schemaPath = $schemaPath + it.util.getProperty($property);\n      $it.errSchemaPath = $errSchemaPath + '/' + it.util.escapeFragment($property);\n      out += '  ' + (it.validate($it)) + ' ';\n      $it.baseId = $currentBaseId;\n      out += ' }  ';\n      if ($breakOnError) {\n        out += ' if (' + ($nextValid) + ') { ';\n        $closingBraces += '}';\n      }\n    }\n  }\n  if ($breakOnError) {\n    out += '   ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';\n  }\n  out = it.util.cleanUpCode(out);\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_enum(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $i = 'i' + $lvl,\n    $vSchema = 'schema' + $lvl;\n  if (!$isData) {\n    out += ' var ' + ($vSchema) + ' = validate.schema' + ($schemaPath) + ';';\n  }\n  out += 'var ' + ($valid) + ';';\n  if ($isData) {\n    out += ' if (schema' + ($lvl) + ' === undefined) ' + ($valid) + ' = true; else if (!Array.isArray(schema' + ($lvl) + ')) ' + ($valid) + ' = false; else {';\n  }\n  out += '' + ($valid) + ' = false;for (var ' + ($i) + '=0; ' + ($i) + '<' + ($vSchema) + '.length; ' + ($i) + '++) if (equal(' + ($data) + ', ' + ($vSchema) + '[' + ($i) + '])) { ' + ($valid) + ' = true; break; }';\n  if ($isData) {\n    out += '  }  ';\n  }\n  out += ' if (!' + ($valid) + ') {   ';\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('enum') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { allowedValues: schema' + ($lvl) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should be equal to one of the allowed values\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' }';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_format(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  if (it.opts.format === false) {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n    return out;\n  }\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $unknownFormats = it.opts.unknownFormats,\n    $allowUnknown = Array.isArray($unknownFormats);\n  if ($isData) {\n    var $format = 'format' + $lvl,\n      $isObject = 'isObject' + $lvl,\n      $formatType = 'formatType' + $lvl;\n    out += ' var ' + ($format) + ' = formats[' + ($schemaValue) + ']; var ' + ($isObject) + ' = typeof ' + ($format) + ' == \\'object\\' && !(' + ($format) + ' instanceof RegExp) && ' + ($format) + '.validate; var ' + ($formatType) + ' = ' + ($isObject) + ' && ' + ($format) + '.type || \\'string\\'; if (' + ($isObject) + ') { ';\n    if (it.async) {\n      out += ' var async' + ($lvl) + ' = ' + ($format) + '.async; ';\n    }\n    out += ' ' + ($format) + ' = ' + ($format) + '.validate; } if (  ';\n    if ($isData) {\n      out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'string\\') || ';\n    }\n    out += ' (';\n    if ($unknownFormats != 'ignore') {\n      out += ' (' + ($schemaValue) + ' && !' + ($format) + ' ';\n      if ($allowUnknown) {\n        out += ' && self._opts.unknownFormats.indexOf(' + ($schemaValue) + ') == -1 ';\n      }\n      out += ') || ';\n    }\n    out += ' (' + ($format) + ' && ' + ($formatType) + ' == \\'' + ($ruleType) + '\\' && !(typeof ' + ($format) + ' == \\'function\\' ? ';\n    if (it.async) {\n      out += ' (async' + ($lvl) + ' ? ' + (it.yieldAwait) + ' ' + ($format) + '(' + ($data) + ') : ' + ($format) + '(' + ($data) + ')) ';\n    } else {\n      out += ' ' + ($format) + '(' + ($data) + ') ';\n    }\n    out += ' : ' + ($format) + '.test(' + ($data) + '))))) {';\n  } else {\n    var $format = it.formats[$schema];\n    if (!$format) {\n      if ($unknownFormats == 'ignore') {\n        console.warn('unknown format \"' + $schema + '\" ignored in schema at path \"' + it.errSchemaPath + '\"');\n        if ($breakOnError) {\n          out += ' if (true) { ';\n        }\n        return out;\n      } else if ($allowUnknown && $unknownFormats.indexOf($schema) >= 0) {\n        if ($breakOnError) {\n          out += ' if (true) { ';\n        }\n        return out;\n      } else {\n        throw new Error('unknown format \"' + $schema + '\" is used in schema at path \"' + it.errSchemaPath + '\"');\n      }\n    }\n    var $isObject = typeof $format == 'object' && !($format instanceof RegExp) && $format.validate;\n    var $formatType = $isObject && $format.type || 'string';\n    if ($isObject) {\n      var $async = $format.async === true;\n      $format = $format.validate;\n    }\n    if ($formatType != $ruleType) {\n      if ($breakOnError) {\n        out += ' if (true) { ';\n      }\n      return out;\n    }\n    if ($async) {\n      if (!it.async) throw new Error('async format in sync schema');\n      var $formatRef = 'formats' + it.util.getProperty($schema) + '.validate';\n      out += ' if (!(' + (it.yieldAwait) + ' ' + ($formatRef) + '(' + ($data) + '))) { ';\n    } else {\n      out += ' if (! ';\n      var $formatRef = 'formats' + it.util.getProperty($schema);\n      if ($isObject) $formatRef += '.validate';\n      if (typeof $format == 'function') {\n        out += ' ' + ($formatRef) + '(' + ($data) + ') ';\n      } else {\n        out += ' ' + ($formatRef) + '.test(' + ($data) + ') ';\n      }\n      out += ') { ';\n    }\n  }\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('format') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { format:  ';\n    if ($isData) {\n      out += '' + ($schemaValue);\n    } else {\n      out += '' + (it.util.toQuotedString($schema));\n    }\n    out += '  } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should match format \"';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + (it.util.escapeQuotes($schema));\n      }\n      out += '\"\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + (it.util.toQuotedString($schema));\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' } ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_items(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $idx = 'i' + $lvl,\n    $dataNxt = $it.dataLevel = it.dataLevel + 1,\n    $nextData = 'data' + $dataNxt,\n    $currentBaseId = it.baseId;\n  out += 'var ' + ($errs) + ' = errors;var ' + ($valid) + ';';\n  if (Array.isArray($schema)) {\n    var $additionalItems = it.schema.additionalItems;\n    if ($additionalItems === false) {\n      out += ' ' + ($valid) + ' = ' + ($data) + '.length <= ' + ($schema.length) + '; ';\n      var $currErrSchemaPath = $errSchemaPath;\n      $errSchemaPath = it.errSchemaPath + '/additionalItems';\n      out += '  if (!' + ($valid) + ') {   ';\n      var $$outStack = $$outStack || [];\n      $$outStack.push(out);\n      out = ''; /* istanbul ignore else */\n      if (it.createErrors !== false) {\n        out += ' { keyword: \\'' + ('additionalItems') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schema.length) + ' } ';\n        if (it.opts.messages !== false) {\n          out += ' , message: \\'should NOT have more than ' + ($schema.length) + ' items\\' ';\n        }\n        if (it.opts.verbose) {\n          out += ' , schema: false , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n        }\n        out += ' } ';\n      } else {\n        out += ' {} ';\n      }\n      var __err = out;\n      out = $$outStack.pop();\n      if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n        if (it.async) {\n          out += ' throw new ValidationError([' + (__err) + ']); ';\n        } else {\n          out += ' validate.errors = [' + (__err) + ']; return false; ';\n        }\n      } else {\n        out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n      }\n      out += ' } ';\n      $errSchemaPath = $currErrSchemaPath;\n      if ($breakOnError) {\n        $closingBraces += '}';\n        out += ' else { ';\n      }\n    }\n    var arr1 = $schema;\n    if (arr1) {\n      var $sch, $i = -1,\n        l1 = arr1.length - 1;\n      while ($i < l1) {\n        $sch = arr1[$i += 1];\n        if (it.util.schemaHasRules($sch, it.RULES.all)) {\n          out += ' ' + ($nextValid) + ' = true; if (' + ($data) + '.length > ' + ($i) + ') { ';\n          var $passData = $data + '[' + $i + ']';\n          $it.schema = $sch;\n          $it.schemaPath = $schemaPath + '[' + $i + ']';\n          $it.errSchemaPath = $errSchemaPath + '/' + $i;\n          $it.errorPath = it.util.getPathExpr(it.errorPath, $i, it.opts.jsonPointers, true);\n          $it.dataPathArr[$dataNxt] = $i;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n          } else {\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n          }\n          out += ' }  ';\n          if ($breakOnError) {\n            out += ' if (' + ($nextValid) + ') { ';\n            $closingBraces += '}';\n          }\n        }\n      }\n    }\n    if (typeof $additionalItems == 'object' && it.util.schemaHasRules($additionalItems, it.RULES.all)) {\n      $it.schema = $additionalItems;\n      $it.schemaPath = it.schemaPath + '.additionalItems';\n      $it.errSchemaPath = it.errSchemaPath + '/additionalItems';\n      out += ' ' + ($nextValid) + ' = true; if (' + ($data) + '.length > ' + ($schema.length) + ') {  for (var ' + ($idx) + ' = ' + ($schema.length) + '; ' + ($idx) + ' < ' + ($data) + '.length; ' + ($idx) + '++) { ';\n      $it.errorPath = it.util.getPathExpr(it.errorPath, $idx, it.opts.jsonPointers, true);\n      var $passData = $data + '[' + $idx + ']';\n      $it.dataPathArr[$dataNxt] = $idx;\n      var $code = it.validate($it);\n      $it.baseId = $currentBaseId;\n      if (it.util.varOccurences($code, $nextData) < 2) {\n        out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n      } else {\n        out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n      }\n      if ($breakOnError) {\n        out += ' if (!' + ($nextValid) + ') break; ';\n      }\n      out += ' } }  ';\n      if ($breakOnError) {\n        out += ' if (' + ($nextValid) + ') { ';\n        $closingBraces += '}';\n      }\n    }\n  } else if (it.util.schemaHasRules($schema, it.RULES.all)) {\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    out += '  for (var ' + ($idx) + ' = ' + (0) + '; ' + ($idx) + ' < ' + ($data) + '.length; ' + ($idx) + '++) { ';\n    $it.errorPath = it.util.getPathExpr(it.errorPath, $idx, it.opts.jsonPointers, true);\n    var $passData = $data + '[' + $idx + ']';\n    $it.dataPathArr[$dataNxt] = $idx;\n    var $code = it.validate($it);\n    $it.baseId = $currentBaseId;\n    if (it.util.varOccurences($code, $nextData) < 2) {\n      out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n    } else {\n      out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n    }\n    if ($breakOnError) {\n      out += ' if (!' + ($nextValid) + ') break; ';\n    }\n    out += ' }';\n  }\n  if ($breakOnError) {\n    out += ' ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';\n  }\n  out = it.util.cleanUpCode(out);\n  return out;\n}\n","'use strict';\n\n//all requires must be explicit because browserify won't work with dynamic requires\nmodule.exports = {\n  '$ref': require('../dotjs/ref'),\n  allOf: require('../dotjs/allOf'),\n  anyOf: require('../dotjs/anyOf'),\n  const: require('../dotjs/const'),\n  contains: require('../dotjs/contains'),\n  dependencies: require('../dotjs/dependencies'),\n  'enum': require('../dotjs/enum'),\n  format: require('../dotjs/format'),\n  items: require('../dotjs/items'),\n  maximum: require('../dotjs/_limit'),\n  minimum: require('../dotjs/_limit'),\n  maxItems: require('../dotjs/_limitItems'),\n  minItems: require('../dotjs/_limitItems'),\n  maxLength: require('../dotjs/_limitLength'),\n  minLength: require('../dotjs/_limitLength'),\n  maxProperties: require('../dotjs/_limitProperties'),\n  minProperties: require('../dotjs/_limitProperties'),\n  multipleOf: require('../dotjs/multipleOf'),\n  not: require('../dotjs/not'),\n  oneOf: require('../dotjs/oneOf'),\n  pattern: require('../dotjs/pattern'),\n  properties: require('../dotjs/properties'),\n  propertyNames: require('../dotjs/propertyNames'),\n  required: require('../dotjs/required'),\n  uniqueItems: require('../dotjs/uniqueItems'),\n  validate: require('../dotjs/validate')\n};\n","'use strict';\nmodule.exports = function generate_multipleOf(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  out += 'var division' + ($lvl) + ';if (';\n  if ($isData) {\n    out += ' ' + ($schemaValue) + ' !== undefined && ( typeof ' + ($schemaValue) + ' != \\'number\\' || ';\n  }\n  out += ' (division' + ($lvl) + ' = ' + ($data) + ' / ' + ($schemaValue) + ', ';\n  if (it.opts.multipleOfPrecision) {\n    out += ' Math.abs(Math.round(division' + ($lvl) + ') - division' + ($lvl) + ') > 1e-' + (it.opts.multipleOfPrecision) + ' ';\n  } else {\n    out += ' division' + ($lvl) + ' !== parseInt(division' + ($lvl) + ') ';\n  }\n  out += ' ) ';\n  if ($isData) {\n    out += '  )  ';\n  }\n  out += ' ) {   ';\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('multipleOf') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { multipleOf: ' + ($schemaValue) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should be multiple of ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue);\n      } else {\n        out += '' + ($schema) + '\\'';\n      }\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_not(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  if (it.util.schemaHasRules($schema, it.RULES.all)) {\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    out += ' var ' + ($errs) + ' = errors;  ';\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    $it.createErrors = false;\n    var $allErrorsOption;\n    if ($it.opts.allErrors) {\n      $allErrorsOption = $it.opts.allErrors;\n      $it.opts.allErrors = false;\n    }\n    out += ' ' + (it.validate($it)) + ' ';\n    $it.createErrors = true;\n    if ($allErrorsOption) $it.opts.allErrors = $allErrorsOption;\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' if (' + ($nextValid) + ') {   ';\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = ''; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('not') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should NOT be valid\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    var __err = out;\n    out = $$outStack.pop();\n    if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError([' + (__err) + ']); ';\n      } else {\n        out += ' validate.errors = [' + (__err) + ']; return false; ';\n      }\n    } else {\n      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    }\n    out += ' } else {  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; } ';\n    if (it.opts.allErrors) {\n      out += ' } ';\n    }\n  } else {\n    out += '  var err =   '; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('not') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should NOT be valid\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    if ($breakOnError) {\n      out += ' if (false) { ';\n    }\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_oneOf(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  out += 'var ' + ($errs) + ' = errors;var prevValid' + ($lvl) + ' = false;var ' + ($valid) + ' = false;';\n  var $currentBaseId = $it.baseId;\n  var $wasComposite = it.compositeRule;\n  it.compositeRule = $it.compositeRule = true;\n  var arr1 = $schema;\n  if (arr1) {\n    var $sch, $i = -1,\n      l1 = arr1.length - 1;\n    while ($i < l1) {\n      $sch = arr1[$i += 1];\n      if (it.util.schemaHasRules($sch, it.RULES.all)) {\n        $it.schema = $sch;\n        $it.schemaPath = $schemaPath + '[' + $i + ']';\n        $it.errSchemaPath = $errSchemaPath + '/' + $i;\n        out += '  ' + (it.validate($it)) + ' ';\n        $it.baseId = $currentBaseId;\n      } else {\n        out += ' var ' + ($nextValid) + ' = true; ';\n      }\n      if ($i) {\n        out += ' if (' + ($nextValid) + ' && prevValid' + ($lvl) + ') ' + ($valid) + ' = false; else { ';\n        $closingBraces += '}';\n      }\n      out += ' if (' + ($nextValid) + ') ' + ($valid) + ' = prevValid' + ($lvl) + ' = true;';\n    }\n  }\n  it.compositeRule = $it.compositeRule = $wasComposite;\n  out += '' + ($closingBraces) + 'if (!' + ($valid) + ') {   var err =   '; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('oneOf') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should match exactly one schema in oneOf\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError(vErrors); ';\n    } else {\n      out += ' validate.errors = vErrors; return false; ';\n    }\n  }\n  out += '} else {  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; }';\n  if (it.opts.allErrors) {\n    out += ' } ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_pattern(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $regexp = $isData ? '(new RegExp(' + $schemaValue + '))' : it.usePattern($schema);\n  out += 'if ( ';\n  if ($isData) {\n    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'string\\') || ';\n  }\n  out += ' !' + ($regexp) + '.test(' + ($data) + ') ) {   ';\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('pattern') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { pattern:  ';\n    if ($isData) {\n      out += '' + ($schemaValue);\n    } else {\n      out += '' + (it.util.toQuotedString($schema));\n    }\n    out += '  } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should match pattern \"';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + (it.util.escapeQuotes($schema));\n      }\n      out += '\"\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + (it.util.toQuotedString($schema));\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_properties(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $key = 'key' + $lvl,\n    $idx = 'idx' + $lvl,\n    $dataNxt = $it.dataLevel = it.dataLevel + 1,\n    $nextData = 'data' + $dataNxt,\n    $dataProperties = 'dataProperties' + $lvl;\n  var $schemaKeys = Object.keys($schema || {}),\n    $pProperties = it.schema.patternProperties || {},\n    $pPropertyKeys = Object.keys($pProperties),\n    $aProperties = it.schema.additionalProperties,\n    $someProperties = $schemaKeys.length || $pPropertyKeys.length,\n    $noAdditional = $aProperties === false,\n    $additionalIsSchema = typeof $aProperties == 'object' && Object.keys($aProperties).length,\n    $removeAdditional = it.opts.removeAdditional,\n    $checkAdditional = $noAdditional || $additionalIsSchema || $removeAdditional,\n    $ownProperties = it.opts.ownProperties,\n    $currentBaseId = it.baseId;\n  var $required = it.schema.required;\n  if ($required && !(it.opts.v5 && $required.$data) && $required.length < it.opts.loopRequired) var $requiredHash = it.util.toHash($required);\n  if (it.opts.patternGroups) {\n    var $pgProperties = it.schema.patternGroups || {},\n      $pgPropertyKeys = Object.keys($pgProperties);\n  }\n  out += 'var ' + ($errs) + ' = errors;var ' + ($nextValid) + ' = true;';\n  if ($ownProperties) {\n    out += ' var ' + ($dataProperties) + ' = undefined;';\n  }\n  if ($checkAdditional) {\n    if ($ownProperties) {\n      out += ' ' + ($dataProperties) + ' = ' + ($dataProperties) + ' || Object.keys(' + ($data) + '); for (var ' + ($idx) + '=0; ' + ($idx) + '<' + ($dataProperties) + '.length; ' + ($idx) + '++) { var ' + ($key) + ' = ' + ($dataProperties) + '[' + ($idx) + ']; ';\n    } else {\n      out += ' for (var ' + ($key) + ' in ' + ($data) + ') { ';\n    }\n    if ($someProperties) {\n      out += ' var isAdditional' + ($lvl) + ' = !(false ';\n      if ($schemaKeys.length) {\n        if ($schemaKeys.length > 5) {\n          out += ' || validate.schema' + ($schemaPath) + '[' + ($key) + '] ';\n        } else {\n          var arr1 = $schemaKeys;\n          if (arr1) {\n            var $propertyKey, i1 = -1,\n              l1 = arr1.length - 1;\n            while (i1 < l1) {\n              $propertyKey = arr1[i1 += 1];\n              out += ' || ' + ($key) + ' == ' + (it.util.toQuotedString($propertyKey)) + ' ';\n            }\n          }\n        }\n      }\n      if ($pPropertyKeys.length) {\n        var arr2 = $pPropertyKeys;\n        if (arr2) {\n          var $pProperty, $i = -1,\n            l2 = arr2.length - 1;\n          while ($i < l2) {\n            $pProperty = arr2[$i += 1];\n            out += ' || ' + (it.usePattern($pProperty)) + '.test(' + ($key) + ') ';\n          }\n        }\n      }\n      if (it.opts.patternGroups && $pgPropertyKeys.length) {\n        var arr3 = $pgPropertyKeys;\n        if (arr3) {\n          var $pgProperty, $i = -1,\n            l3 = arr3.length - 1;\n          while ($i < l3) {\n            $pgProperty = arr3[$i += 1];\n            out += ' || ' + (it.usePattern($pgProperty)) + '.test(' + ($key) + ') ';\n          }\n        }\n      }\n      out += ' ); if (isAdditional' + ($lvl) + ') { ';\n    }\n    if ($removeAdditional == 'all') {\n      out += ' delete ' + ($data) + '[' + ($key) + ']; ';\n    } else {\n      var $currentErrorPath = it.errorPath;\n      var $additionalProperty = '\\' + ' + $key + ' + \\'';\n      if (it.opts._errorDataPathProperty) {\n        it.errorPath = it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n      }\n      if ($noAdditional) {\n        if ($removeAdditional) {\n          out += ' delete ' + ($data) + '[' + ($key) + ']; ';\n        } else {\n          out += ' ' + ($nextValid) + ' = false; ';\n          var $currErrSchemaPath = $errSchemaPath;\n          $errSchemaPath = it.errSchemaPath + '/additionalProperties';\n          var $$outStack = $$outStack || [];\n          $$outStack.push(out);\n          out = ''; /* istanbul ignore else */\n          if (it.createErrors !== false) {\n            out += ' { keyword: \\'' + ('additionalProperties') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { additionalProperty: \\'' + ($additionalProperty) + '\\' } ';\n            if (it.opts.messages !== false) {\n              out += ' , message: \\'should NOT have additional properties\\' ';\n            }\n            if (it.opts.verbose) {\n              out += ' , schema: false , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n            }\n            out += ' } ';\n          } else {\n            out += ' {} ';\n          }\n          var __err = out;\n          out = $$outStack.pop();\n          if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n            if (it.async) {\n              out += ' throw new ValidationError([' + (__err) + ']); ';\n            } else {\n              out += ' validate.errors = [' + (__err) + ']; return false; ';\n            }\n          } else {\n            out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n          }\n          $errSchemaPath = $currErrSchemaPath;\n          if ($breakOnError) {\n            out += ' break; ';\n          }\n        }\n      } else if ($additionalIsSchema) {\n        if ($removeAdditional == 'failing') {\n          out += ' var ' + ($errs) + ' = errors;  ';\n          var $wasComposite = it.compositeRule;\n          it.compositeRule = $it.compositeRule = true;\n          $it.schema = $aProperties;\n          $it.schemaPath = it.schemaPath + '.additionalProperties';\n          $it.errSchemaPath = it.errSchemaPath + '/additionalProperties';\n          $it.errorPath = it.opts._errorDataPathProperty ? it.errorPath : it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n          var $passData = $data + '[' + $key + ']';\n          $it.dataPathArr[$dataNxt] = $key;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n          } else {\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n          }\n          out += ' if (!' + ($nextValid) + ') { errors = ' + ($errs) + '; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete ' + ($data) + '[' + ($key) + ']; }  ';\n          it.compositeRule = $it.compositeRule = $wasComposite;\n        } else {\n          $it.schema = $aProperties;\n          $it.schemaPath = it.schemaPath + '.additionalProperties';\n          $it.errSchemaPath = it.errSchemaPath + '/additionalProperties';\n          $it.errorPath = it.opts._errorDataPathProperty ? it.errorPath : it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n          var $passData = $data + '[' + $key + ']';\n          $it.dataPathArr[$dataNxt] = $key;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n          } else {\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n          }\n          if ($breakOnError) {\n            out += ' if (!' + ($nextValid) + ') break; ';\n          }\n        }\n      }\n      it.errorPath = $currentErrorPath;\n    }\n    if ($someProperties) {\n      out += ' } ';\n    }\n    out += ' }  ';\n    if ($breakOnError) {\n      out += ' if (' + ($nextValid) + ') { ';\n      $closingBraces += '}';\n    }\n  }\n  var $useDefaults = it.opts.useDefaults && !it.compositeRule;\n  if ($schemaKeys.length) {\n    var arr4 = $schemaKeys;\n    if (arr4) {\n      var $propertyKey, i4 = -1,\n        l4 = arr4.length - 1;\n      while (i4 < l4) {\n        $propertyKey = arr4[i4 += 1];\n        var $sch = $schema[$propertyKey];\n        if (it.util.schemaHasRules($sch, it.RULES.all)) {\n          var $prop = it.util.getProperty($propertyKey),\n            $passData = $data + $prop,\n            $hasDefault = $useDefaults && $sch.default !== undefined;\n          $it.schema = $sch;\n          $it.schemaPath = $schemaPath + $prop;\n          $it.errSchemaPath = $errSchemaPath + '/' + it.util.escapeFragment($propertyKey);\n          $it.errorPath = it.util.getPath(it.errorPath, $propertyKey, it.opts.jsonPointers);\n          $it.dataPathArr[$dataNxt] = it.util.toQuotedString($propertyKey);\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            $code = it.util.varReplace($code, $nextData, $passData);\n            var $useData = $passData;\n          } else {\n            var $useData = $nextData;\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ';\n          }\n          if ($hasDefault) {\n            out += ' ' + ($code) + ' ';\n          } else {\n            if ($requiredHash && $requiredHash[$propertyKey]) {\n              out += ' if ( ' + ($useData) + ' === undefined ';\n              if ($ownProperties) {\n                out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n              }\n              out += ') { ' + ($nextValid) + ' = false; ';\n              var $currentErrorPath = it.errorPath,\n                $currErrSchemaPath = $errSchemaPath,\n                $missingProperty = it.util.escapeQuotes($propertyKey);\n              if (it.opts._errorDataPathProperty) {\n                it.errorPath = it.util.getPath($currentErrorPath, $propertyKey, it.opts.jsonPointers);\n              }\n              $errSchemaPath = it.errSchemaPath + '/required';\n              var $$outStack = $$outStack || [];\n              $$outStack.push(out);\n              out = ''; /* istanbul ignore else */\n              if (it.createErrors !== false) {\n                out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n                if (it.opts.messages !== false) {\n                  out += ' , message: \\'';\n                  if (it.opts._errorDataPathProperty) {\n                    out += 'is a required property';\n                  } else {\n                    out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n                  }\n                  out += '\\' ';\n                }\n                if (it.opts.verbose) {\n                  out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n                }\n                out += ' } ';\n              } else {\n                out += ' {} ';\n              }\n              var __err = out;\n              out = $$outStack.pop();\n              if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n                if (it.async) {\n                  out += ' throw new ValidationError([' + (__err) + ']); ';\n                } else {\n                  out += ' validate.errors = [' + (__err) + ']; return false; ';\n                }\n              } else {\n                out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n              }\n              $errSchemaPath = $currErrSchemaPath;\n              it.errorPath = $currentErrorPath;\n              out += ' } else { ';\n            } else {\n              if ($breakOnError) {\n                out += ' if ( ' + ($useData) + ' === undefined ';\n                if ($ownProperties) {\n                  out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n                }\n                out += ') { ' + ($nextValid) + ' = true; } else { ';\n              } else {\n                out += ' if (' + ($useData) + ' !== undefined ';\n                if ($ownProperties) {\n                  out += ' &&   Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n                }\n                out += ' ) { ';\n              }\n            }\n            out += ' ' + ($code) + ' } ';\n          }\n        }\n        if ($breakOnError) {\n          out += ' if (' + ($nextValid) + ') { ';\n          $closingBraces += '}';\n        }\n      }\n    }\n  }\n  if ($pPropertyKeys.length) {\n    var arr5 = $pPropertyKeys;\n    if (arr5) {\n      var $pProperty, i5 = -1,\n        l5 = arr5.length - 1;\n      while (i5 < l5) {\n        $pProperty = arr5[i5 += 1];\n        var $sch = $pProperties[$pProperty];\n        if (it.util.schemaHasRules($sch, it.RULES.all)) {\n          $it.schema = $sch;\n          $it.schemaPath = it.schemaPath + '.patternProperties' + it.util.getProperty($pProperty);\n          $it.errSchemaPath = it.errSchemaPath + '/patternProperties/' + it.util.escapeFragment($pProperty);\n          if ($ownProperties) {\n            out += ' ' + ($dataProperties) + ' = ' + ($dataProperties) + ' || Object.keys(' + ($data) + '); for (var ' + ($idx) + '=0; ' + ($idx) + '<' + ($dataProperties) + '.length; ' + ($idx) + '++) { var ' + ($key) + ' = ' + ($dataProperties) + '[' + ($idx) + ']; ';\n          } else {\n            out += ' for (var ' + ($key) + ' in ' + ($data) + ') { ';\n          }\n          out += ' if (' + (it.usePattern($pProperty)) + '.test(' + ($key) + ')) { ';\n          $it.errorPath = it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n          var $passData = $data + '[' + $key + ']';\n          $it.dataPathArr[$dataNxt] = $key;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n          } else {\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n          }\n          if ($breakOnError) {\n            out += ' if (!' + ($nextValid) + ') break; ';\n          }\n          out += ' } ';\n          if ($breakOnError) {\n            out += ' else ' + ($nextValid) + ' = true; ';\n          }\n          out += ' }  ';\n          if ($breakOnError) {\n            out += ' if (' + ($nextValid) + ') { ';\n            $closingBraces += '}';\n          }\n        }\n      }\n    }\n  }\n  if (it.opts.patternGroups && $pgPropertyKeys.length) {\n    var arr6 = $pgPropertyKeys;\n    if (arr6) {\n      var $pgProperty, i6 = -1,\n        l6 = arr6.length - 1;\n      while (i6 < l6) {\n        $pgProperty = arr6[i6 += 1];\n        var $pgSchema = $pgProperties[$pgProperty],\n          $sch = $pgSchema.schema;\n        if (it.util.schemaHasRules($sch, it.RULES.all)) {\n          $it.schema = $sch;\n          $it.schemaPath = it.schemaPath + '.patternGroups' + it.util.getProperty($pgProperty) + '.schema';\n          $it.errSchemaPath = it.errSchemaPath + '/patternGroups/' + it.util.escapeFragment($pgProperty) + '/schema';\n          out += ' var pgPropCount' + ($lvl) + ' = 0;  ';\n          if ($ownProperties) {\n            out += ' ' + ($dataProperties) + ' = ' + ($dataProperties) + ' || Object.keys(' + ($data) + '); for (var ' + ($idx) + '=0; ' + ($idx) + '<' + ($dataProperties) + '.length; ' + ($idx) + '++) { var ' + ($key) + ' = ' + ($dataProperties) + '[' + ($idx) + ']; ';\n          } else {\n            out += ' for (var ' + ($key) + ' in ' + ($data) + ') { ';\n          }\n          out += ' if (' + (it.usePattern($pgProperty)) + '.test(' + ($key) + ')) { pgPropCount' + ($lvl) + '++; ';\n          $it.errorPath = it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n          var $passData = $data + '[' + $key + ']';\n          $it.dataPathArr[$dataNxt] = $key;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n          } else {\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n          }\n          if ($breakOnError) {\n            out += ' if (!' + ($nextValid) + ') break; ';\n          }\n          out += ' } ';\n          if ($breakOnError) {\n            out += ' else ' + ($nextValid) + ' = true; ';\n          }\n          out += ' }  ';\n          if ($breakOnError) {\n            out += ' if (' + ($nextValid) + ') { ';\n            $closingBraces += '}';\n          }\n          var $pgMin = $pgSchema.minimum,\n            $pgMax = $pgSchema.maximum;\n          if ($pgMin !== undefined || $pgMax !== undefined) {\n            out += ' var ' + ($valid) + ' = true; ';\n            var $currErrSchemaPath = $errSchemaPath;\n            if ($pgMin !== undefined) {\n              var $limit = $pgMin,\n                $reason = 'minimum',\n                $moreOrLess = 'less';\n              out += ' ' + ($valid) + ' = pgPropCount' + ($lvl) + ' >= ' + ($pgMin) + '; ';\n              $errSchemaPath = it.errSchemaPath + '/patternGroups/minimum';\n              out += '  if (!' + ($valid) + ') {   ';\n              var $$outStack = $$outStack || [];\n              $$outStack.push(out);\n              out = ''; /* istanbul ignore else */\n              if (it.createErrors !== false) {\n                out += ' { keyword: \\'' + ('patternGroups') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { reason: \\'' + ($reason) + '\\', limit: ' + ($limit) + ', pattern: \\'' + (it.util.escapeQuotes($pgProperty)) + '\\' } ';\n                if (it.opts.messages !== false) {\n                  out += ' , message: \\'should NOT have ' + ($moreOrLess) + ' than ' + ($limit) + ' properties matching pattern \"' + (it.util.escapeQuotes($pgProperty)) + '\"\\' ';\n                }\n                if (it.opts.verbose) {\n                  out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n                }\n                out += ' } ';\n              } else {\n                out += ' {} ';\n              }\n              var __err = out;\n              out = $$outStack.pop();\n              if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n                if (it.async) {\n                  out += ' throw new ValidationError([' + (__err) + ']); ';\n                } else {\n                  out += ' validate.errors = [' + (__err) + ']; return false; ';\n                }\n              } else {\n                out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n              }\n              out += ' } ';\n              if ($pgMax !== undefined) {\n                out += ' else ';\n              }\n            }\n            if ($pgMax !== undefined) {\n              var $limit = $pgMax,\n                $reason = 'maximum',\n                $moreOrLess = 'more';\n              out += ' ' + ($valid) + ' = pgPropCount' + ($lvl) + ' <= ' + ($pgMax) + '; ';\n              $errSchemaPath = it.errSchemaPath + '/patternGroups/maximum';\n              out += '  if (!' + ($valid) + ') {   ';\n              var $$outStack = $$outStack || [];\n              $$outStack.push(out);\n              out = ''; /* istanbul ignore else */\n              if (it.createErrors !== false) {\n                out += ' { keyword: \\'' + ('patternGroups') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { reason: \\'' + ($reason) + '\\', limit: ' + ($limit) + ', pattern: \\'' + (it.util.escapeQuotes($pgProperty)) + '\\' } ';\n                if (it.opts.messages !== false) {\n                  out += ' , message: \\'should NOT have ' + ($moreOrLess) + ' than ' + ($limit) + ' properties matching pattern \"' + (it.util.escapeQuotes($pgProperty)) + '\"\\' ';\n                }\n                if (it.opts.verbose) {\n                  out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n                }\n                out += ' } ';\n              } else {\n                out += ' {} ';\n              }\n              var __err = out;\n              out = $$outStack.pop();\n              if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n                if (it.async) {\n                  out += ' throw new ValidationError([' + (__err) + ']); ';\n                } else {\n                  out += ' validate.errors = [' + (__err) + ']; return false; ';\n                }\n              } else {\n                out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n              }\n              out += ' } ';\n            }\n            $errSchemaPath = $currErrSchemaPath;\n            if ($breakOnError) {\n              out += ' if (' + ($valid) + ') { ';\n              $closingBraces += '}';\n            }\n          }\n        }\n      }\n    }\n  }\n  if ($breakOnError) {\n    out += ' ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';\n  }\n  out = it.util.cleanUpCode(out);\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_propertyNames(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  if (it.util.schemaHasRules($schema, it.RULES.all)) {\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    var $key = 'key' + $lvl,\n      $idx = 'idx' + $lvl,\n      $i = 'i' + $lvl,\n      $invalidName = '\\' + ' + $key + ' + \\'',\n      $dataNxt = $it.dataLevel = it.dataLevel + 1,\n      $nextData = 'data' + $dataNxt,\n      $dataProperties = 'dataProperties' + $lvl,\n      $ownProperties = it.opts.ownProperties,\n      $currentBaseId = it.baseId;\n    out += ' var ' + ($errs) + ' = errors; ';\n    if ($ownProperties) {\n      out += ' var ' + ($dataProperties) + ' = undefined; ';\n    }\n    if ($ownProperties) {\n      out += ' ' + ($dataProperties) + ' = ' + ($dataProperties) + ' || Object.keys(' + ($data) + '); for (var ' + ($idx) + '=0; ' + ($idx) + '<' + ($dataProperties) + '.length; ' + ($idx) + '++) { var ' + ($key) + ' = ' + ($dataProperties) + '[' + ($idx) + ']; ';\n    } else {\n      out += ' for (var ' + ($key) + ' in ' + ($data) + ') { ';\n    }\n    out += ' var startErrs' + ($lvl) + ' = errors; ';\n    var $passData = $key;\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    var $code = it.validate($it);\n    $it.baseId = $currentBaseId;\n    if (it.util.varOccurences($code, $nextData) < 2) {\n      out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n    } else {\n      out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n    }\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' if (!' + ($nextValid) + ') { for (var ' + ($i) + '=startErrs' + ($lvl) + '; ' + ($i) + '<errors; ' + ($i) + '++) { vErrors[' + ($i) + '].propertyName = ' + ($key) + '; }   var err =   '; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('propertyNames') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { propertyName: \\'' + ($invalidName) + '\\' } ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'property name \\\\\\'' + ($invalidName) + '\\\\\\' is invalid\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError(vErrors); ';\n      } else {\n        out += ' validate.errors = vErrors; return false; ';\n      }\n    }\n    if ($breakOnError) {\n      out += ' break; ';\n    }\n    out += ' } }';\n  }\n  if ($breakOnError) {\n    out += ' ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';\n  }\n  out = it.util.cleanUpCode(out);\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_required(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $vSchema = 'schema' + $lvl;\n  if (!$isData) {\n    if ($schema.length < it.opts.loopRequired && it.schema.properties && Object.keys(it.schema.properties).length) {\n      var $required = [];\n      var arr1 = $schema;\n      if (arr1) {\n        var $property, i1 = -1,\n          l1 = arr1.length - 1;\n        while (i1 < l1) {\n          $property = arr1[i1 += 1];\n          var $propertySch = it.schema.properties[$property];\n          if (!($propertySch && it.util.schemaHasRules($propertySch, it.RULES.all))) {\n            $required[$required.length] = $property;\n          }\n        }\n      }\n    } else {\n      var $required = $schema;\n    }\n  }\n  if ($isData || $required.length) {\n    var $currentErrorPath = it.errorPath,\n      $loopRequired = $isData || $required.length >= it.opts.loopRequired,\n      $ownProperties = it.opts.ownProperties;\n    if ($breakOnError) {\n      out += ' var missing' + ($lvl) + '; ';\n      if ($loopRequired) {\n        if (!$isData) {\n          out += ' var ' + ($vSchema) + ' = validate.schema' + ($schemaPath) + '; ';\n        }\n        var $i = 'i' + $lvl,\n          $propertyPath = 'schema' + $lvl + '[' + $i + ']',\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n        if (it.opts._errorDataPathProperty) {\n          it.errorPath = it.util.getPathExpr($currentErrorPath, $propertyPath, it.opts.jsonPointers);\n        }\n        out += ' var ' + ($valid) + ' = true; ';\n        if ($isData) {\n          out += ' if (schema' + ($lvl) + ' === undefined) ' + ($valid) + ' = true; else if (!Array.isArray(schema' + ($lvl) + ')) ' + ($valid) + ' = false; else {';\n        }\n        out += ' for (var ' + ($i) + ' = 0; ' + ($i) + ' < ' + ($vSchema) + '.length; ' + ($i) + '++) { ' + ($valid) + ' = ' + ($data) + '[' + ($vSchema) + '[' + ($i) + ']] !== undefined ';\n        if ($ownProperties) {\n          out += ' &&   Object.prototype.hasOwnProperty.call(' + ($data) + ', ' + ($vSchema) + '[' + ($i) + ']) ';\n        }\n        out += '; if (!' + ($valid) + ') break; } ';\n        if ($isData) {\n          out += '  }  ';\n        }\n        out += '  if (!' + ($valid) + ') {   ';\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'';\n            if (it.opts._errorDataPathProperty) {\n              out += 'is a required property';\n            } else {\n              out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n        out += ' } else { ';\n      } else {\n        out += ' if ( ';\n        var arr2 = $required;\n        if (arr2) {\n          var $propertyKey, $i = -1,\n            l2 = arr2.length - 1;\n          while ($i < l2) {\n            $propertyKey = arr2[$i += 1];\n            if ($i) {\n              out += ' || ';\n            }\n            var $prop = it.util.getProperty($propertyKey),\n              $useData = $data + $prop;\n            out += ' ( ( ' + ($useData) + ' === undefined ';\n            if ($ownProperties) {\n              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n            }\n            out += ') && (missing' + ($lvl) + ' = ' + (it.util.toQuotedString(it.opts.jsonPointers ? $propertyKey : $prop)) + ') ) ';\n          }\n        }\n        out += ') {  ';\n        var $propertyPath = 'missing' + $lvl,\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n        if (it.opts._errorDataPathProperty) {\n          it.errorPath = it.opts.jsonPointers ? it.util.getPathExpr($currentErrorPath, $propertyPath, true) : $currentErrorPath + ' + ' + $propertyPath;\n        }\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'';\n            if (it.opts._errorDataPathProperty) {\n              out += 'is a required property';\n            } else {\n              out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n        out += ' } else { ';\n      }\n    } else {\n      if ($loopRequired) {\n        if (!$isData) {\n          out += ' var ' + ($vSchema) + ' = validate.schema' + ($schemaPath) + '; ';\n        }\n        var $i = 'i' + $lvl,\n          $propertyPath = 'schema' + $lvl + '[' + $i + ']',\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n        if (it.opts._errorDataPathProperty) {\n          it.errorPath = it.util.getPathExpr($currentErrorPath, $propertyPath, it.opts.jsonPointers);\n        }\n        if ($isData) {\n          out += ' if (' + ($vSchema) + ' && !Array.isArray(' + ($vSchema) + ')) {  var err =   '; /* istanbul ignore else */\n          if (it.createErrors !== false) {\n            out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n            if (it.opts.messages !== false) {\n              out += ' , message: \\'';\n              if (it.opts._errorDataPathProperty) {\n                out += 'is a required property';\n              } else {\n                out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n              }\n              out += '\\' ';\n            }\n            if (it.opts.verbose) {\n              out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n            }\n            out += ' } ';\n          } else {\n            out += ' {} ';\n          }\n          out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if (' + ($vSchema) + ' !== undefined) { ';\n        }\n        out += ' for (var ' + ($i) + ' = 0; ' + ($i) + ' < ' + ($vSchema) + '.length; ' + ($i) + '++) { if (' + ($data) + '[' + ($vSchema) + '[' + ($i) + ']] === undefined ';\n        if ($ownProperties) {\n          out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', ' + ($vSchema) + '[' + ($i) + ']) ';\n        }\n        out += ') {  var err =   '; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'';\n            if (it.opts._errorDataPathProperty) {\n              out += 'is a required property';\n            } else {\n              out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ';\n        if ($isData) {\n          out += '  }  ';\n        }\n      } else {\n        var arr3 = $required;\n        if (arr3) {\n          var $propertyKey, i3 = -1,\n            l3 = arr3.length - 1;\n          while (i3 < l3) {\n            $propertyKey = arr3[i3 += 1];\n            var $prop = it.util.getProperty($propertyKey),\n              $missingProperty = it.util.escapeQuotes($propertyKey),\n              $useData = $data + $prop;\n            if (it.opts._errorDataPathProperty) {\n              it.errorPath = it.util.getPath($currentErrorPath, $propertyKey, it.opts.jsonPointers);\n            }\n            out += ' if ( ' + ($useData) + ' === undefined ';\n            if ($ownProperties) {\n              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n            }\n            out += ') {  var err =   '; /* istanbul ignore else */\n            if (it.createErrors !== false) {\n              out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n              if (it.opts.messages !== false) {\n                out += ' , message: \\'';\n                if (it.opts._errorDataPathProperty) {\n                  out += 'is a required property';\n                } else {\n                  out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n                }\n                out += '\\' ';\n              }\n              if (it.opts.verbose) {\n                out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n              }\n              out += ' } ';\n            } else {\n              out += ' {} ';\n            }\n            out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } ';\n          }\n        }\n      }\n    }\n    it.errorPath = $currentErrorPath;\n  } else if ($breakOnError) {\n    out += ' if (true) {';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_uniqueItems(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  if (($schema || $isData) && it.opts.uniqueItems !== false) {\n    if ($isData) {\n      out += ' var ' + ($valid) + '; if (' + ($schemaValue) + ' === false || ' + ($schemaValue) + ' === undefined) ' + ($valid) + ' = true; else if (typeof ' + ($schemaValue) + ' != \\'boolean\\') ' + ($valid) + ' = false; else { ';\n    }\n    out += ' var ' + ($valid) + ' = true; if (' + ($data) + '.length > 1) { var i = ' + ($data) + '.length, j; outer: for (;i--;) { for (j = i; j--;) { if (equal(' + ($data) + '[i], ' + ($data) + '[j])) { ' + ($valid) + ' = false; break outer; } } } } ';\n    if ($isData) {\n      out += '  }  ';\n    }\n    out += ' if (!' + ($valid) + ') {   ';\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = ''; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('uniqueItems') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { i: i, j: j } ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should NOT have duplicate items (items ## \\' + j + \\' and \\' + i + \\' are identical)\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema:  ';\n        if ($isData) {\n          out += 'validate.schema' + ($schemaPath);\n        } else {\n          out += '' + ($schema);\n        }\n        out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    var __err = out;\n    out = $$outStack.pop();\n    if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError([' + (__err) + ']); ';\n      } else {\n        out += ' validate.errors = [' + (__err) + ']; return false; ';\n      }\n    } else {\n      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    }\n    out += ' } ';\n    if ($breakOnError) {\n      out += ' else { ';\n    }\n  } else {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n  }\n  return out;\n}\n","'use strict';\n\nvar ruleModules = require('./_rules')\n  , toHash = require('./util').toHash;\n\nmodule.exports = function rules() {\n  var RULES = [\n    { type: 'number',\n      rules: [ { 'maximum': ['exclusiveMaximum'] },\n               { 'minimum': ['exclusiveMinimum'] }, 'multipleOf', 'format'] },\n    { type: 'string',\n      rules: [ 'maxLength', 'minLength', 'pattern', 'format' ] },\n    { type: 'array',\n      rules: [ 'maxItems', 'minItems', 'uniqueItems', 'contains', 'items' ] },\n    { type: 'object',\n      rules: [ 'maxProperties', 'minProperties', 'required', 'dependencies', 'propertyNames',\n               { 'properties': ['additionalProperties', 'patternProperties'] } ] },\n    { rules: [ '$ref', 'const', 'enum', 'not', 'anyOf', 'oneOf', 'allOf' ] }\n  ];\n\n  var ALL = [ 'type' ];\n  var KEYWORDS = [\n    'additionalItems', '$schema', 'id', 'title',\n    'description', 'default', 'definitions'\n  ];\n  var TYPES = [ 'number', 'integer', 'string', 'array', 'object', 'boolean', 'null' ];\n  RULES.all = toHash(ALL);\n\n  RULES.forEach(function (group) {\n    group.rules = group.rules.map(function (keyword) {\n      var implKeywords;\n      if (typeof keyword == 'object') {\n        var key = Object.keys(keyword)[0];\n        implKeywords = keyword[key];\n        keyword = key;\n        implKeywords.forEach(function (k) {\n          ALL.push(k);\n          RULES.all[k] = true;\n        });\n      }\n      ALL.push(keyword);\n      var rule = RULES.all[keyword] = {\n        keyword: keyword,\n        code: ruleModules[keyword],\n        implements: implKeywords\n      };\n      return rule;\n    });\n  });\n\n  RULES.keywords = toHash(ALL.concat(KEYWORDS));\n  RULES.types = toHash(TYPES);\n  RULES.custom = {};\n\n  return RULES;\n};\n","'use strict';\n\nvar KEYWORDS = [\n  'multipleOf',\n  'maximum',\n  'exclusiveMaximum',\n  'minimum',\n  'exclusiveMinimum',\n  'maxLength',\n  'minLength',\n  'pattern',\n  'additionalItems',\n  'maxItems',\n  'minItems',\n  'uniqueItems',\n  'maxProperties',\n  'minProperties',\n  'required',\n  'additionalProperties',\n  'enum',\n  'format',\n  'const'\n];\n\nmodule.exports = function (metaSchema, keywordsJsonPointers) {\n  for (var i=0; i<keywordsJsonPointers.length; i++) {\n    metaSchema = JSON.parse(JSON.stringify(metaSchema));\n    var segments = keywordsJsonPointers[i].split('/');\n    var keywords = metaSchema;\n    var j;\n    for (j=1; j<segments.length; j++)\n      keywords = keywords[segments[j]];\n\n    for (j=0; j<KEYWORDS.length; j++) {\n      var key = KEYWORDS[j];\n      var schema = keywords[key];\n      if (schema) {\n        keywords[key] = {\n          anyOf: [\n            schema,\n            { $ref: 'https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/$data.json#' }\n          ]\n        };\n      }\n    }\n  }\n\n  return metaSchema;\n};\n","'use strict';\n\nvar META_SCHEMA_ID = 'http://json-schema.org/draft-06/schema';\n\nmodule.exports = function (ajv) {\n  var defaultMeta = ajv._opts.defaultMeta;\n  var metaSchemaRef = typeof defaultMeta == 'string'\n                      ? { $ref: defaultMeta }\n                      : ajv.getSchema(META_SCHEMA_ID)\n                        ? { $ref: META_SCHEMA_ID }\n                        : {};\n\n  ajv.addKeyword('patternGroups', {\n    // implemented in properties.jst\n    metaSchema: {\n      type: 'object',\n      additionalProperties: {\n        type: 'object',\n        required: [ 'schema' ],\n        properties: {\n          maximum: {\n            type: 'integer',\n            minimum: 0\n          },\n          minimum: {\n            type: 'integer',\n            minimum: 0\n          },\n          schema: metaSchemaRef\n        },\n        additionalProperties: false\n      }\n    }\n  });\n  ajv.RULES.all.properties.implements.push('patternGroups');\n};\n","'use strict';\nmodule.exports = function generate_custom(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $rule = this,\n    $definition = 'definition' + $lvl,\n    $rDef = $rule.definition,\n    $closingBraces = '';\n  var $compile, $inline, $macro, $ruleValidate, $validateCode;\n  if ($isData && $rDef.$data) {\n    $validateCode = 'keywordValidate' + $lvl;\n    var $validateSchema = $rDef.validateSchema;\n    out += ' var ' + ($definition) + ' = RULES.custom[\\'' + ($keyword) + '\\'].definition; var ' + ($validateCode) + ' = ' + ($definition) + '.validate;';\n  } else {\n    $ruleValidate = it.useCustomRule($rule, $schema, it.schema, it);\n    if (!$ruleValidate) return;\n    $schemaValue = 'validate.schema' + $schemaPath;\n    $validateCode = $ruleValidate.code;\n    $compile = $rDef.compile;\n    $inline = $rDef.inline;\n    $macro = $rDef.macro;\n  }\n  var $ruleErrs = $validateCode + '.errors',\n    $i = 'i' + $lvl,\n    $ruleErr = 'ruleErr' + $lvl,\n    $asyncKeyword = $rDef.async;\n  if ($asyncKeyword && !it.async) throw new Error('async keyword in sync schema');\n  if (!($inline || $macro)) {\n    out += '' + ($ruleErrs) + ' = null;';\n  }\n  out += 'var ' + ($errs) + ' = errors;var ' + ($valid) + ';';\n  if ($isData && $rDef.$data) {\n    $closingBraces += '}';\n    out += ' if (' + ($schemaValue) + ' === undefined) { ' + ($valid) + ' = true; } else { ';\n    if ($validateSchema) {\n      $closingBraces += '}';\n      out += ' ' + ($valid) + ' = ' + ($definition) + '.validateSchema(' + ($schemaValue) + '); if (' + ($valid) + ') { ';\n    }\n  }\n  if ($inline) {\n    if ($rDef.statements) {\n      out += ' ' + ($ruleValidate.validate) + ' ';\n    } else {\n      out += ' ' + ($valid) + ' = ' + ($ruleValidate.validate) + '; ';\n    }\n  } else if ($macro) {\n    var $it = it.util.copy(it);\n    var $closingBraces = '';\n    $it.level++;\n    var $nextValid = 'valid' + $it.level;\n    $it.schema = $ruleValidate.validate;\n    $it.schemaPath = '';\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    var $code = it.validate($it).replace(/validate\\.schema/g, $validateCode);\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' ' + ($code);\n  } else {\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = '';\n    out += '  ' + ($validateCode) + '.call( ';\n    if (it.opts.passContext) {\n      out += 'this';\n    } else {\n      out += 'self';\n    }\n    if ($compile || $rDef.schema === false) {\n      out += ' , ' + ($data) + ' ';\n    } else {\n      out += ' , ' + ($schemaValue) + ' , ' + ($data) + ' , validate.schema' + (it.schemaPath) + ' ';\n    }\n    out += ' , (dataPath || \\'\\')';\n    if (it.errorPath != '\"\"') {\n      out += ' + ' + (it.errorPath);\n    }\n    var $parentData = $dataLvl ? 'data' + (($dataLvl - 1) || '') : 'parentData',\n      $parentDataProperty = $dataLvl ? it.dataPathArr[$dataLvl] : 'parentDataProperty';\n    out += ' , ' + ($parentData) + ' , ' + ($parentDataProperty) + ' , rootData )  ';\n    var def_callRuleValidate = out;\n    out = $$outStack.pop();\n    if ($rDef.errors === false) {\n      out += ' ' + ($valid) + ' = ';\n      if ($asyncKeyword) {\n        out += '' + (it.yieldAwait);\n      }\n      out += '' + (def_callRuleValidate) + '; ';\n    } else {\n      if ($asyncKeyword) {\n        $ruleErrs = 'customErrors' + $lvl;\n        out += ' var ' + ($ruleErrs) + ' = null; try { ' + ($valid) + ' = ' + (it.yieldAwait) + (def_callRuleValidate) + '; } catch (e) { ' + ($valid) + ' = false; if (e instanceof ValidationError) ' + ($ruleErrs) + ' = e.errors; else throw e; } ';\n      } else {\n        out += ' ' + ($ruleErrs) + ' = null; ' + ($valid) + ' = ' + (def_callRuleValidate) + '; ';\n      }\n    }\n  }\n  if ($rDef.modifying) {\n    out += ' if (' + ($parentData) + ') ' + ($data) + ' = ' + ($parentData) + '[' + ($parentDataProperty) + '];';\n  }\n  out += '' + ($closingBraces);\n  if ($rDef.valid) {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n  } else {\n    out += ' if ( ';\n    if ($rDef.valid === undefined) {\n      out += ' !';\n      if ($macro) {\n        out += '' + ($nextValid);\n      } else {\n        out += '' + ($valid);\n      }\n    } else {\n      out += ' ' + (!$rDef.valid) + ' ';\n    }\n    out += ') { ';\n    $errorKeyword = $rule.keyword;\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = '';\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = ''; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ($errorKeyword || 'custom') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { keyword: \\'' + ($rule.keyword) + '\\' } ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should pass \"' + ($rule.keyword) + '\" keyword validation\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    var __err = out;\n    out = $$outStack.pop();\n    if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError([' + (__err) + ']); ';\n      } else {\n        out += ' validate.errors = [' + (__err) + ']; return false; ';\n      }\n    } else {\n      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    }\n    var def_customError = out;\n    out = $$outStack.pop();\n    if ($inline) {\n      if ($rDef.errors) {\n        if ($rDef.errors != 'full') {\n          out += '  for (var ' + ($i) + '=' + ($errs) + '; ' + ($i) + '<errors; ' + ($i) + '++) { var ' + ($ruleErr) + ' = vErrors[' + ($i) + ']; if (' + ($ruleErr) + '.dataPath === undefined) ' + ($ruleErr) + '.dataPath = (dataPath || \\'\\') + ' + (it.errorPath) + '; if (' + ($ruleErr) + '.schemaPath === undefined) { ' + ($ruleErr) + '.schemaPath = \"' + ($errSchemaPath) + '\"; } ';\n          if (it.opts.verbose) {\n            out += ' ' + ($ruleErr) + '.schema = ' + ($schemaValue) + '; ' + ($ruleErr) + '.data = ' + ($data) + '; ';\n          }\n          out += ' } ';\n        }\n      } else {\n        if ($rDef.errors === false) {\n          out += ' ' + (def_customError) + ' ';\n        } else {\n          out += ' if (' + ($errs) + ' == errors) { ' + (def_customError) + ' } else {  for (var ' + ($i) + '=' + ($errs) + '; ' + ($i) + '<errors; ' + ($i) + '++) { var ' + ($ruleErr) + ' = vErrors[' + ($i) + ']; if (' + ($ruleErr) + '.dataPath === undefined) ' + ($ruleErr) + '.dataPath = (dataPath || \\'\\') + ' + (it.errorPath) + '; if (' + ($ruleErr) + '.schemaPath === undefined) { ' + ($ruleErr) + '.schemaPath = \"' + ($errSchemaPath) + '\"; } ';\n          if (it.opts.verbose) {\n            out += ' ' + ($ruleErr) + '.schema = ' + ($schemaValue) + '; ' + ($ruleErr) + '.data = ' + ($data) + '; ';\n          }\n          out += ' } } ';\n        }\n      }\n    } else if ($macro) {\n      out += '   var err =   '; /* istanbul ignore else */\n      if (it.createErrors !== false) {\n        out += ' { keyword: \\'' + ($errorKeyword || 'custom') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { keyword: \\'' + ($rule.keyword) + '\\' } ';\n        if (it.opts.messages !== false) {\n          out += ' , message: \\'should pass \"' + ($rule.keyword) + '\" keyword validation\\' ';\n        }\n        if (it.opts.verbose) {\n          out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n        }\n        out += ' } ';\n      } else {\n        out += ' {} ';\n      }\n      out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n      if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n        if (it.async) {\n          out += ' throw new ValidationError(vErrors); ';\n        } else {\n          out += ' validate.errors = vErrors; return false; ';\n        }\n      }\n    } else {\n      if ($rDef.errors === false) {\n        out += ' ' + (def_customError) + ' ';\n      } else {\n        out += ' if (Array.isArray(' + ($ruleErrs) + ')) { if (vErrors === null) vErrors = ' + ($ruleErrs) + '; else vErrors = vErrors.concat(' + ($ruleErrs) + '); errors = vErrors.length;  for (var ' + ($i) + '=' + ($errs) + '; ' + ($i) + '<errors; ' + ($i) + '++) { var ' + ($ruleErr) + ' = vErrors[' + ($i) + ']; if (' + ($ruleErr) + '.dataPath === undefined) ' + ($ruleErr) + '.dataPath = (dataPath || \\'\\') + ' + (it.errorPath) + ';  ' + ($ruleErr) + '.schemaPath = \"' + ($errSchemaPath) + '\";  ';\n        if (it.opts.verbose) {\n          out += ' ' + ($ruleErr) + '.schema = ' + ($schemaValue) + '; ' + ($ruleErr) + '.data = ' + ($data) + '; ';\n        }\n        out += ' } } else { ' + (def_customError) + ' } ';\n      }\n    }\n    out += ' } ';\n    if ($breakOnError) {\n      out += ' else { ';\n    }\n  }\n  return out;\n}\n","'use strict'\n\nconst schemaId = '/shared/filter'\n\nconst valPrimitive = {\n  oneOf: [\n    { type: 'string' },\n    { type: 'number' },\n    { type: 'boolean' },\n  ],\n}\n\nconst valPrimitiveFilter = {\n  $ref: schemaId,\n}\n\nmodule.exports = {\n  id: schemaId,\n  title: 'Filter',\n  type: 'object',\n  properties: {\n    not: valPrimitiveFilter,\n    and: {\n      type: 'array',\n      items: valPrimitiveFilter,\n      minItems: 1,\n    },\n    or: {\n      type: 'array',\n      items: valPrimitiveFilter,\n      minItems: 1,\n    },\n  },\n  additionalProperties: {\n    oneOf: [\n      { type: 'string' },\n      { type: 'number' },\n      { type: 'boolean' },\n      { type: 'null' },\n      {\n        type: 'object',\n        properties: {\n          gt: valPrimitive,\n          lt: valPrimitive,\n          gte: valPrimitive,\n          lte: valPrimitive,\n          cnt: { type: 'string' },\n          pref: { type: 'string' },\n          suf: { type: 'string' },\n          'arr-cnt': valPrimitive,\n        },\n        maxProperties: 1,\n        minProperties: 1,\n        additionalProperties: false,\n      },\n    ],\n  },\n  maxProperties: 1,\n  minProperties: 1,\n}\n","'use strict'\n\nmodule.exports = {\n  id: '/shared/order',\n  title: 'Order',\n  type: 'array',\n  items: {\n    type: 'object',\n    additionalProperties: {\n      type: 'string',\n      enum: ['asc', 'desc'],\n    },\n  },\n}\n","'use strict'\n\nmodule.exports = {\n  id: '/shared/limit',\n  title: 'Limit',\n  type: 'integer',\n  minimum: 1,\n  maximum: 500,\n}\n","'use strict'\n\nmodule.exports = {\n  id: '/shared/skip',\n  title: 'Skip',\n  type: 'integer',\n  minimum: 0,\n}\n","'use strict'\n\nconst filter = require('../shared/filter')\nconst order = require('../shared/order')\nconst limit = require('../shared/limit')\nconst skip = require('../shared/skip')\n\nconst schemaId = '/schema/query'\n\nmodule.exports = {\n  id: schemaId,\n  title: 'Query',\n  type: 'object',\n  properties: {\n    filter: { $ref: filter.id },\n    order: { $ref: order.id },\n    limit: { $ref: limit.id },\n    skip: { $ref: skip.id },\n  },\n  additionalProperties: false,\n}\n","'use strict'\n\nmodule.exports = {\n  id: '/schema/ack',\n  title: 'Acknowledge',\n  type: 'object',\n  properties: {\n    ack: {\n      type: 'object',\n      properties: {\n        'evt-id': {\n          type: 'string',\n          pattern: '^[a-zA-Z0-9-_]+$',\n        },\n      },\n      required: ['evt-id'],\n      additionalProperties: false,\n    },\n  },\n  required: ['ack'],\n  additionalProperties: false,\n}\n","'use strict'\n\nmodule.exports = {\n  id: '/schema/err',\n  title: 'Error',\n  type: 'object',\n  properties: {\n    err: {\n      type: 'object',\n      properties: {\n        'evt-id': {\n          type: 'string',\n          pattern: '^[a-zA-Z0-9-_]+$',\n        },\n        'err-type': {\n          type: 'string',\n          enum: [\n            'client-error',\n            'internal-error',\n            'connection-terminated',\n            'permission-denied',\n            'invalid-auth-token',\n            'etag-conflict',\n          ],\n        },\n        'err-msg': { type: 'string' },\n      },\n      required: ['evt-id', 'err-type', 'err-msg'],\n      additionalProperties: false,\n    },\n  },\n  required: ['err'],\n  additionalProperties: false,\n}\n","'use strict'\n\nmodule.exports = {\n  id: '/schema/nop',\n  title: 'Acknowledge',\n  type: 'object',\n  properties: {\n    nop: { type: 'null' },\n  },\n  required: ['nop'],\n  additionalProperties: false,\n}\n","'use strict'\n\nmodule.exports = {\n  id: '/schema/con',\n  title: 'Connection',\n  type: 'object',\n  properties: {\n    con: {\n      type: 'object',\n      properties: {\n        'evt-id': {\n          type: 'string',\n          pattern: '^[a-zA-Z0-9-_]+$',\n        },\n        'con-id': {\n          type: 'string',\n          pattern: '^[a-zA-Z0-9-_]+$',\n        },\n      },\n      required: ['evt-id', 'con-id'],\n      additionalProperties: false,\n    },\n  },\n  required: ['con'],\n  additionalProperties: false,\n}\n","'use strict'\n\nmodule.exports = {\n  id: '/schema/rec',\n  title: 'Reconnection',\n  type: 'object',\n  properties: {\n    rec: {\n      type: 'object',\n      properties: {\n        'evt-id': {\n          type: 'string',\n          pattern: '^[a-zA-Z0-9-_]+$',\n        },\n        'con-id': {\n          type: 'string',\n          pattern: '^[a-zA-Z0-9-_]+$',\n        },\n      },\n      required: ['evt-id', 'con-id'],\n      additionalProperties: false,\n    },\n  },\n  required: ['rec'],\n  additionalProperties: false,\n}\n","'use strict'\n\nmodule.exports = {\n  id: '/schema/dis',\n  title: 'Disconnect',\n  type: 'object',\n  properties: {\n    dis: { type: 'null' },\n  },\n  required: ['dis'],\n  additionalProperties: false,\n}\n","'use strict'\n\nmodule.exports = {\n  id: '/schema/auth',\n  title: 'Authorize',\n  type: 'object',\n  properties: {\n    auth: {\n      type: 'object',\n      properties: {\n        'evt-id': {\n          type: 'string',\n          pattern: '^[a-zA-Z0-9-_]+$',\n        },\n        token: { type: 'string' },\n      },\n      required: ['evt-id', 'token'],\n      additionalProperties: false,\n    },\n  },\n  required: ['auth'],\n  additionalProperties: false,\n}\n","'use strict'\n\nmodule.exports = {\n  id: '/schema/deauth',\n  title: 'Deauthorize',\n  type: 'object',\n  properties: {\n    deauth: {\n      type: 'object',\n      properties: {\n        'evt-id': {\n          type: 'string',\n          pattern: '^[a-zA-Z0-9-_]+$',\n        },\n      },\n      required: ['evt-id'],\n      additionalProperties: false,\n    },\n  },\n  required: ['deauth'],\n  additionalProperties: false,\n}\n","'use strict'\n\nmodule.exports = {\n  id: '/schema/mut',\n  title: 'Mutate',\n  type: 'object',\n  properties: {\n    mut: {\n      type: 'object',\n      properties: {\n        'evt-id': {\n          type: 'string',\n          pattern: '^[a-zA-Z0-9-_]+$',\n        },\n        'col-id': {\n          type: 'string',\n          pattern: '^[a-zA-Z0-9-_]+$',\n        },\n        doc: {\n          type: 'object',\n          properties: {\n            id: {\n              type: 'string',\n              pattern: '^[a-zA-Z0-9-_]+$',\n            },\n            etag: {\n              anyOf: [\n                { type: 'null' },\n                { type: 'string' },\n              ],\n            },\n            body: { type: 'object' },\n          },\n          required: ['id', 'body'],\n          additionalProperties: false,\n        },\n      },\n      required: ['col-id', 'doc'],\n      additionalProperties: false,\n    },\n  },\n  required: ['mut'],\n  additionalProperties: false,\n}\n","'use strict'\n\nmodule.exports = {\n  id: '/schema/mer',\n  title: 'Merge',\n  type: 'object',\n  properties: {\n    mer: {\n      type: 'object',\n      properties: {\n        'evt-id': {\n          type: 'string',\n          pattern: '^[a-zA-Z0-9-_]+$',\n        },\n        'col-id': {\n          type: 'string',\n          pattern: '^[a-zA-Z0-9-_]+$',\n        },\n        doc: {\n          type: 'object',\n          properties: {\n            id: {\n              type: 'string',\n              pattern: '^[a-zA-Z0-9-_]+$',\n            },\n            etag: {\n              anyOf: [\n                { type: 'null' },\n                { type: 'string' },\n              ],\n            },\n            body: { type: 'object' },\n          },\n          required: ['id', 'body'],\n          additionalProperties: false,\n        },\n      },\n      required: ['col-id', 'doc'],\n      additionalProperties: false,\n    },\n  },\n  required: ['mer'],\n  additionalProperties: false,\n}\n","'use strict'\n\nmodule.exports = {\n  id: '/schema/del',\n  title: 'Delete',\n  type: 'object',\n  properties: {\n    del: {\n      type: 'object',\n      properties: {\n        'evt-id': {\n          type: 'string',\n          pattern: '^[a-zA-Z0-9-_]+$',\n        },\n        'col-id': {\n          type: 'string',\n          pattern: '^[a-zA-Z0-9-_]+$',\n        },\n        doc: {\n          type: 'object',\n          properties: {\n            id: {\n              type: 'string',\n              pattern: '^[a-zA-Z0-9-_]+$',\n            },\n            etag: {\n              anyOf: [\n                { type: 'null' },\n                { type: 'string' },\n              ],\n            },\n          },\n          required: ['id'],\n          additionalProperties: false,\n        },\n      },\n      required: ['col-id', 'doc'],\n      additionalProperties: false,\n    },\n  },\n  required: ['del'],\n  additionalProperties: false,\n}\n","'use strict'\n\nconst merge = require('./mer')\nconst mutate = require('./mut')\nconst remove = require('./del')\n\nmodule.exports = {\n  id: '/schema/da',\n  title: 'DisconnectAction',\n  type: 'object',\n  properties: {\n    da: {\n      type: 'object',\n      properties: {\n        'evt-id': {\n          type: 'string',\n          pattern: '^[a-zA-Z0-9-_]+$',\n        },\n        'act-id': {\n          type: 'string',\n          pattern: '^[a-zA-Z0-9-_]+$',\n        },\n        act: {\n          anyOf: [\n            { $ref: merge.id },\n            { $ref: mutate.id },\n            { $ref: remove.id },\n          ],\n        },\n      },\n      required: ['evt-id', 'act-id', 'act'],\n      additionalProperties: false,\n    },\n  },\n  required: ['da'],\n  additionalProperties: false,\n}\n","'use strict'\n\nmodule.exports = {\n  id: '/schema/da-ca',\n  title: 'CancelDisconnectAction',\n  type: 'object',\n  properties: {\n    'da-ca': {\n      type: 'object',\n      properties: {\n        'evt-id': {\n          type: 'string',\n          pattern: '^[a-zA-Z0-9-_]+$',\n        },\n        'act-id': {\n          type: 'string',\n          pattern: '^[a-zA-Z0-9-_]+$',\n        },\n      },\n      required: ['evt-id', 'act-id'],\n      additionalProperties: false,\n    },\n  },\n  required: ['da-ca'],\n  additionalProperties: false,\n}\n","'use strict'\n\nmodule.exports = {\n  id: '/schema/pub',\n  title: 'Publish',\n  type: 'object',\n  properties: {\n    pub: {\n      type: 'object',\n      properties: {\n        'evt-id': {\n          type: 'string',\n          pattern: '^[a-zA-Z0-9-_]+$',\n        },\n        'chan-id': {\n          type: 'string',\n          pattern: '^[a-zA-Z0-9-_]+$',\n        },\n        body: {\n          type: 'object',\n        },\n      },\n      required: ['evt-id', 'chan-id', 'body'],\n      additionalProperties: false,\n    },\n  },\n  required: ['pub'],\n  additionalProperties: false,\n}\n","'use strict'\n\nconst filter = require('../shared/filter')\nconst order = require('../shared/order')\nconst limit = require('../shared/limit')\nconst skip = require('../shared/skip')\n\nmodule.exports = {\n  id: '/schema/ftc',\n  title: 'Fetch',\n  type: 'object',\n  properties: {\n    ftc: {\n      type: 'object',\n      properties: {\n        'evt-id': {\n          type: 'string',\n          pattern: '^[a-zA-Z0-9-_]+$',\n        },\n        'col-id': {\n          type: 'string',\n          pattern: '^[a-zA-Z0-9-_]+$',\n        },\n        'ftc-id': {\n          type: 'string',\n          pattern: '^[a-zA-Z0-9-_]+$',\n        },\n        filter: { $ref: filter.id },\n        order: { $ref: order.id },\n        limit: { $ref: limit.id },\n        skip: { $ref: skip.id },\n      },\n      required: ['evt-id', 'col-id', 'ftc-id'],\n      additionalProperties: false,\n    },\n  },\n  required: ['ftc'],\n  additionalProperties: false,\n}\n","'use strict'\n\nconst filter = require('../shared/filter')\nconst order = require('../shared/order')\nconst limit = require('../shared/limit')\nconst skip = require('../shared/skip')\n\nmodule.exports = {\n  id: '/schema/sub',\n  title: 'Subscribe',\n  type: 'object',\n  properties: {\n    sub: {\n      type: 'object',\n      properties: {\n        'evt-id': {\n          type: 'string',\n          pattern: '^[a-zA-Z0-9-_]+$',\n        },\n        'col-id': {\n          type: 'string',\n          pattern: '^[a-zA-Z0-9-_]+$',\n        },\n        'sub-id': {\n          type: 'string',\n          pattern: '^[a-zA-Z0-9-_]+$',\n        },\n        filter: { $ref: filter.id },\n        order: { $ref: order.id },\n        limit: { $ref: limit.id },\n        skip: { $ref: skip.id },\n      },\n      required: ['evt-id', 'col-id', 'sub-id'],\n      additionalProperties: false,\n    },\n  },\n  required: ['sub'],\n  additionalProperties: false,\n}\n","'use strict'\n\nmodule.exports = {\n  id: '/schema/uns',\n  title: 'Unsubscribe',\n  type: 'object',\n  properties: {\n    uns: {\n      type: 'object',\n      properties: {\n        'evt-id': {\n          type: 'string',\n          pattern: '^[a-zA-Z0-9-_]+$',\n        },\n        'sub-id': {\n          type: 'string',\n          pattern: '^[a-zA-Z0-9-_]+$',\n        },\n      },\n      required: ['evt-id', 'sub-id'],\n      additionalProperties: false,\n    },\n  },\n  required: ['uns'],\n  additionalProperties: false,\n}\n","'use strict'\n\nmodule.exports = {\n  id: '/schema/sub-ch',\n  title: 'SubscribeChannel',\n  type: 'object',\n  properties: {\n    'sub-ch': {\n      type: 'object',\n      properties: {\n        'evt-id': {\n          type: 'string',\n          pattern: '^[a-zA-Z0-9-_]+$',\n        },\n        'chan-id': {\n          anyOf: [\n            {\n              type: 'string',\n              pattern: '^[a-zA-Z0-9-_]+$',\n            },\n            {\n              type: 'object',\n              properties: {\n                pref: {\n                  type: 'string',\n                  pattern: '^[a-zA-Z0-9-_]+$',\n                },\n              },\n              required: ['pref'],\n              additionalProperties: false,\n            },\n          ],\n        },\n        'sub-id': {\n          type: 'string',\n          pattern: '^[a-zA-Z0-9-_]+$',\n        },\n      },\n      required: ['evt-id', 'chan-id', 'sub-id'],\n      additionalProperties: false,\n    },\n  },\n  required: ['sub-ch'],\n  additionalProperties: false,\n}\n","'use strict'\n\nmodule.exports = {\n  id: '/schema/uns-ch',\n  title: 'UnsubscribeChannel',\n  type: 'object',\n  properties: {\n    'uns-ch': {\n      type: 'object',\n      properties: {\n        'evt-id': {\n          type: 'string',\n          pattern: '^[a-zA-Z0-9-_]+$',\n        },\n        'sub-id': {\n          type: 'string',\n          pattern: '^[a-zA-Z0-9-_]+$',\n        },\n      },\n      required: ['evt-id', 'sub-id'],\n      additionalProperties: false,\n    },\n  },\n  required: ['uns-ch'],\n  additionalProperties: false,\n}\n","'use strict'\n\nmodule.exports = {\n  id: '/schema/res',\n  title: 'Results',\n  type: 'object',\n  properties: {\n    res: {\n      type: 'object',\n      properties: {\n        'evt-id': {\n          type: 'string',\n          pattern: '^[a-zA-Z0-9-_]+$',\n        },\n        'col-id': {\n          type: 'string',\n          pattern: '^[a-zA-Z0-9-_]+$',\n        },\n        'ftc-id': {\n          type: 'string',\n          pattern: '^[a-zA-Z0-9-_]+$',\n        },\n        docs: {\n          type: 'array',\n          items: {\n            type: 'object',\n            properties: {\n              id: {\n                type: 'string',\n                pattern: '^[a-zA-Z0-9-_]+$',\n              },\n              crt: { type: 'string' },\n              'crt-ts': { type: 'integer' },\n              'mod-ts': { type: 'integer' },\n              etag: { type: 'string' },\n              body: { type: 'object' },\n            },\n            required: ['id', 'crt', 'crt-ts', 'mod-ts', 'etag', 'body'],\n            additionalProperties: false,\n          },\n        },\n      },\n      required: ['evt-id', 'col-id', 'ftc-id', 'docs'],\n      additionalProperties: false,\n    },\n  },\n  required: ['res'],\n  additionalProperties: false,\n}\n","'use strict'\n\nmodule.exports = {\n  id: '/schema/val',\n  title: 'Value',\n  type: 'object',\n  properties: {\n    val: {\n      type: 'object',\n      properties: {\n        'evt-id': {\n          type: 'string',\n          pattern: '^[a-zA-Z0-9-_]+$',\n        },\n        'col-id': {\n          type: 'string',\n          pattern: '^[a-zA-Z0-9-_]+$',\n        },\n        'sub-id': {\n          type: 'string',\n          pattern: '^[a-zA-Z0-9-_]+$',\n        },\n        docs: {\n          type: 'array',\n          items: {\n            type: 'object',\n            properties: {\n              id: {\n                type: 'string',\n                pattern: '^[a-zA-Z0-9-_]+$',\n              },\n              crt: { type: 'string' },\n              'crt-ts': { type: 'integer' },\n              'mod-ts': { type: 'integer' },\n              etag: { type: 'string' },\n              skey: { type: 'array', items: { type: 'string' } },\n              body: { type: 'object' },\n            },\n            required: ['id', 'crt', 'crt-ts', 'mod-ts', 'etag', 'body'],\n            additionalProperties: false,\n          },\n        },\n      },\n      required: ['evt-id', 'col-id', 'sub-id', 'docs'],\n      additionalProperties: false,\n    },\n  },\n  required: ['val'],\n  additionalProperties: false,\n}\n","'use strict'\n\nmodule.exports = {\n  id: '/schema/upd',\n  title: 'Update',\n  type: 'object',\n  properties: {\n    upd: {\n      type: 'object',\n      properties: {\n        'evt-id': {\n          type: 'string',\n          pattern: '^[a-zA-Z0-9-_]+$',\n        },\n        'col-id': {\n          type: 'string',\n          pattern: '^[a-zA-Z0-9-_]+$',\n        },\n        'sub-id': {\n          type: 'string',\n          pattern: '^[a-zA-Z0-9-_]+$',\n        },\n        doc: {\n          type: 'object',\n          properties: {\n            id: {\n              type: 'string',\n              pattern: '^[a-zA-Z0-9-_]+$',\n            },\n            crt: { type: 'string' },\n            'crt-ts': { type: 'integer' },\n            'mod-ts': { type: 'integer' },\n            etag: { type: 'string' },\n            skey: { type: 'array', items: { type: 'string' } },\n            body: { type: 'object' },\n          },\n          required: ['id', 'crt', 'crt-ts', 'mod-ts', 'etag', 'body'],\n          additionalProperties: false,\n        },\n      },\n      required: ['evt-id', 'col-id', 'sub-id', 'doc'],\n      additionalProperties: false,\n    },\n  },\n  required: ['upd'],\n  additionalProperties: false,\n}\n","'use strict'\n\nmodule.exports = {\n  id: '/schema/rm',\n  title: 'Remove',\n  type: 'object',\n  properties: {\n    rm: {\n      type: 'object',\n      properties: {\n        'evt-id': {\n          type: 'string',\n          pattern: '^[a-zA-Z0-9-_]+$',\n        },\n        'col-id': {\n          type: 'string',\n          pattern: '^[a-zA-Z0-9-_]+$',\n        },\n        'sub-id': {\n          type: 'string',\n          pattern: '^[a-zA-Z0-9-_]+$',\n        },\n        doc: {\n          type: 'object',\n          properties: {\n            id: {\n              type: 'string',\n              pattern: '^[a-zA-Z0-9-_]+$',\n            },\n          },\n          required: ['id'],\n          additionalProperties: false,\n        },\n      },\n      required: ['evt-id', 'col-id', 'sub-id', 'doc'],\n      additionalProperties: false,\n    },\n  },\n  required: ['rm'],\n  additionalProperties: false,\n}\n","'use strict'\n\nmodule.exports = {\n  id: '/schema/ca',\n  title: 'Cancel',\n  type: 'object',\n  properties: {\n    ca: {\n      type: 'object',\n      properties: {\n        'evt-id': {\n          type: 'string',\n          pattern: '^[a-zA-Z0-9-_]+$',\n        },\n        'col-id': {\n          type: 'string',\n          pattern: '^[a-zA-Z0-9-_]+$',\n        },\n        'sub-id': {\n          type: 'string',\n          pattern: '^[a-zA-Z0-9-_]+$',\n        },\n      },\n      required: ['evt-id', 'col-id', 'sub-id'],\n      additionalProperties: false,\n    },\n  },\n  required: ['ca'],\n  additionalProperties: false,\n}\n","'use strict'\n\nmodule.exports = {\n  id: '/schema/ca-ch',\n  title: 'CancelChannel',\n  type: 'object',\n  properties: {\n    'ca-ch': {\n      type: 'object',\n      properties: {\n        'evt-id': {\n          type: 'string',\n          pattern: '^[a-zA-Z0-9-_]+$',\n        },\n        'chan-id': {\n          anyOf: [\n            {\n              type: 'string',\n              pattern: '^[a-zA-Z0-9-_]+$',\n            },\n            {\n              type: 'object',\n              properties: {\n                pref: {\n                  type: 'string',\n                  pattern: '^[a-zA-Z0-9-_]+$',\n                },\n              },\n              required: ['pref'],\n              additionalProperties: false,\n            },\n          ],\n        },\n        'sub-id': {\n          type: 'string',\n          pattern: '^[a-zA-Z0-9-_]+$',\n        },\n      },\n      required: ['evt-id', 'chan-id', 'sub-id'],\n      additionalProperties: false,\n    },\n  },\n  required: ['ca-ch'],\n  additionalProperties: false,\n}\n","'use strict'\n\nmodule.exports = {\n  id: '/schema/ca-da',\n  title: 'DisconnectActionCancelled',\n  type: 'object',\n  properties: {\n    'ca-da': {\n      type: 'object',\n      properties: {\n        'evt-id': {\n          type: 'string',\n          pattern: '^[a-zA-Z0-9-_]+$',\n        },\n        'act-id': {\n          type: 'string',\n          pattern: '^[a-zA-Z0-9-_]+$',\n        },\n      },\n      required: ['evt-id', 'act-id'],\n      additionalProperties: false,\n    },\n  },\n  required: ['ca-da'],\n  additionalProperties: false,\n}\n","'use strict'\n\nmodule.exports = {\n  id: '/schema/mes',\n  title: 'MessageChannel',\n  type: 'object',\n  properties: {\n    mes: {\n      type: 'object',\n      properties: {\n        'evt-id': {\n          type: 'string',\n          pattern: '^[a-zA-Z0-9-_]+$',\n        },\n        'chan-id': {\n          type: 'string',\n          pattern: '^[a-zA-Z0-9-_]+$',\n        },\n        'sub-id': {\n          type: 'string',\n          pattern: '^[a-zA-Z0-9-_]+$',\n        },\n        body: {\n          type: 'object',\n        },\n      },\n      required: ['evt-id', 'chan-id', 'body'],\n      additionalProperties: false,\n    },\n  },\n  required: ['mes'],\n  additionalProperties: false,\n}\n","'use strict'\n\nmodule.exports = {\n  id: '/schema/req-ts',\n  title: 'Request timestamp',\n  type: 'object',\n  properties: {\n    'req-ts': {\n      type: 'object',\n      properties: {\n        'evt-id': {\n          type: 'string',\n          pattern: '^[a-zA-Z0-9-_]+$',\n        },\n      },\n      required: ['evt-id'],\n      additionalProperties: false,\n    },\n  },\n  required: ['req-ts'],\n  additionalProperties: false,\n}\n","'use strict'\n\nmodule.exports = {\n  id: '/schema/ts',\n  title: 'Timestamp',\n  type: 'object',\n  properties: {\n    ts: {\n      type: 'object',\n      properties: {\n        'evt-id': {\n          type: 'string',\n          pattern: '^[a-zA-Z0-9-_]+$',\n        },\n        timestamp: {\n          type: 'number',\n        },\n      },\n      required: ['evt-id', 'timestamp'],\n      additionalProperties: false,\n    },\n  },\n  required: ['ts'],\n  additionalProperties: false,\n}\n","'use strict'\n\nconst Ajv = require('ajv')\n\nconst filter = require('../shared/filter')\nconst order = require('../shared/order')\nconst limit = require('../shared/limit')\nconst skip = require('../shared/skip')\n\nconst query = require('../schema/query')\nconst ack = require('../schema/ack')\nconst err = require('../schema/err')\nconst nop = require('../schema/nop')\nconst con = require('../schema/con')\nconst rec = require('../schema/rec')\nconst dis = require('../schema/dis')\nconst auth = require('../schema/auth')\nconst deauth = require('../schema/deauth')\nconst mut = require('../schema/mut')\nconst mer = require('../schema/mer')\nconst del = require('../schema/del')\nconst da = require('../schema/da')\nconst daCa = require('../schema/da-ca')\nconst pub = require('../schema/pub')\nconst ftc = require('../schema/ftc')\nconst sub = require('../schema/sub')\nconst uns = require('../schema/uns')\nconst subCh = require('../schema/sub-ch')\nconst unsCh = require('../schema/uns-ch')\nconst res = require('../schema/res')\nconst val = require('../schema/val')\nconst upd = require('../schema/upd')\nconst rm = require('../schema/rm')\nconst ca = require('../schema/ca')\nconst caCh = require('../schema/ca-ch')\nconst caDa = require('../schema/ca-da')\nconst mes = require('../schema/mes')\nconst reqTs = require('../schema/req-ts')\nconst ts = require('../schema/ts')\n\nconst event = {\n  id: '/event',\n  title: 'Event',\n  anyOf: [\n    { $ref: ack.id },\n    { $ref: err.id },\n    { $ref: nop.id },\n    { $ref: con.id },\n    { $ref: rec.id },\n    { $ref: dis.id },\n    { $ref: auth.id },\n    { $ref: deauth.id },\n    { $ref: mut.id },\n    { $ref: mer.id },\n    { $ref: del.id },\n    { $ref: da.id },\n    { $ref: daCa.id },\n    { $ref: pub.id },\n    { $ref: ftc.id },\n    { $ref: sub.id },\n    { $ref: uns.id },\n    { $ref: subCh.id },\n    { $ref: unsCh.id },\n    { $ref: res.id },\n    { $ref: val.id },\n    { $ref: upd.id },\n    { $ref: rm.id },\n    { $ref: ca.id },\n    { $ref: caCh.id },\n    { $ref: caDa.id },\n    { $ref: mes.id },\n    { $ref: reqTs.id },\n    { $ref: ts.id },\n  ],\n}\n\nconst batch = {\n  id: '/batch',\n  title: 'Batch',\n  type: 'object',\n  properties: {\n    batch: {\n      type: 'array',\n      minItems: 1,\n      items: { $ref: event.id },\n    },\n  },\n  required: ['batch'],\n  additionalProperties: false,\n}\n\nconst message = {\n  id: '/message',\n  title: 'Message',\n  anyOf: [\n    { $ref: event.id },\n    { $ref: batch.id },\n  ],\n}\n\nconst validator = new Ajv({\n  allErrors: true,\n  schemas: [\n    filter,\n    order,\n    limit,\n    skip,\n    query,\n    event,\n    ack,\n    err,\n    nop,\n    con,\n    rec,\n    dis,\n    auth,\n    deauth,\n    mut,\n    mer,\n    del,\n    da,\n    daCa,\n    ftc,\n    sub,\n    uns,\n    res,\n    val,\n    upd,\n    rm,\n    ca,\n    caCh,\n    caDa,\n    batch,\n    message,\n    pub,\n    mes,\n    subCh,\n    unsCh,\n    reqTs,\n    ts,\n  ],\n})\n\nexports.message = validator.compile(message)\nexports.filter = validator.compile(filter)\nexports.query = validator.compile(query)\n","'use strict'\n\nmodule.exports = ({ evtId }) => ({\n  ack: { 'evt-id': evtId },\n})\n","'use strict'\n\nmodule.exports = ({ evtId, errType, errMessage }) => ({\n  err: {\n    'evt-id': evtId,\n    'err-type': errType,\n    'err-msg': errMessage,\n  },\n})\n","'use strict'\n\nconst shortid = require('shortid')\n\n/**\n * Creates a connect protocol event\n * @param {String} conId connection id\n * @return {Object} event\n */\n\nconst con = ({ conId }) => ({\n  con: {\n    'evt-id': shortid(),\n    'con-id': conId,\n  },\n})\n\nmodule.exports = con\n","'use strict'\n\nconst shortid = require('shortid')\n\n/**\n * Creates a reconnect protocol event\n * @param {string} conId connection id\n * @return {Object} event\n */\n\nconst rec = ({ conId }) => ({\n  rec: {\n    'evt-id': shortid(),\n    'con-id': conId,\n  },\n})\n\nmodule.exports = rec\n","'use strict'\n\n/**\n * Creates a disconnect protocol event\n * @return {Object} event\n */\n\nconst dis = () => ({\n  dis: null,\n})\n\nmodule.exports = dis\n","'use strict'\n\nconst shortid = require('shortid')\n\n/**\n *\n * @param {string} colId collection ID\n * @param {string} docId document ID\n * @param {object} body properties to mutate\n * @return {Object} event\n */\n\nconst mut = ({ colId, docId, body, etag = undefined }) => ({\n  mut: {\n    'evt-id': shortid(),\n    'col-id': colId,\n    doc: {\n      id: docId,\n      etag,\n      body,\n    },\n  },\n})\n\nmodule.exports = mut\n","'use strict'\n\nconst shortid = require('shortid')\n\n/**\n * Creates a merge protocol event\n * @param {String} colId collection id\n * @param {String} docId documend id\n * @param {Object} body properties to merge\n * @return {Object} event\n */\n\nconst mer = ({ colId, docId, body, etag = undefined }) => ({\n  mer: {\n    'evt-id': shortid(),\n    'col-id': colId,\n    doc: {\n      id: docId,\n      etag,\n      body,\n    },\n  },\n})\n\nmodule.exports = mer\n","'use strict'\n\nconst shortid = require('shortid')\n\n/**\n * Creates a delete protocol event\n * @param {Object} del\n * @param {String} del.colId - collection id\n * @param {String} del.docId - documend id\n * @param {String=} del.etag - documend id\n * @return {Object} event\n */\n\nconst del = ({ colId, docId, etag = undefined }) => ({\n  del: {\n    'evt-id': shortid(),\n    'col-id': colId,\n    doc: {\n      id: docId,\n      etag,\n    },\n  },\n})\n\nmodule.exports = del\n","'use strict'\n\nconst shortid = require('shortid')\n\n/**\n * Creates an on-disconnect action protocol event\n * @param {string} actId On-disconnect action id\n * @param {object=} action One of mutate, merge or delete\n * @return {Object} event\n */\n\nconst da = ({ actId, action }) => ({\n  da: {\n    'evt-id': shortid(),\n    'act-id': actId,\n    act: action,\n  },\n})\n\nmodule.exports = da\n","'use strict'\n\nconst shortid = require('shortid')\n\n/**\n * Creates an cancel on-disconnect action protocol event\n * @param {string} actId action id\n * @return {Object} event\n */\n\nconst daCa = ({ actId }) => ({\n  'da-ca': {\n    'evt-id': shortid(),\n    'act-id': actId,\n  },\n})\n\nmodule.exports = daCa\n","'use strict'\n\nconst shortid = require('shortid')\n\n/**\n * Creates a fetch protocol event\n * @param {String} ftc fetch id\n * @param {String} colId collection id\n * @param {object=} query query object\n * @return {Object} event\n */\n\nconst ftc = ({ colId, ftcId, query: { filter, order, limit, skip } = {} }) => ({\n  ftc: {\n    'evt-id': shortid(),\n    'ftc-id': ftcId,\n    'col-id': colId,\n    filter,\n    order: order && [order],\n    limit,\n    skip,\n  },\n})\n\nmodule.exports = ftc\n","'use strict'\n\nconst shortid = require('shortid')\n\n/**\n * Creates a subscription protocol event\n * @param {string} subId subscription id\n * @param {string} colId collection id\n * @param {object=} query query object\n * @return {Object} event\n */\n\nconst sub = ({ subId, colId, query: { filter, order, limit, skip } = {} }) => ({\n  sub: {\n    'evt-id': shortid(),\n    'sub-id': subId,\n    'col-id': colId,\n    filter,\n    order: order && [order], // we enforce Object, but server expects array\n    limit,\n    skip,\n  },\n})\n\nmodule.exports = sub\n","'use strict'\n\nconst shortid = require('shortid')\n\n/**\n * Creates an unsubscribe protocl event\n * @param {string} subId subscription id\n * @return {Object} event\n */\n\nconst uns = ({ subId }) => ({\n  uns: {\n    'evt-id': shortid(),\n    'sub-id': subId,\n  },\n})\n\nmodule.exports = uns\n","'use strict'\n\nconst shortid = require('shortid')\n\n/**\n * Creates an autharization protocol event\n * @param {string} token authorization token\n * @return {Object} event\n */\n\nconst auth = ({ token }) => ({\n  auth: {\n    'evt-id': shortid(),\n    token,\n  },\n})\n\nmodule.exports = auth\n","'use strict'\n\nconst shortid = require('shortid')\n\n/**\n * Creates an deauthorization protocol event\n * @return {Object} event\n */\n\nconst deauth = () => ({\n  deauth: {\n    'evt-id': shortid(),\n  },\n})\n\nmodule.exports = deauth\n","'use strict'\n\n/**\n * No operation event\n * @return {Object} event\n */\n\nconst nop = () => ({\n  nop: null,\n})\n\nmodule.exports = nop\n","'use strict'\n\nconst shortid = require('shortid')\n\n/**\n * Creates publish event\n * @param {(String|Object)} chanId channel id\n * @param {Object} body channel message\n */\nconst pub = ({ chanId, body }) => ({\n  pub: {\n    'evt-id': shortid(),\n    'chan-id': chanId,\n    body,\n  },\n})\n\nmodule.exports = pub\n","'use strict'\n\nconst shortid = require('shortid')\n\n/**\n * Create channel subscription event\n * @param {(String|Object)} chanId channel id\n * @param {String} subId subscription id\n */\nconst subCh = ({ chanId, subId }) => ({\n  'sub-ch': {\n    'evt-id': shortid(),\n    'chan-id': chanId,\n    'sub-id': subId,\n  },\n})\n\nmodule.exports = subCh\n","'use strict'\n\nconst shortid = require('shortid')\n\n/**\n * Create channel unsubscription event\n * @param {String} subId subscription id\n */\nconst unsCh = ({ subId }) => ({\n  'uns-ch': {\n    'evt-id': shortid(),\n    'sub-id': subId,\n  },\n})\n\nmodule.exports = unsCh\n","'use strict'\n\nconst shortid = require('shortid')\n\n/**\n * Create request server timestamp event\n */\nconst reqTs = () => ({\n  'req-ts': {\n    'evt-id': shortid(),\n  },\n})\n\nmodule.exports = reqTs\n","'use strict'\n\nconst shortid = require('shortid')\n\n/**\n * Create results event\n * @param {String} colId collection id\n * @param {String} ftcId fetch id\n * @param {Array} docs documents to be sent\n */\nconst res = ({ colId, ftcId, docs }) => ({\n  res: {\n    'evt-id': shortid(),\n    'col-id': colId,\n    'ftc-id': ftcId,\n    docs,\n  },\n})\n\nmodule.exports = res\n","'use strict'\n\nconst shortid = require('shortid')\n\n/**\n * Creates value event\n * @param {String} colId collection id\n * @param {String} subId subscription id\n * @param {Array} docs documents to be sent\n */\nconst val = ({ colId, subId, docs }) => ({\n  val: {\n    'evt-id': shortid(),\n    'col-id': colId,\n    'sub-id': subId,\n    docs,\n  },\n})\n\nmodule.exports = val\n","'use strict'\n\nconst shortid = require('shortid')\n\n/**\n * Creates update event\n * @param {String} colId collection id\n * @param {String} subId subscription id\n * @param {Object} doc document\n */\nconst upd = ({ colId, subId, doc }) => ({\n  upd: {\n    'evt-id': shortid(),\n    'col-id': colId,\n    'sub-id': subId,\n    doc,\n  },\n})\n\nmodule.exports = upd\n","'use strict'\n\nconst shortid = require('shortid')\n\n/**\n * Creates remove event\n * @param {String} colId collection id\n * @param {String} subId subscription id\n * @param {id} id document id to be deleted\n */\nconst rm = ({ colId, subId, docId }) => ({\n  rm: {\n    'evt-id': shortid(),\n    'col-id': colId,\n    'sub-id': subId,\n    doc: {\n      id: docId,\n    },\n  },\n})\n\nmodule.exports = rm\n","'use strict'\n\nconst shortid = require('shortid')\n\n/**\n * Creates cancel event\n * @param {String} subId subscription id\n */\nconst ca = ({ subId }) => ({\n  ca: {\n    'evt-id': shortid(),\n    'sub-id': subId,\n  },\n})\n\nmodule.exports = ca\n","'use strict'\n\nconst shortid = require('shortid')\n\n/**\n * Creates cancel-channel event\n * @param {String} subId subscription id\n */\nconst caCh = ({ subId }) => ({\n  'ca-ch': {\n    'evt-id': shortid(),\n    'sub-id': subId,\n  },\n})\n\nmodule.exports = caCh\n","'use strict'\n\nconst shortid = require('shortid')\n\n/**\n * Creates on-disconnect action cancelled event\n * @param {String} actId On-disconnect action id\n */\nconst caDa = ({ actId }) => ({\n  'ca-da': {\n    'evt-id': shortid(),\n    'act-id': actId,\n  },\n})\n\nmodule.exports = caDa\n","'use strict'\n\nconst shortid = require('shortid')\n\n/**\n * Creates message event\n * @param {(String|Object)} chanId channel id\n * @param {String} subId subscription\n * @param {Object} body channel message\n */\nconst mes = ({ chanId, subId, body }) => ({\n  mes: {\n    'evt-id': shortid(),\n    'chan-id': chanId,\n    'sub-id': subId,\n    body,\n  },\n})\n\nmodule.exports = mes\n","'use strict'\n\nconst shortid = require('shortid')\n\n/**\n * Creates message event\n * @param {Number} timestamp server timestamp\n */\nconst ts = ({ timestamp }) => ({\n  ts: {\n    'evt-id': shortid(),\n    timestamp,\n  },\n})\n\nmodule.exports = ts\n","'use strict'\n\nconst validation = require('./validation')\nconst ack = require('./events/ack')\nconst err = require('./events/err')\nconst client = require('./events/client')\nconst server = require('./events/server')\nconst filter = require('./shared/filter')\n\nmodule.exports = {\n  validate: validation,\n  ack,\n  err,\n  client,\n  server,\n  filterSchema: filter,\n}\n","import Emitter from 'component-emitter'\nimport debug from 'debug'\nimport NodeWebSocket from 'ws'\n\nconst BrowserWebSocket = global.WebSocket\n\nconst logger = debug('rapid:ws')\n\nexport default class WebSocket extends Emitter {\n  constructor(url, opts = {}) {\n    super()\n    this.url = url\n    this.perMessageDeflate = opts.perMessageDeflate || false\n    this.protocols = opts.protocols || null\n    this.isUsingBrowserWebSocket = Boolean(BrowserWebSocket)\n    this.open()\n  }\n\n  open() {\n    const { url, protocols, isUsingBrowserWebSocket } = this\n    const wsUrl = `wss://${url}`\n\n    const opts = {\n      perMessageDeflate: this.perMessageDeflate\n      // more node specific options like SSL etc\n    }\n\n    try {\n      if (isUsingBrowserWebSocket) {\n        this.ws = new BrowserWebSocket(wsUrl)\n      } else {\n        this.ws = new NodeWebSocket(wsUrl, protocols, opts)\n      }\n    } catch (err) {\n      this.emit('error', err)\n    }\n\n    this.addEventListeners()\n  }\n\n  addEventListeners() {\n    this.ws.onopen = () => this.emit('open')\n    this.ws.onmessage = event => this.emit('message', event.data)\n    this.ws.onclose = () => this.emit('close')\n    this.ws.onerror = err => this.emit('error', err)\n  }\n\n  send(message) {\n    if (this.ws.readyState !== this.ws.OPEN) {\n      throw new Error('WebSocket is not open')\n    }\n\n    try {\n      this.ws.send(JSON.stringify(message))\n    } catch (error) {\n      logger(\n        'WebSocket was not able to send data, becase it has been already closed.'\n      )\n    }\n  }\n\n  close() {\n    if (\n      typeof this.ws !== 'undefined' &&\n      (this.ws.readyState === this.ws.CONNECTING ||\n        this.readyState === this.ws.OPEN)\n    ) {\n      this.ws.close()\n    }\n  }\n\n  get CONNECTING() {\n    return 0\n  }\n  get OPEN() {\n    return 1\n  }\n  get CLOSING() {\n    return 2\n  }\n  get CLOSED() {\n    return 3\n  }\n  get readyState() {\n    return this.ws.readyState\n  }\n}\n","/**\n * Event listener helper\n * @param {EventEmitter} emitter source\n * @param {String} event listen\n * @param {Function} fn callback\n * @return {object} object with a 'off' method to remove listener\n */\n\nexport default (emitter, event, fn) => {\n  emitter.on(event, fn)\n  return {\n    off: () => emitter.off(event, fn)\n  }\n}\n","export default val => {\n  try {\n    return JSON.parse(val)\n  } catch (error) {\n    return null\n  }\n}\n","export default obj => {\n  try {\n    return JSON.parse(JSON.stringify(obj))\n  } catch (err) {\n    console.log(err)\n    return null\n  }\n}\n","import EventEmitter from 'component-emitter'\nimport Backoff from 'backo'\nimport debug from 'debug'\nimport { validate } from '@rapid-io/protocol'\n\nimport WebSocket from './websocket'\nimport on from './utils/on'\nimport jsonparse from './utils/jsonparse'\nimport jsonprune from './utils/jsonprune'\n\nconst logger = debug('rapid:transport')\n\nexport default class Transport extends EventEmitter {\n  constructor(\n    url,\n    {\n      reconnectDelay = 1000,\n      reconnectDelayMax = 5000,\n      reconnectAttempts = Infinity\n    } = {}\n  ) {\n    super()\n    this.url = url\n    this.reconnectAttempts = reconnectAttempts\n    this.backoff = new Backoff({ min: reconnectDelay, max: reconnectDelayMax })\n    this.readyState = 'closed'\n    this.subs = []\n    this.reconnecting = false\n    this.skipReconnect = false\n    this.connect()\n  }\n\n  open(onopen, onerror) {\n    if (this.readyState === 'open') {\n      return\n    }\n\n    this.cleanup()\n\n    logger('opening %s', this.url)\n    this.ws = new WebSocket(this.url)\n    this.readyState = 'opening'\n    this.skipReconnect = false\n    const opensub = on(this.ws, 'open', () => {\n      this.readyState = 'open'\n      onopen()\n    })\n    const errsub = on(this.ws, 'error', err => {\n      this.readyState = 'closed'\n      onerror(err)\n    })\n    const closeSub = on(this.ws, 'close', () => this.onclose())\n\n    this.subs.push(opensub, errsub, closeSub)\n  }\n\n  send(message) {\n    message = jsonprune(message)\n    const valid = validate.message(message)\n    if (!valid) {\n      logger('trying to send invalid message: %O', message)\n      throw new Error('Invalid message format sending to a server')\n    }\n\n    if (this.readyState === 'open') {\n      this.ws.send(message)\n    } else {\n      logger('cannot send message, websocket is not open - %o', message)\n    }\n  }\n\n  connect() {\n    this.open(\n      () => this.onconnect(),\n      err => {\n        logger('initial connect error %o', err.message)\n        if (!this.reconnecting && this.backoff.attempts === 0) {\n          this.reconnect()\n        }\n      }\n    )\n  }\n\n  reconnect() {\n    const delay = this.backoff.duration()\n    logger('reconnect attempt in %d', delay)\n    this.reconnecting = true\n    const timeout = setTimeout(() => {\n      logger('attempting to reconnect')\n      this.open(\n        () => this.onreconnect(),\n        err => {\n          logger('reconnect unsuccessful, %o', err.message)\n          this.reconnecting = false\n          this.reconnect()\n        }\n      )\n    }, delay)\n\n    this.subs.push({ off: () => clearTimeout(timeout) })\n  }\n\n  onconnect() {\n    logger('websocket opened')\n    this.subs.push(\n      on(this.ws, 'message', msg => this.onmessage(msg)),\n      on(this.ws, 'error', err => this.onerror(err))\n    )\n    this.emit('connected', true)\n    this.emit('connect')\n  }\n\n  onreconnect() {\n    const { attempts } = this.backoff\n    logger('reconnect successful after %d attempts', attempts)\n    this.reconnecting = false\n    this.backoff.reset()\n    this.emit('reconnect')\n    this.subs.push(\n      on(this.ws, 'message', msg => this.onmessage(msg)),\n      on(this.ws, 'close', () => this.onclose()),\n      on(this.ws, 'error', err => this.onerror(err))\n    )\n  }\n\n  onclose() {\n    logger('websocket closed')\n    this.readyState = 'closed'\n    this.emit('connected', false)\n    this.backoff.reset()\n    this.cleanup()\n    if (!this.skipReconnect) {\n      this.reconnect()\n    }\n  }\n\n  onerror(err) {\n    logger('websocket error %o', err)\n    this.ws.close()\n  }\n\n  onmessage(msg) {\n    const parsed = jsonparse(msg)\n    if (parsed === null) {\n      logger('message is not in JSON format')\n    } else {\n      this.emit('event', parsed)\n    }\n  }\n\n  disconnect() {\n    logger('disconnecting')\n    this.skipReconnect = true\n    this.reconnecting = true\n    if (this.readyState === 'opening') {\n      this.cleanup()\n    }\n    this.backoff.reset()\n    this.readyState = 'closed'\n    if (this.ws) {\n      this.ws.close()\n    }\n  }\n\n  cleanup() {\n    this.subs.forEach(sub => sub.off())\n  }\n}\n","/**\n * Remove listeners helper\n * @param {Array} listeners array of unsubscribe functions\n * @return {Object} off function to remove listeners\n */\n\nexport default listeners => ({\n  off() {\n    listeners.forEach(listener => listener.off())\n  }\n})\n","/**\n * Creates an acknowledgement event\n * @param {string} evtId event id\n * @return {Object} event\n */\n\nconst ack = evtId => ({\n  ack: {\n    'evt-id': evtId\n  }\n})\n\nexport default ack\n","import shortid from 'shortid'\n\n/**\n * Creates a connect protocol event\n * @return {Object} event\n */\n\nconst con = conId => ({\n  con: {\n    'evt-id': shortid.generate(),\n    'con-id': conId\n  }\n})\n\nexport default con\n","import shortid from 'shortid'\n\n/**\n * Creates a reconnect protocol event\n * @param {string} conId connection id\n * @return {Object} event\n */\n\nconst rec = conId => ({\n  rec: {\n    'evt-id': shortid.generate(),\n    'con-id': conId\n  }\n})\n\nexport default rec\n","import shortid from 'shortid'\n\n/**\n *\n * @param {string} colId collection ID\n * @param {string} docId document ID\n * @param {object} body properties to mutate\n * @return {Object} event\n */\n\nconst mut = (colId, docId, body, etag) => ({\n  mut: {\n    'evt-id': shortid.generate(),\n    'col-id': colId,\n    doc: {\n      id: docId,\n      etag,\n      body\n    }\n  }\n})\n\nexport default mut\n","import shortid from 'shortid'\n\n/**\n * Creates a merge protocol event\n * @param {string} colId collection id\n * @param {string} docId documend id\n * @param {object} body properties to merge\n * @return {Object} event\n */\n\nconst mer = (colId, docId, body, etag) => ({\n  mer: {\n    'evt-id': shortid.generate(),\n    'col-id': colId,\n    doc: {\n      id: docId,\n      etag,\n      body\n    }\n  }\n})\n\nexport default mer\n","import shortid from 'shortid'\n\n/**\n * Creates a delete protocol event\n * @param {string} colId collection id\n * @param {string} docId documend id\n * @return {Object} event\n */\n\nconst del = (colId, docId, etag) => ({\n  del: {\n    'evt-id': shortid.generate(),\n    'col-id': colId,\n    doc: {\n      id: docId,\n      etag\n    }\n  }\n})\n\nexport default del\n","import shortid from 'shortid'\n\n/**\n * Creates a fetch protocol event\n * @param {string} ftc fetch id\n * @param {string} colId collection id\n * @param {object=} query query object\n * @return {Object} event\n */\n\nconst ftc = (colId, { filter, order, limit, skip }) => ({\n  ftc: {\n    'evt-id': shortid.generate(),\n    'ftc-id': shortid.generate(),\n    'col-id': colId,\n    filter,\n    order: order && [order],\n    limit,\n    skip\n  }\n})\n\nexport default ftc\n","import shortid from 'shortid'\n\n/**\n * Creates a subscription protocol event\n * @param {string} subId subscription id\n * @param {string} colId collection id\n * @param {object=} query query object\n * @return {Object} event\n */\n\nconst sub = (subId, colId, { filter, order, limit, skip }) => ({\n  sub: {\n    'evt-id': shortid.generate(),\n    'sub-id': subId,\n    'col-id': colId,\n    filter,\n    order: order && [order],\n    limit,\n    skip\n  }\n})\n\nexport default sub\n","import shortid from 'shortid'\n\n/**\n * Creates an unsubscribe protocl event\n * @param {string} subId subscription id\n * @return {Object} event\n */\n\nconst uns = subId => ({\n  uns: {\n    'evt-id': shortid.generate(),\n    'sub-id': subId\n  }\n})\n\nexport default uns\n","import shortid from 'shortid'\n\n/**\n * Creates an autharization protocol event\n * @param {string} authToken authorization token\n * @return {Object} event\n */\n\nconst auth = authToken => ({\n  auth: {\n    'evt-id': shortid.generate(),\n    token: authToken\n  }\n})\n\nexport default auth\n","import shortid from 'shortid'\n\n/**\n * Creates an deauthorization protocol event\n * @return {Object} event\n */\n\nconst deauth = () => ({\n  deauth: {\n    'evt-id': shortid.generate()\n  }\n})\n\nexport default deauth\n","import shortid from 'shortid'\n\n/**\n * Create channel subscription event\n * @param {(String|Object)} chanId channel id\n * @param {String} subId subscription id\n * @returns {Object}\n */\nconst subCh = ({ chanId, subId }) => ({\n  'sub-ch': {\n    'evt-id': shortid(),\n    'chan-id': chanId,\n    'sub-id': subId\n  }\n})\n\nexport default subCh\n","import shortid from 'shortid'\n\n/**\n * Create channel unsubscription event\n * @param {String} subId subscription id\n * @returns {Object}\n */\nconst unsCh = ({ subId }) => ({\n  'uns-ch': {\n    'evt-id': shortid(),\n    'sub-id': subId\n  }\n})\n\nexport default unsCh\n","import shortid from 'shortid'\n\n/**\n * Creates publish event\n * @param {(String|Object)} chanId channel id\n * @param {Object} body channel message\n * @returns {Object}\n */\nconst pub = ({ chanId, body }) => ({\n  pub: {\n    'evt-id': shortid(),\n    'chan-id': chanId,\n    body\n  }\n})\n\nexport default pub\n","import { subCh, unsCh, pub } from '../protocol'\nimport isEmpty from '../utils/is-empty'\n\nexport default class Channel {\n  constructor({ subId, chanId, connection, remove }) {\n    this.chanId = chanId\n    this.subId = subId\n    this.connection = connection\n    this.remove = remove\n    this.valueListeners = []\n    this.errorListeners = []\n    this.buffer = new Map()\n    this.subscribed = false\n    this.unsubscribed = false\n    this.connect()\n  }\n\n  connect() {\n    if (this.unsubscribed) {\n      this.unsubscribe()\n      return\n    }\n\n    if (!this.subscribed) {\n      const { chanId, subId } = this\n      this.evt = subCh({ chanId, subId })\n      this.connection.send(this.evt)\n    }\n\n    this.buffer.forEach(message => {\n      this.connection.send(message.evt)\n    })\n  }\n\n  unsubscribe() {\n    this.unsubscribed = true\n    this.evt = unsCh({ subId: this.subId })\n    this.connection.send(this.evt)\n  }\n\n  subscribe(onvalue, onerror) {\n    onvalue && this.valueListeners.push(onvalue)\n    onerror && this.errorListeners.push(onerror)\n\n    return () => {\n      this.valueListeners = this.valueListeners.filter(fn => fn !== onvalue)\n      if (isEmpty(this.valueListeners)) {\n        this.unsubscribe()\n        return\n      }\n      this.errorListeners = this.errorListeners.filter(fn => fn !== onerror)\n    }\n  }\n\n  publish(message) {\n    return new Promise((resolve, reject) => {\n      const evt = pub({ chanId: this.chanId, body: message })\n      const evtId = evt.pub['evt-id']\n      this.buffer.set(evtId, { evt, resolve, reject })\n      this.connection.send(evt)\n    })\n  }\n\n  onack(ack) {\n    const evtId = ack['evt-id']\n    if (this.unsubscribed) {\n      const unsEvt = this.evt['uns-ch']\n      if (evtId === unsEvt['evt-id']) {\n        this.remove()\n        return\n      }\n    }\n\n    if (!this.subscribed) {\n      const subEvt = this.evt['sub-ch']\n      if (evtId === subEvt['evt-id']) {\n        this.subscribed = true\n        return\n      }\n    }\n    const message = this.buffer.get(evtId)\n    if (message) {\n      message.resolve()\n      this.buffer.delete(evtId)\n    }\n  }\n\n  onerror(err) {\n    const evtId = err['evt-id']\n    const subEvt = this.evt['sub-ch']\n\n    if (evtId === subEvt['evt-id']) {\n      this.subscribed = false\n      this.cancel(err) // TODO\n      return\n    }\n\n    const message = this.buffer.get(evtId)\n    if (message) {\n      message.reject(err)\n      this.buffer.delete(evtId)\n    }\n  }\n\n  message(mes) {\n    if (!this.unsubscribed) {\n      this.valueListeners.forEach(cb => cb(mes.body))\n    }\n  }\n\n  cancel(err) {\n    this.errorListeners.forEach(cb => cb(err))\n  }\n}\n","import shortid from 'shortid'\n\nimport Channel from './channel'\n\nexport default class Channels {\n  constructor(connection) {\n    this.connection = connection\n    this.channels = new Map()\n    this.connection.on('mes', mes => this.onmessage(mes))\n    this.connection.on('ca-ch', ca => this.oncancel(ca))\n    this.connection.on('ack', ack => this.onack(ack))\n    this.connection.on('err', err => this.onerror(err))\n  }\n\n  find(chanId) {\n    for (const [, channel] of this.channels) {\n      if (channel.chanId === chanId) {\n        return channel\n      }\n    }\n    return null\n  }\n\n  create(chanId) {\n    const subId = shortid()\n    const channel = new Channel({\n      chanId,\n      subId,\n      connection: this.connection,\n      remove: () => this.remove(chanId)\n    })\n    this.channels.set(subId, channel)\n    return channel\n  }\n\n  get(chanId) {\n    const channel = this.find(chanId) || this.create(chanId)\n    return channel \n  }\n\n  subscribe(chanId, onvalue, onerror) {\n    const channel = this.get(chanId)\n    return channel.subscribe(onvalue, onerror)\n  }\n\n  publish(chanId, message) {\n    const channel = this.get(chanId)\n    return channel.publish(message)\n  }\n\n  remove(chanId, onvalue, onerror) {\n    const channel = this.find(chanId)\n    if (channel) {\n      this.channels.delete(channel.subId)\n      onvalue && onvalue()\n      return\n    }\n    onerror &&\n      onerror(new Error(`No subscriptions for channel named: ${chanId}`))\n  }\n\n  connect() {\n    this.channels.forEach(channel => {\n      channel.subscribed = false\n      channel.connect()\n    })\n  }\n\n  reconnect() {\n    this.channels.forEach(channel => channel.connect())\n  }\n\n  onack(ack) {\n    this.channels.forEach(channel => channel.onack(ack))\n  }\n\n  onmessage(mes) {\n    const subId = mes['sub-id']\n    const channel = this.channels.get(subId)\n    if (channel) {\n      channel.message(mes)\n    }\n  }\n\n  oncancel(ca) {\n    const subId = ca['sub-id']\n    const channel = this.channels.get(subId)\n    if (channel) {\n      channel.cancel(new Error('Channel terminated'))\n      this.channels.delete(subId)\n    }\n  }\n\n  onerror(err) {\n    this.channels.forEach(channel => channel.onerror(err))\n  }\n}\n","import on from './utils/on'\n\nexport default class Fetch {\n  constructor({ connection, evt, onValue, onError }) {\n    this.connection = connection\n    this.evt = evt\n    this.onvalue = onValue\n    this.onerror = onError\n    this.acked = false\n    this.listener = on(this.connection, 'res', res => this.onresult(res))\n  }\n\n  onresult(res) {\n    const ftcId = this.evt.ftc['ftc-id']\n    if (ftcId === res['ftc-id']) {\n      this.onvalue(res.docs)\n      this.connection.fetches.delete(this.evt.ftc['evt-id'])\n      this.off()\n    }\n  }\n\n  cancel(err) {\n    this.onerror(err)\n    this.off()\n  }\n\n  off() {\n    this.listener.off()\n  }\n}\n","/*\n * Timer that invokes function after a period of time\n * also has a reset method\n */\n\nexport default class Timer {\n  constructor(fn, delay) {\n    this.fn = fn\n    this.delay = delay\n    this.interval = null\n    this.start()\n  }\n\n  start() {\n    if (!this.interval) {\n      this.interval = setInterval(this.fn, this.delay)\n    }\n  }\n\n  stop() {\n    clearInterval(this.interval)\n    this.interval = null\n  }\n\n  reset() {\n    if (this.interval) {\n      clearInterval(this.interval)\n      this.interval = setInterval(this.fn, this.delay)\n    }\n  }\n}\n","const create = (type, message) =>\n  class extends Error {\n    constructor(param) {\n      super()\n      this.type = type\n      if (param) {\n        this.message = `${message} ${param}`\n      } else {\n        this.message = message\n      }\n    }\n  }\n\nexport const TimeoutError = create(\n  'timeout',\n  'The request could not be completed in a given time:'\n)\n\nexport const PermissionError = create(\n  'permission-denied',\n  'You are trying to access a data you do not have a security permissions to.'\n)\n\nexport const SubscriptionError = create(\n  'subscription-terminated',\n  \"You don't have permissions to be subscribed to collection:\"\n)\n\nexport const EtagConflictError = create(\n  'etag-conflict',\n  'Etag does not match when mutating a document.'\n)\n\nexport const InvalidAuthTokenError = create(\n  'invalid-auth-token',\n  'The authorization token is invalid.'\n)\n\nexport const InvalidIdError = create(\n  'invalid-id',\n  'Only alphanumeric characters, dashes and underscores are allowed. Invalid id:'\n)\n","import EventEmitter from 'component-emitter'\nimport shortid from 'shortid'\nimport debug from 'debug'\nimport sortKeys from 'sort-keys'\n\nimport Transport from './transport'\nimport Subscription from './subscription'\nimport Channels from './channels/channels'\nimport Fetch from './fetch'\nimport * as events from './protocol'\nimport Timer from './utils/timer'\nimport on from './utils/on'\nimport jsonprune from './utils/jsonprune'\nimport { PermissionError, SubscriptionError } from './errors'\n\nconst logger = debug('rapid:connection')\n\nexport default class Connection extends EventEmitter {\n  constructor(url, opts = {}) {\n    super()\n    this.transport = new Transport(url, opts)\n    this.conId = shortid.generate()\n    this.authEvent = null\n    this.subscriptions = new Map()\n    this.channels = new Channels(this)\n    this.fetches = new Map()\n    this.writebuffer = new Map()\n    this.nooptimer = new Timer(() => this.noop(), opts.noopDelay || 45000)\n    this.connected = false\n    this.init()\n  }\n\n  init() {\n    this.subs = [\n      on(this.transport, 'event', evt => this.onevent(evt)),\n      on(this.transport, 'connect', () => this.onconnect()),\n      on(this.transport, 'reconnect', () => this.onreconnect()),\n      on(this.transport, 'connected', state => this.emit('connected', state)),\n      on(this, 'ack', evt => this.onack(evt)),\n      on(this, 'err', evt => this.onerror(evt)),\n      on(this, 'batch', evt => this.onbatch(evt)),\n      on(this, 'ca', evt => this.oncancel(evt)),\n      on(this, 'permission-denied', err => this.onpermissiondenied(err))\n    ]\n  }\n\n  close() {\n    logger('close request')\n    this.subs.forEach(sub => sub.off())\n    this.nooptimer.stop()\n    this.transport.disconnect()\n  }\n\n  onevent(evt) {\n    const key = Object.keys(evt)[0]\n    key !== 'val'\n      ? logger('received event %s - %o', key, evt)\n      : logger('received event %s', key)\n    this.emit(key, evt[key])\n    this.nooptimer.reset()\n  }\n\n  onconnect() {\n    logger('onconnect')\n    this.send(events.con(this.conId))\n    if (this.authEvent) {\n      this.send(this.authEvent)\n    }\n    this.subscriptions.forEach(sub => {\n      sub.subscribed = false\n      this.send(sub.evt)\n    })\n    this.fetches.forEach(ftc => {\n      ftc.acked = false\n      this.send(ftc.evt)\n    })\n    this.flush()\n    this.channels.connect()\n    this.connected = true\n  }\n\n  onreconnect() {\n    logger('onreconnect')\n    if (!this.connected) {\n      this.onconnect()\n      return\n    }\n    this.send(events.rec(this.conId))\n    this.subscriptions.forEach(sub => {\n      if (!sub.subscribed) {\n        this.send(sub.evt)\n      }\n    })\n    this.fetches.forEach(ftc => {\n      if (!ftc.acked) {\n        this.send(ftc.evt)\n      }\n    })\n    this.flush()\n    this.channels.reconnect()\n  }\n\n  onack(evt) {\n    const evtId = evt['evt-id']\n    const removed = this.writebuffer.delete(evtId)\n    if (removed) {\n      return\n    }\n\n    for (const [, val] of this.subscriptions) {\n      if (val.evt.sub['evt-id'] === evtId) {\n        val.subscribed = true\n        return\n      }\n    }\n\n    for (const [, val] of this.fetches) {\n      if (val.evt.ftc['evt-id'] === evtId) {\n        val.acked = true\n        return\n      }\n    }\n  }\n\n  onerror(evt) {\n    switch (evt['err-type']) {\n      case 'connection-terminated':\n        return this.onconnect() // reconnected, but server does not remember anything\n      case 'invalid-auth-token':\n        return this.emit('invalid-auth-token', evt)\n      case 'permission-denied':\n        return this.emit('permission-denied', evt)\n      case 'etag-conflict':\n        return this.emit('etag-conflict', evt)\n      default: {\n        return logger('unkown server error %o', evt)\n      }\n    }\n  }\n\n  onpermissiondenied(err) {\n    const evtId = err['evt-id']\n\n    for (const [key, val] of this.subscriptions) {\n      if (val.evt.sub['evt-id'] === evtId) {\n        val.cancel(new PermissionError())\n        this.subscriptions.delete(key)\n        return\n      }\n    }\n\n    for (const [key, val] of this.fetches) {\n      if (val.evt.ftc['evt-id'] === evtId) {\n        val.cancel(new PermissionError())\n        this.fetches.delete(key)\n        return\n      }\n    }\n  }\n\n  oncancel(evt) {\n    const evtId = evt['evt-id']\n    const subId = evt['sub-id']\n\n    this.acknowledge(evtId)\n\n    for (const [key, val] of this.subscriptions) {\n      if (val.id === subId) {\n        val.cancel(new SubscriptionError())\n        this.subscriptions.delete(key)\n      }\n    }\n  }\n\n  onbatch(batch) {\n    for (const evt of batch) {\n      if (evt.ca) {\n        this.oncancel(evt.ca)\n      }\n      if (evt.res) {\n        this.emit('res', evt.res)\n      }\n    }\n  }\n\n  flush() {\n    this.writebuffer.forEach(evt => this.send(evt))\n  }\n\n  send(evt) {\n    logger('sending event: %o', jsonprune(evt))\n    if (!evt.nop) {\n      this.nooptimer.reset()\n    }\n    this.transport.send(evt)\n  }\n\n  acknowledge(evtId) {\n    const evt = events.ack(evtId)\n    this.send(evt)\n  }\n\n  noop() {\n    const evt = events.nop()\n    this.send(evt)\n  }\n\n  authorize(authToken) {\n    const evt = events.auth(authToken)\n    const evtId = evt.auth['evt-id']\n    this.authEvent = evt\n    this.send(evt)\n\n    return evtId\n  }\n\n  deauthorize() {\n    const evt = events.deauth()\n    const evtId = evt.deauth['evt-id']\n    this.authEvent = null\n    this.writebuffer.set(evtId, evt)\n    this.send(evt)\n\n    return evtId\n  }\n\n  subscribe(colId, query, onVal, onErr) {\n    query = jsonprune(query)\n\n    const id = JSON.stringify(sortKeys({ colId, query }))\n    let subscription\n\n    if (this.subscriptions.has(id)) {\n      subscription = this.subscriptions.get(id)\n      subscription.addListeners(onVal, onErr)\n    } else {\n      subscription = new Subscription({ io: this, query, onVal, onErr })\n      const evt = events.sub(subscription.id, colId, query)\n      subscription.evt = evt\n      this.subscriptions.set(id, subscription)\n      this.send(evt)\n    }\n\n    return () => {\n      subscription.unsubscribe(onVal, onErr)\n      if (subscription.unsubscribed) {\n        this.unsubscribe(subscription.id)\n        this.subscriptions.delete(id)\n      }\n    }\n  }\n\n  unsubscribe(subId) {\n    const evt = events.uns(subId)\n    const evtId = evt['evt-id']\n\n    this.writebuffer.set(evtId, evt)\n    this.send(evt)\n\n    return evtId\n  }\n\n  fetch(colId, query, onValue, onError) {\n    const evt = events.ftc(colId, query)\n    const evtId = evt.ftc['evt-id']\n\n    const fetch = new Fetch({ connection: this, evt, onValue, onError })\n    this.fetches.set(evtId, fetch)\n\n    this.send(evt)\n\n    return evtId\n  }\n\n  mutate(colId, docId, body, etag) {\n    const evt = events.mut(colId, docId, body, etag)\n    const evtId = evt.mut['evt-id']\n\n    this.writebuffer.set(evtId, evt)\n    this.send(evt)\n\n    return evtId\n  }\n\n  merge(colId, docId, body, etag) {\n    const evt = events.mer(colId, docId, body, etag)\n    const evtId = evt.mer['evt-id']\n\n    this.writebuffer.set(evtId, evt)\n    this.send(evt)\n\n    return evtId\n  }\n\n  delete(colId, docId, etag) {\n    const evt = events.del(colId, docId, etag)\n    const evtId = evt.del['evt-id']\n\n    this.writebuffer.set(evtId, evt)\n    this.send(evt)\n\n    return evtId\n  }\n\n  subscribeChannel(chanId, onvalue, onerror) {\n    return this.channels.subscribe(chanId, onvalue, onerror)\n  }\n\n  publishChannel(chanId, message) {\n    return this.channels.publish(chanId, message)\n  }\n\n  removeChannel(chanId, onvalue, onerror) {\n    return this.channels.remove(chanId, onvalue, onerror)\n  }\n}\n","/**\n * No operation event\n * @return {Object} event\n */\n\nconst nop = () => ({\n  nop: null\n})\n\nexport default nop\n","/**\n * Copyright (c) 2014, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * https://raw.github.com/facebook/regenerator/master/LICENSE file. An\n * additional grant of patent rights can be found in the PATENTS file in\n * the same directory.\n */\n\n!(function(global) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  var inModule = typeof module === \"object\";\n  var runtime = global.regeneratorRuntime;\n  if (runtime) {\n    if (inModule) {\n      // If regeneratorRuntime is defined globally and we're in a module,\n      // make the exports object identical to regeneratorRuntime.\n      module.exports = runtime;\n    }\n    // Don't bother evaluating the rest of this file if the runtime was\n    // already defined globally.\n    return;\n  }\n\n  // Define the runtime globally (as expected by generated code) as either\n  // module.exports (if we're in a module) or a new, empty object.\n  runtime = global.regeneratorRuntime = inModule ? module.exports : {};\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  runtime.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  runtime.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  runtime.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  runtime.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration. If the Promise is rejected, however, the\n          // result for this iteration will be rejected with the same\n          // reason. Note that rejections of yielded Promises are not\n          // thrown back into the generator function, as is the case\n          // when an awaited Promise is rejected. This difference in\n          // behavior between yield and await is important, because it\n          // allows the consumer to decide what to do with the yielded\n          // rejection (swallow it and continue, manually .throw it back\n          // into the generator, abandon iteration, whatever). With\n          // await, by contrast, there is no opportunity to examine the\n          // rejection reason outside the generator function, so the\n          // only option is to throw it from the await expression, and\n          // let the generator function handle the exception.\n          result.value = unwrapped;\n          resolve(result);\n        }, reject);\n      }\n    }\n\n    if (typeof process === \"object\" && process.domain) {\n      invoke = process.domain.bind(invoke);\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  runtime.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  runtime.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return runtime.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        if (delegate.iterator.return) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  runtime.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  runtime.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n})(\n  // Among the various tricks for obtaining a reference to the global\n  // object, this seems to be the most reliable technique that does not\n  // use indirect eval (which violates Content Security Policy).\n  typeof global === \"object\" ? global :\n  typeof window === \"object\" ? window :\n  typeof self === \"object\" ? self : this\n);\n","// This method of obtaining a reference to the global object needs to be\n// kept identical to the way it is obtained in runtime.js\nvar g =\n  typeof global === \"object\" ? global :\n  typeof window === \"object\" ? window :\n  typeof self === \"object\" ? self : this;\n\n// Use `getOwnPropertyNames` because not all browsers support calling\n// `hasOwnProperty` on the global `self` object in a worker. See #183.\nvar hadRuntime = g.regeneratorRuntime &&\n  Object.getOwnPropertyNames(g).indexOf(\"regeneratorRuntime\") >= 0;\n\n// Save the old regeneratorRuntime in case it needs to be restored later.\nvar oldRuntime = hadRuntime && g.regeneratorRuntime;\n\n// Force reevalutation of runtime.js.\ng.regeneratorRuntime = undefined;\n\nmodule.exports = require(\"./runtime\");\n\nif (hadRuntime) {\n  // Restore the original runtime.\n  g.regeneratorRuntime = oldRuntime;\n} else {\n  // Remove the global property added by runtime.js.\n  try {\n    delete g.regeneratorRuntime;\n  } catch(e) {\n    g.regeneratorRuntime = undefined;\n  }\n}\n","module.exports = require(\"regenerator-runtime\");\n","import on from './utils/on'\nimport listen from './utils/listen'\nimport { TimeoutError, PermissionError, EtagConflictError } from './errors'\n\nexport default class Document {\n  constructor(connection, id, colId) {\n    this.connection = connection\n    this.id = id\n    this.colId = colId\n  }\n\n  fetch(onvalue, onerror) {\n    const query = {\n      filter: {\n        and: [{ $id: this.id }]\n      }\n    }\n    const handler = (success, error) => {\n      this.connection.fetch(\n        this.colId,\n        query,\n        docs => success(docs[0] || null),\n        error\n      )\n    }\n    if (onvalue) {\n      return handler(onvalue, onerror)\n    }\n    return new Promise(handler)\n  }\n\n  subscribe(onvalue, onerror) {\n    const query = {\n      filter: {\n        and: [{ $id: this.id }]\n      }\n    }\n    const unsubscribe = this.connection.subscribe(\n      this.colId,\n      query,\n      data => (Array.isArray(data) ? onvalue(data[0] || null) : onvalue(data)),\n      onerror\n    )\n    return { unsubscribe }\n  }\n\n  async execute(handler, callback = () => {}) {\n    const doc = await this.fetch()\n    const body = handler(doc)\n    if (typeof body === 'undefined') {\n      return callback(null, false, null)\n    }\n    try {\n      const etag = doc && { etag: doc.etag }\n      if (body === null) {\n        await this.delete(etag)\n        return callback(null, true, null)\n      }\n      await this.mutate(body, etag)\n      if (!doc) {\n        const newDoc = await this.fetch()\n        return callback(null, true, newDoc)\n      }\n      return callback(null, true, doc)\n    } catch (err) {\n      if (err.type === 'etag-conflict') {\n        return this.execute(handler, callback)\n      }\n      return callback(err, false, null)\n    }\n  }\n\n  mutate(value, callback, opts = {}) {\n    if (typeof callback === 'object') {\n      opts = callback || {}\n      callback = undefined // eslint-disable-line no-undefined\n    }\n    const evtId = this.connection.mutate(this.colId, this.id, value, opts.etag)\n    return this.handleEvent(evtId, callback, opts)\n  }\n\n  merge(value, callback, opts = {}) {\n    if (typeof callback === 'object') {\n      opts = callback || {}\n      callback = undefined // eslint-disable-line no-undefined\n    }\n    const evtId = this.connection.merge(this.colId, this.id, value, opts.etag)\n    return this.handleEvent(evtId, callback, opts)\n  }\n\n  delete(callback, opts = {}) {\n    if (typeof callback === 'object') {\n      opts = callback || {}\n      callback = undefined // eslint-disable-line no-undefined\n    }\n    const evtId = this.connection.delete(this.colId, this.id, opts.etag)\n    return this.handleEvent(evtId, callback, opts)\n  }\n\n  handleEvent(evtId, callback, opts = {}) {\n    const handler = (onSuccess, onError) => {\n      const listeners = listen([\n        on(this.connection, 'ack', ack => {\n          if (ack['evt-id'] === evtId) {\n            listeners.off()\n            onSuccess()\n          }\n        }),\n        on(this.connection, 'permission-denied', err => {\n          if (err['evt-id'] === evtId) {\n            listeners.off()\n            onError(new PermissionError())\n          }\n        }),\n        on(this.connection, 'etag-conflict', err => {\n          if (err['evt-id'] === evtId) {\n            listeners.off()\n            onError(new EtagConflictError())\n          }\n        })\n      ])\n\n      if (opts.timeout) {\n        setTimeout(() => {\n          onError(new TimeoutError(opts.timeout))\n          listeners.off()\n        }, opts.timeout)\n      }\n    }\n\n    if (typeof callback === 'function') {\n      return handler(docs => callback(null, docs), err => callback(err))\n    }\n\n    return new Promise((res, rej) => handler(res, rej))\n  }\n}\n","import shortid from 'shortid'\nimport Document from './document'\nimport checkId from './utils/check-id'\n\nexport default class Collection {\n  constructor(connection, id, query = {}) {\n    this.connection = connection\n    this.id = id\n    this.query = query\n  }\n\n  filter(filter) {\n    if (typeof filter !== 'object') {\n      throw new TypeError('Filter must be an object')\n    }\n    if (this.query.filter) {\n      throw new Error(`Filter is already defined on a collection: ${this.id}`)\n    }\n    return new Collection(this.connection, this.id, { ...this.query, filter })\n  }\n\n  order(order) {\n    if (typeof order !== 'object') {\n      throw new TypeError('Order must be an object')\n    }\n    if (this.query.order) {\n      throw new Error(`Order is already defined on a collection: ${this.id}`)\n    }\n    return new Collection(this.connection, this.id, { ...this.query, order })\n  }\n\n  limit(limit) {\n    if (typeof limit !== 'number') {\n      throw new TypeError('Limit must be a number')\n    }\n    if (this.query.limit) {\n      throw new Error(`Limit is already defined on a collection: ${this.id}`)\n    }\n    return new Collection(this.connection, this.id, { ...this.query, limit })\n  }\n\n  skip(skip) {\n    if (typeof skip !== 'number') {\n      throw new TypeError('Skip must be a number')\n    }\n    if (this.query.skip) {\n      throw new Error(`Skip is already defined on a collection: ${this.id}`)\n    }\n    return new Collection(this.connection, this.id, { ...this.query, skip })\n  }\n\n  fetch(onvalue, onerror) {\n    const handler = (success, error) => {\n      this.connection.fetch(this.id, this.query, success, error)\n    }\n    if (onvalue) {\n      return handler(onvalue, onerror)\n    }\n    return new Promise(handler)\n  }\n\n  subscribe(onvalue, onerror) {\n    const unsubscribe = this.connection.subscribe(\n      this.id,\n      this.query,\n      onvalue,\n      onerror\n    )\n    return { unsubscribe }\n  }\n\n  document(docId) {\n    checkId(docId)\n    return new Document(this.connection, docId, this.id)\n  }\n\n  newDocument() {\n    const docId = shortid.generate()\n    return new Document(this.connection, docId, this.id)\n  }\n}\n","export default class Channel {\n  constructor(connection, id) {\n    this.connection = connection\n    this.id = id\n  }\n\n  subscribe(onvalue, onerror) {\n    const unsubscribe = this.connection.subscribeChannel(\n      this.id,\n      onvalue,\n      onerror\n    )\n    return { unsubscribe }\n  }\n\n  publish(message, callback) {\n    const p = this.connection.publishChannel(this.id, message)\n    if (!callback) {\n      return p\n    }\n    return p.then(callback, callback)\n  }\n\n  unsubscribeAll(callback) {\n    const handler = (onsuccess, onerror) =>\n      this.connection.removeChannel(this.id, onsuccess, onerror)\n\n    if (callback) {\n      return handler(callback, callback)\n    }\n    return new Promise(handler)\n  }\n}\n","import on from './on'\n\n/**\n * Event listener helper\n * @param {EventEmitter} emitter source\n * @param {String} event listen\n * @param {Function} fn callback\n * @return {object} object with a 'off' method to remove listener\n */\n\nexport default (emitter, event, evtId, fn) => {\n  const listener = on(emitter, event, evt => {\n    if (evt['evt-id'] === evtId) {\n      listener.off()\n      fn()\n    }\n  })\n}\n","// import debug from 'debug'\nimport base64 from 'base-64'\nimport Connection from './connection'\nimport Collection from './collection'\nimport Channel from './channel'\nimport { InvalidAuthTokenError } from './errors'\nimport on from './utils/on'\nimport once from './utils/once'\nimport listen from './utils/listen'\nimport checkId from './utils/check-id'\n\n// const logger = debug('rapid:main')\n\nexport default class Rapid {\n  constructor(apiKey) {\n    const url = base64.decode(apiKey)\n    this.connection = new Connection(url)\n    this.connected = false\n    this.connection.on('connected', state => {\n      this.connected = state\n    })\n  }\n\n  collection(id) {\n    checkId(id)\n    return new Collection(this.connection, id)\n  }\n\n  channel(id) {\n    checkId(id)\n    return new Channel(this.connection, id)\n  }\n\n  authorize(authToken, callback) {\n    const evtId = this.connection.authorize(authToken)\n\n    if (callback) {\n      const listeners = listen([\n        on(this.connection, 'invalid-auth-token', err => {\n          if (err['evt-id'] === evtId) {\n            listeners.off()\n            return callback(new InvalidAuthTokenError())\n          }\n        }),\n        on(this.connection, 'ack', ack => {\n          if (ack['evt-id'] === evtId) {\n            listeners.off()\n            return callback()\n          }\n        })\n      ])\n    }\n  }\n\n  deauthorize(callback) {\n    const evtId = this.connection.deauthorize()\n    if (callback) {\n      once(this.connection, 'ack', evtId, callback)\n    }\n  }\n\n  disconnect() {\n    this.connection.close()\n  }\n\n  onConnectionStateChanged(callback) {\n    this.connection.on('connected', state => callback(state))\n  }\n}\n","import Rapid from './rapid'\n\nconst cache = new Map()\n\nconst createClient = apiKey => {\n  if (!apiKey) {\n    throw new TypeError('Please provide a valid API key.')\n  }\n\n  const client = cache.get(apiKey)\n\n  if (!client) {\n    const newClient = new Rapid(apiKey)\n    cache.set(apiKey, newClient)\n    return newClient\n  }\n\n  return client\n}\n\nexport default { createClient, clients: cache }\n"],"names":["getNextValue","seed","setSeed","_seed_","reset","setCharacters","_alphabet_","alphabet","length","ORIGINAL","Error","unique","split","filter","item","ind","arr","lastIndexOf","join","characters","previousSeed","shuffle","characterIndex","sourceArray","targetArray","r","randomFromSeed","nextValue","Math","floor","push","splice","getShuffled","shuffled","lookup","index","randomByte","crypto","getRandomValues","random","dest","Uint8Array","encode","number","done","loopCounter","str","pow","decode","id","indexOf","substr","build","clusterWorkerId","seconds","Date","now","REDUCE_TIME","previousSeconds","version","counter","isShortId","len","i","defaultSetTimout","defaultClearTimeout","runTimeout","fun","cachedSetTimeout","setTimeout","e","call","this","runClearTimeout","marker","cachedClearTimeout","clearTimeout","cleanUpNextTick","draining","currentQueue","concat","queue","drainQueue","timeout","queueIndex","run","nextTick","args","Array","arguments","Item","array","noop","binding","name","cwd","chdir","dir","umask","hrtime","previousTimestamp","clocktime","performanceNow","performance","nanoseconds","uptime","startTime","parse","String","match","exec","n","parseFloat","toLowerCase","y","d","h","m","s","fmtShort","ms","round","fmtLong","plural","ceil","Backoff","opts","min","max","factor","jitter","attempts","error","type","RangeError","errors","map","fn","result","mapDomain","string","parts","replace","regexSeparators","ucs2decode","value","extra","output","charCodeAt","digitToBasic","digit","flag","adapt","delta","numPoints","firstTime","k","damp","baseMinusTMin","tMax","base","skew","input","handledCPCount","basicLength","bias","j","q","t","currentValue","baseMinusT","qMinusT","initialN","initialBias","inputLength","stringFromCharCode","delimiter","maxInt","handledCPCountPlusOne","tMin","toASCII","regexNonASCII","test","init","code","toByteArray","b64","inited","l","tmp","placeHolders","Arr","L","revLookup","tripletToBase64","num","encodeChunk","uint8","start","end","fromByteArray","extraBytes","len2","read","buffer","offset","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","Infinity","write","c","rt","abs","isNaN","log","LN2","kMaxLength","Buffer","TYPED_ARRAY_SUPPORT","createBuffer","that","__proto__","prototype","arg","encodingOrOffset","allocUnsafe","from","TypeError","ArrayBuffer","fromArrayBuffer","fromString","fromObject","assertSize","size","alloc","fill","encoding","undefined","checked","isEncoding","byteLength","actual","slice","fromArrayLike","byteOffset","obj","internalIsBuffer","copy","isnan","isArray","data","toString","b","_isBuffer","isView","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","bidirectionalIndexOf","val","arrayIndexOf","buf","indexSize","readUInt16BE","arrLength","valLength","foundIndex","found","hexWrite","Number","remaining","strLen","parsed","parseInt","utf8Write","blitBuffer","asciiWrite","asciiToBytes","latin1Write","base64Write","ucs2Write","utf16leToBytes","base64","res","firstByte","codePoint","bytesPerSequence","secondByte","thirdByte","fourthByte","tempCodePoint","decodeCodePointsArray","codePoints","MAX_ARGUMENTS_LENGTH","fromCharCode","apply","ret","out","toHex","bytes","checkOffset","ext","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","writeDouble","base64clean","stringtrim","INVALID_BASE64_RE","trim","units","leadSurrogate","byteArray","hi","lo","src","dst","isBuffer","isFastBuffer","isSlowBuffer","constructor","readFloatLE","isNull","isNullOrUndefined","isString","isObject","hasOwnProperty","prop","Object","stringifyPrimitive","v","isFinite","stringify","sep","eq","objectKeys","ks","encodeURIComponent","xs","f","qs","options","regexp","maxKeys","kstr","vstr","x","idx","decodeURIComponent","Url","protocol","slashes","auth","host","port","hostname","hash","search","query","pathname","path","href","urlParse","url","parseQueryString","slashesDenoteHost","u","self","queryIndex","splitter","uSplit","slashRegex","rest","simplePath","simplePathPattern","qsParse","proto","protocolPattern","lowerProto","hostlessProtocol","hec","p","slashedProtocol","hostEnd","hostEndingChars","atSign","nonHostChars","ipv6Hostname","hostparts","part","hostnamePartPattern","newpart","validParts","notHost","bit","hostnamePartStart","unshift","hostnameMaxLen","unsafeProtocol","autoEscape","ae","esc","escape","qm","format","urlFormat","keys","qsStringify","charAt","urlResolve","source","relative","resolve","urlResolveObject","resolveObject","parseHost","portPattern","o","to","key","checkDataType","dataType","negate","EQUAL","AND","OK","NOT","checkDataTypes","dataTypes","types","toHash","object","null","integer","coerceToTypes","optionCoerceTypes","COERCE_TO_TYPES","getProperty","IDENTIFIER","escapeQuotes","SINGLE_QUOTE","varOccurences","dataVar","matches","RegExp","varReplace","expr","cleanUpCode","EMPTY_ELSE","EMPTY_IF_NO_ELSE","EMPTY_IF_WITH_ELSE","finalCleanUpCode","async","ERRORS_REGEXP","REMOVE_ERRORS_ASYNC","RETURN_ASYNC","RETURN_DATA_ASYNC","REMOVE_ERRORS","RETURN_VALID","RETURN_TRUE","ROOTDATA_REGEXP","REMOVE_ROOTDATA","schemaHasRules","schema","rules","schemaHasRulesExcept","exceptKeyword","toQuotedString","getPathExpr","currentPath","jsonPointers","isNumber","joinPaths","getPath","escapeJsonPointer","getData","$data","lvl","paths","up","jsonPointer","JSON_POINTER","RELATIVE_JSON_POINTER","segments","segment","unescapeJsonPointer","a","unescapeFragment","escapeFragment","SchemaObject","compile","root","ref","refVal","_refs","_schemas","inlineRef","_opts","inlineRefs","validate","_compile","baseId","resolveSchema","refPath","_getFullPath","getFullPath","_getId","normalizeId","resolveRecursive","getJsonPointer","parsedRef","resolveUrl","util","PREVENT_SCOPE_CHANGE","$ref","limit","checkNoRef","countKeys","count","SIMPLE_INLINED","normalize","protocolSeparator","TRAILING_SLASH_HASH","resolveIds","_resolveIds","fullPath","equal","localRefs","ValidationError","message","ajv","validation","MissingRefError","missingRef","missingSchema","errorSubclass","Subclass","create","quote","lastIndex","escapable","meta","holder","partial","mind","gap","toJSON","rep","indent","co","gen","ctx","Promise","reject","onFulfilled","next","onRejected","err","throw","toPromise","isPromise","then","isGeneratorFunction","isGenerator","thunkToPromise","arrayToPromise","objectToPromise","all","results","promises","promise","displayName","callValidate","compilation","localCompile","_schema","_root","isRoot","$async","sourceCode","validateGenerator","errorClasses","MissingRef","RULES","resolveRef","usePattern","useDefault","useCustomRule","formats","vars","refValCode","patterns","patternCode","defaults","defaultCode","customRules","customRuleCode","processCode","Function","ucs2length","refs","_refVal","refCode","refIndex","resolvedRef","rootRefId","addLocalRef","localSchema","refId","replaceLocalRef","inline","regexStr","patternsHash","valueStr","stableStringify","defaultsHash","rule","parentSchema","it","validateSchema","definition","errorsText","console","macro","keyword","checkCompiling","_compilations","compiling","_formats","cv","compIndex","endCompiling","statement","mode","date","DATE","month","day","DAYS","time","full","TIME","hour","minute","second","timeZone","date_time","dateTime","DATE_TIME_SEPARATOR","HOSTNAME","uri","NOT_URI_FRAGMENT","URI","regex","Z_ANCHOR","compileAsync","callback","loadMetaSchemaOf","sch","$schema","getSchema","_compileAsync","schemaObj","removePromise","_loadingSchemas","added","schemaPromise","loadSchema","addSchema","_addSchema","addKeyword","_addRule","ruleGroup","rg","implements","custom","keywords","valid","metaSchema","getKeyword","removeKeyword","Ajv","_fragments","schemaUriFormat","_schemaUriFormat","_schemaUriFormatFunc","_cache","cache","Cache","chooseGetId","loopRequired","errorDataPath","_errorDataPathProperty","serialize","_metaOpts","getMetaSchemaOptions","addInitialFormats","babelHelpers.typeof","addMetaSchema","patternGroups","schemaKeyRef","_meta","_skipValidation","skipValidation","throwOrLogError","defaultMeta","warn","currentUriFormat","META_SCHEMA_ID","keyRef","_getSchemaObj","_getSchemaFragment","compileSchema","removeSchema","clear","del","cacheKey","_removeAllSchemas","schemas","shouldAddSchema","cached","get","addUsedSchema","checkUnique","recursiveMeta","willValidate","ids","put","_validate","currentOpts","schemaId","_get$Id","_get$IdOrId","$id","separator","text","dataPath","addFormat","addDraft6MetaSchema","$dataSchema","require$$1","require$$2","$dataMetaSchema","META_SUPPORT_DATA","addInitialSchemas","optsSchemas","metaOpts","META_IGNORE_OPTIONS","isEmpty","checkId","InvalidIdError","freeExports","exports","freeModule","module","freeGlobal","global","window","InvalidCharacterError","TABLE","REGEX_SPACE_CHARACTERS","padding","position","bitStorage","bitCounter","nodeType","Emitter","mixin","on","addEventListener","event","_callbacks","once","off","removeListener","removeAllListeners","removeEventListener","callbacks","cb","emit","listeners","hasListeners","msCrypto","seedValue","worker","workerId","newCharacters","generate","isValid","env","argv","versions","release","config","addListener","mozNow","msNow","oNow","webkitNow","getTime","long","JSON","selectColor","namespace","colors","createDebug","debug","enabled","curr","prevTime","diff","prev","coerce","formatter","formatters","formatArgs","bind","useColors","color","enable","namespaces","save","skips","names","disable","stack","require$$0","process","document","documentElement","style","WebkitAppearance","firebug","exception","table","navigator","userAgent","$1","humanize","lastC","storage","removeItem","load","DEBUG","chrome","local","localStorage","getPrototypeOf","isPlainObj","deep","seenInput","seenOutput","sortKeys","seenIndex","sort","compare","retArr","duration","rand","deviation","poolSize","_augment","Symbol","species","allocUnsafeSlow","list","pos","swap16","swap32","swap64","equals","inspect","target","thisStart","thisEnd","thisCopy","targetCopy","includes","_arr","newBuf","subarray","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","ieee754","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","set","delims","unwise","rel","tkeys","tk","tkey","rkeys","rk","rkey","relPath","shift","isSourceAbs","isRelAbs","mustEndAbs","removeAllDots","srcPath","psychotic","authInHost","pop","last","hasTrailingSlash","isAbsolute","arrA","arrB","dateA","dateB","regexpA","regexpB","at","ch","escapee","hex","uffff","white","word","reviver","walk","replacer","space","json","cmp","cycles","node","aobj","bobj","seen","parent","level","colonSeparator","keyValue","has","$keyword","$ruleType","$shouldUseRule","$rule","$ruleImlementsSomeKeyword","impl","$refKeywords","isTop","$es7","yieldAwait","$lvl","$dataLvl","dataLevel","$schemaPath","schemaPath","$errSchemaPath","errSchemaPath","$breakOnError","allErrors","$valid","$$outStack","createErrors","$errorKeyword","errorPath","messages","verbose","__err","compositeRule","$top","rootId","dataPathArr","$closingBraces1","$closingBraces2","$typeSchema","$typeIsArray","coerceTypes","$coerceToTypes","$method","$dataType","$coerced","$bracesCoercion","arr1","$type","$i","l1","$parentData","$parentDataProperty","extendRefs","v5","arr2","$rulesGroup","i2","l2","useDefaults","properties","arr3","$propertyKey","i3","l3","$sch","default","$passData","items","arr4","l4","arr5","i5","l5","$code","$typeChecked","wrap","createPromise","__generatorFunction__","Validation","URIREF","URITEMPLATE","URL","UUID","fast","$schemaValue","$isData","$isMax","$exclusiveKeyword","$schemaExcl","$isDataExcl","$op","$notOp","$schemaValueExcl","$exclusive","$exclType","$exclIsNumber","$opStr","$opExpr","unicode","$refCode","$refVal","$message","missingRefs","$it","$nextValid","passContext","__callValidate","$closingBraces","$currentBaseId","$allSchemasEmpty","$errs","every","$wasComposite","$idx","$dataNxt","$nextData","$nonEmptySchema","$schemaDeps","$propertyDeps","$ownProperties","ownProperties","$property","$deps","$currentErrorPath","$useData","$prop","$propertyPath","$missingProperty","$vSchema","$unknownFormats","unknownFormats","$allowUnknown","$format","$isObject","$formatType","$formatRef","$additionalItems","additionalItems","$currErrSchemaPath","require$$9","require$$10","require$$11","require$$12","multipleOfPrecision","$allErrorsOption","$regexp","$key","$dataProperties","$schemaKeys","$pProperties","patternProperties","$pPropertyKeys","$aProperties","additionalProperties","$someProperties","$noAdditional","$additionalIsSchema","$removeAdditional","removeAdditional","$checkAdditional","$required","required","$requiredHash","$pgProperties","$pgPropertyKeys","i1","$pProperty","$pgProperty","$additionalProperty","$useDefaults","i4","$hasDefault","arr6","i6","l6","$pgSchema","$pgMin","minimum","$pgMax","maximum","$limit","$reason","$moreOrLess","$invalidName","$propertySch","$loopRequired","uniqueItems","require$$21","ALL","KEYWORDS","TYPES","forEach","group","implKeywords","ruleModules","keywordsJsonPointers","metaSchemaRef","$compile","$inline","$macro","$ruleValidate","$validateCode","$definition","$rDef","$validateSchema","$ruleErrs","$ruleErr","$asyncKeyword","statements","def_callRuleValidate","modifying","def_customError","customKeyword","add","remove","valPrimitive","valPrimitiveFilter","order","skip","merge","mutate","ack","nop","con","rec","dis","deauth","mut","mer","da","daCa","pub","ftc","uns","subCh","unsCh","upd","rm","ca","caCh","caDa","mes","reqTs","ts","batch","validator","evt-id","evtId","errType","errMessage","conId","shortid","colId","docId","body","etag","actId","action","ftcId","subId","token","chanId","docs","doc","timestamp","WebSocket","logger","_Emitter","perMessageDeflate","protocols","isUsingBrowserWebSocket","Boolean","BrowserWebSocket","open","wsUrl","ws","NodeWebSocket","addEventListeners","onopen","_this2","onmessage","onclose","onerror","send","readyState","OPEN","close","CONNECTING","emitter","Transport","reconnectDelay","reconnectDelayMax","reconnectAttempts","_EventEmitter","backoff","subs","reconnecting","skipReconnect","connect","cleanup","opensub","errsub","closeSub","jsonprune","_this3","onconnect","reconnect","delay","_this4","onreconnect","_this5","msg","_this6","jsonparse","disconnect","EventEmitter","listener","Subscription","io","onVal","onErr","valueListeners","errorListeners","subscribed","unsubscribed","changes","subscribe","listen","_this","onvalue","onupdate","onbatch","onremove","shouldNotify","evt","notify","acknowledge","update","docIdx","findIndex","updated","checkLimit","removedDoc","removed","current","skey","currentSortkey","nextSortkey","orderObj","crt","overflow","addListeners","unsubscribe","cancel","_evt","authToken","Channel","connection","Map","publish","onack","delete","Channels","channels","oncancel","find","channel","Fetch","onValue","onError","acked","onresult","fetches","Timer","interval","setInterval","stop","param","_Error","TimeoutError","PermissionError","SubscriptionError","EtagConflictError","InvalidAuthTokenError","Connection","transport","authEvent","subscriptions","writebuffer","nooptimer","noopDelay","connected","onevent","state","onpermissiondenied","events","flush","authorize","deauthorize","subscription","fetch","subscribeChannel","publishChannel","removeChannel","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","context","Context","_invoke","makeInvokeMethod","tryCatch","GeneratorFunction","GeneratorFunctionPrototype","defineIteratorMethods","method","AsyncIterator","invoke","record","hasOwn","__await","unwrapped","enqueue","callInvokeWithMethodAndArg","previousPromise","domain","GenStateSuspendedStart","GenStateExecuting","GenStateCompleted","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","GenStateSuspendedYield","iterator","return","info","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","values","iterable","iteratorMethod","iteratorSymbol","Op","$Symbol","toStringTagSymbol","toStringTag","runtime","regeneratorRuntime","IteratorPrototype","getProto","NativeIteratorPrototype","Gp","genFun","ctor","mark","setPrototypeOf","awrap","iter","reverse","skipTempReset","rootRecord","rval","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","thrown","g","hadRuntime","getOwnPropertyNames","oldRuntime","Document","handler","success","execute","newDoc","_context","handleEvent","onSuccess","rej","Collection","newDocument","unsubscribeAll","onsuccess","Rapid","apiKey","collection","onConnectionStateChanged","createClient","client","newClient","clients"],"mappings":"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"}